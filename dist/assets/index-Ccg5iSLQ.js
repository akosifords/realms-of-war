var PS=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports);var oV=PS(hu=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var vm={exports:{}},zl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var U_;function US(){if(U_)return zl;U_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var d in o)d!=="key"&&(u[d]=o[d])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return zl.Fragment=e,zl.jsx=n,zl.jsxs=n,zl}var L_;function LS(){return L_||(L_=1,vm.exports=US()),vm.exports}var x=LS(),_m={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j_;function jS(){if(j_)return Ce;j_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.iterator;function w(k){return k===null||typeof k!="object"?null:(k=T&&k[T]||k["@@iterator"],typeof k=="function"?k:null)}var N={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},P=Object.assign,q={};function O(k,ne,fe){this.props=k,this.context=ne,this.refs=q,this.updater=fe||N}O.prototype.isReactComponent={},O.prototype.setState=function(k,ne){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,ne,"setState")},O.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function G(){}G.prototype=O.prototype;function ee(k,ne,fe){this.props=k,this.context=ne,this.refs=q,this.updater=fe||N}var W=ee.prototype=new G;W.constructor=ee,P(W,O.prototype),W.isPureReactComponent=!0;var de=Array.isArray,le={H:null,A:null,T:null,S:null},ge=Object.prototype.hasOwnProperty;function U(k,ne,fe,oe,ae,Ae){return fe=Ae.ref,{$$typeof:i,type:k,key:ne,ref:fe!==void 0?fe:null,props:Ae}}function R(k,ne){return U(k.type,ne,void 0,void 0,void 0,k.props)}function S(k){return typeof k=="object"&&k!==null&&k.$$typeof===i}function D(k){var ne={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(fe){return ne[fe]})}var M=/\/+/g;function V(k,ne){return typeof k=="object"&&k!==null&&k.key!=null?D(""+k.key):ne.toString(36)}function I(){}function Fe(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(I,I):(k.status="pending",k.then(function(ne){k.status==="pending"&&(k.status="fulfilled",k.value=ne)},function(ne){k.status==="pending"&&(k.status="rejected",k.reason=ne)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function Ge(k,ne,fe,oe,ae){var Ae=typeof k;(Ae==="undefined"||Ae==="boolean")&&(k=null);var Ie=!1;if(k===null)Ie=!0;else switch(Ae){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(k.$$typeof){case i:case e:Ie=!0;break;case E:return Ie=k._init,Ge(Ie(k._payload),ne,fe,oe,ae)}}if(Ie)return ae=ae(k),Ie=oe===""?"."+V(k,0):oe,de(ae)?(fe="",Ie!=null&&(fe=Ie.replace(M,"$&/")+"/"),Ge(ae,ne,fe,"",function(et){return et})):ae!=null&&(S(ae)&&(ae=R(ae,fe+(ae.key==null||k&&k.key===ae.key?"":(""+ae.key).replace(M,"$&/")+"/")+Ie)),ne.push(ae)),1;Ie=0;var lt=oe===""?".":oe+":";if(de(k))for(var je=0;je<k.length;je++)oe=k[je],Ae=lt+V(oe,je),Ie+=Ge(oe,ne,fe,Ae,ae);else if(je=w(k),typeof je=="function")for(k=je.call(k),je=0;!(oe=k.next()).done;)oe=oe.value,Ae=lt+V(oe,je++),Ie+=Ge(oe,ne,fe,Ae,ae);else if(Ae==="object"){if(typeof k.then=="function")return Ge(Fe(k),ne,fe,oe,ae);throw ne=String(k),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function re(k,ne,fe){if(k==null)return k;var oe=[],ae=0;return Ge(k,oe,"","",function(Ae){return ne.call(fe,Ae,ae++)}),oe}function _e(k){if(k._status===-1){var ne=k._result;ne=ne(),ne.then(function(fe){(k._status===0||k._status===-1)&&(k._status=1,k._result=fe)},function(fe){(k._status===0||k._status===-1)&&(k._status=2,k._result=fe)}),k._status===-1&&(k._status=0,k._result=ne)}if(k._status===1)return k._result.default;throw k._result}var pe=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)};function Le(){}return Ce.Children={map:re,forEach:function(k,ne,fe){re(k,function(){ne.apply(this,arguments)},fe)},count:function(k){var ne=0;return re(k,function(){ne++}),ne},toArray:function(k){return re(k,function(ne){return ne})||[]},only:function(k){if(!S(k))throw Error("React.Children.only expected to receive a single React element child.");return k}},Ce.Component=O,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=ee,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le,Ce.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ce.cache=function(k){return function(){return k.apply(null,arguments)}},Ce.cloneElement=function(k,ne,fe){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var oe=P({},k.props),ae=k.key,Ae=void 0;if(ne!=null)for(Ie in ne.ref!==void 0&&(Ae=void 0),ne.key!==void 0&&(ae=""+ne.key),ne)!ge.call(ne,Ie)||Ie==="key"||Ie==="__self"||Ie==="__source"||Ie==="ref"&&ne.ref===void 0||(oe[Ie]=ne[Ie]);var Ie=arguments.length-2;if(Ie===1)oe.children=fe;else if(1<Ie){for(var lt=Array(Ie),je=0;je<Ie;je++)lt[je]=arguments[je+2];oe.children=lt}return U(k.type,ae,void 0,void 0,Ae,oe)},Ce.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:u,_context:k},k},Ce.createElement=function(k,ne,fe){var oe,ae={},Ae=null;if(ne!=null)for(oe in ne.key!==void 0&&(Ae=""+ne.key),ne)ge.call(ne,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ae[oe]=ne[oe]);var Ie=arguments.length-2;if(Ie===1)ae.children=fe;else if(1<Ie){for(var lt=Array(Ie),je=0;je<Ie;je++)lt[je]=arguments[je+2];ae.children=lt}if(k&&k.defaultProps)for(oe in Ie=k.defaultProps,Ie)ae[oe]===void 0&&(ae[oe]=Ie[oe]);return U(k,Ae,void 0,void 0,null,ae)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(k){return{$$typeof:d,render:k}},Ce.isValidElement=S,Ce.lazy=function(k){return{$$typeof:E,_payload:{_status:-1,_result:k},_init:_e}},Ce.memo=function(k,ne){return{$$typeof:g,type:k,compare:ne===void 0?null:ne}},Ce.startTransition=function(k){var ne=le.T,fe={};le.T=fe;try{var oe=k(),ae=le.S;ae!==null&&ae(fe,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(Le,pe)}catch(Ae){pe(Ae)}finally{le.T=ne}},Ce.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()},Ce.use=function(k){return le.H.use(k)},Ce.useActionState=function(k,ne,fe){return le.H.useActionState(k,ne,fe)},Ce.useCallback=function(k,ne){return le.H.useCallback(k,ne)},Ce.useContext=function(k){return le.H.useContext(k)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(k,ne){return le.H.useDeferredValue(k,ne)},Ce.useEffect=function(k,ne){return le.H.useEffect(k,ne)},Ce.useId=function(){return le.H.useId()},Ce.useImperativeHandle=function(k,ne,fe){return le.H.useImperativeHandle(k,ne,fe)},Ce.useInsertionEffect=function(k,ne){return le.H.useInsertionEffect(k,ne)},Ce.useLayoutEffect=function(k,ne){return le.H.useLayoutEffect(k,ne)},Ce.useMemo=function(k,ne){return le.H.useMemo(k,ne)},Ce.useOptimistic=function(k,ne){return le.H.useOptimistic(k,ne)},Ce.useReducer=function(k,ne,fe){return le.H.useReducer(k,ne,fe)},Ce.useRef=function(k){return le.H.useRef(k)},Ce.useState=function(k){return le.H.useState(k)},Ce.useSyncExternalStore=function(k,ne,fe){return le.H.useSyncExternalStore(k,ne,fe)},Ce.useTransition=function(){return le.H.useTransition()},Ce.version="19.0.0",Ce}var z_;function Kn(){return z_||(z_=1,_m.exports=jS()),_m.exports}var z=Kn(),Em={exports:{}},Bl={},Tm={exports:{}},wm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function zS(){return B_||(B_=1,function(i){function e(re,_e){var pe=re.length;re.push(_e);e:for(;0<pe;){var Le=pe-1>>>1,k=re[Le];if(0<o(k,_e))re[Le]=_e,re[pe]=k,pe=Le;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var _e=re[0],pe=re.pop();if(pe!==_e){re[0]=pe;e:for(var Le=0,k=re.length,ne=k>>>1;Le<ne;){var fe=2*(Le+1)-1,oe=re[fe],ae=fe+1,Ae=re[ae];if(0>o(oe,pe))ae<k&&0>o(Ae,oe)?(re[Le]=Ae,re[ae]=pe,Le=ae):(re[Le]=oe,re[fe]=pe,Le=fe);else if(ae<k&&0>o(Ae,pe))re[Le]=Ae,re[ae]=pe,Le=ae;else break e}}return _e}function o(re,_e){var pe=re.sortIndex-_e.sortIndex;return pe!==0?pe:re.id-_e.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,d=h.now();i.unstable_now=function(){return h.now()-d}}var p=[],g=[],E=1,T=null,w=3,N=!1,P=!1,q=!1,O=typeof setTimeout=="function"?setTimeout:null,G=typeof clearTimeout=="function"?clearTimeout:null,ee=typeof setImmediate<"u"?setImmediate:null;function W(re){for(var _e=n(g);_e!==null;){if(_e.callback===null)s(g);else if(_e.startTime<=re)s(g),_e.sortIndex=_e.expirationTime,e(p,_e);else break;_e=n(g)}}function de(re){if(q=!1,W(re),!P)if(n(p)!==null)P=!0,Fe();else{var _e=n(g);_e!==null&&Ge(de,_e.startTime-re)}}var le=!1,ge=-1,U=5,R=-1;function S(){return!(i.unstable_now()-R<U)}function D(){if(le){var re=i.unstable_now();R=re;var _e=!0;try{e:{P=!1,q&&(q=!1,G(ge),ge=-1),N=!0;var pe=w;try{t:{for(W(re),T=n(p);T!==null&&!(T.expirationTime>re&&S());){var Le=T.callback;if(typeof Le=="function"){T.callback=null,w=T.priorityLevel;var k=Le(T.expirationTime<=re);if(re=i.unstable_now(),typeof k=="function"){T.callback=k,W(re),_e=!0;break t}T===n(p)&&s(p),W(re)}else s(p);T=n(p)}if(T!==null)_e=!0;else{var ne=n(g);ne!==null&&Ge(de,ne.startTime-re),_e=!1}}break e}finally{T=null,w=pe,N=!1}_e=void 0}}finally{_e?M():le=!1}}}var M;if(typeof ee=="function")M=function(){ee(D)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,I=V.port2;V.port1.onmessage=D,M=function(){I.postMessage(null)}}else M=function(){O(D,0)};function Fe(){le||(le=!0,M())}function Ge(re,_e){ge=O(function(){re(i.unstable_now())},_e)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){P||N||(P=!0,Fe())},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return w},i.unstable_getFirstCallbackNode=function(){return n(p)},i.unstable_next=function(re){switch(w){case 1:case 2:case 3:var _e=3;break;default:_e=w}var pe=w;w=_e;try{return re()}finally{w=pe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,_e){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var pe=w;w=re;try{return _e()}finally{w=pe}},i.unstable_scheduleCallback=function(re,_e,pe){var Le=i.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?Le+pe:Le):pe=Le,re){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=pe+k,re={id:E++,callback:_e,priorityLevel:re,startTime:pe,expirationTime:k,sortIndex:-1},pe>Le?(re.sortIndex=pe,e(g,re),n(p)===null&&re===n(g)&&(q?(G(ge),ge=-1):q=!0,Ge(de,pe-Le))):(re.sortIndex=k,e(p,re),P||N||(P=!0,Fe())),re},i.unstable_shouldYield=S,i.unstable_wrapCallback=function(re){var _e=w;return function(){var pe=w;w=_e;try{return re.apply(this,arguments)}finally{w=pe}}}}(wm)),wm}var q_;function BS(){return q_||(q_=1,Tm.exports=zS()),Tm.exports}var bm={exports:{}},Zt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function qS(){if(H_)return Zt;H_=1;var i=Kn();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:T==null?null:""+T,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Zt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Zt.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},Zt.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},Zt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Zt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Zt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin),w=typeof g.integrity=="string"?g.integrity:void 0,N=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:T,integrity:w,fetchPriority:N}):E==="script"&&s.d.X(p,{crossOrigin:T,integrity:w,fetchPriority:N,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Zt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=d(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Zt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,T=d(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Zt.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=d(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Zt.requestFormReset=function(p){s.d.r(p)},Zt.unstable_batchedUpdates=function(p,g){return p(g)},Zt.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},Zt.useFormStatus=function(){return h.H.useHostTransitionStatus()},Zt.version="19.0.0",Zt}var F_;function HS(){if(F_)return bm.exports;F_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),bm.exports=qS(),bm.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function FS(){if(G_)return Bl;G_=1;var i=BS(),e=Kn(),n=HS();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}var u=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),d=Symbol.for("react.portal"),p=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),N=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),G=Symbol.for("react.memo"),ee=Symbol.for("react.lazy"),W=Symbol.for("react.offscreen"),de=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function ge(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var U=Symbol.for("react.client.reference");function R(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===U?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case p:return"Fragment";case d:return"Portal";case E:return"Profiler";case g:return"StrictMode";case q:return"Suspense";case O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Provider";case w:return(t._context.displayName||"Context")+".Consumer";case P:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case G:return r=t.displayName||null,r!==null?r:R(t.type)||"Memo";case ee:r=t._payload,t=t._init;try{return R(t(r))}catch{}}return null}var S=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=Object.assign,M,V;function I(t){if(M===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);M=r&&r[1]||"",V=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+M+t+V}var Fe=!1;function Ge(t,r){if(!t||Fe)return"";Fe=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(Q){var $=Q}Reflect.construct(t,[],te)}else{try{te.call()}catch(Q){$=Q}t.call(te.prototype)}}else{try{throw Error()}catch(Q){$=Q}(te=t())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(Q){if(Q&&$&&typeof Q.stack=="string")return[Q.stack,$.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=l.DetermineComponentFrameRoot(),_=m[0],b=m[1];if(_&&b){var C=_.split(`
`),j=b.split(`
`);for(f=l=0;l<C.length&&!C[l].includes("DetermineComponentFrameRoot");)l++;for(;f<j.length&&!j[f].includes("DetermineComponentFrameRoot");)f++;if(l===C.length||f===j.length)for(l=C.length-1,f=j.length-1;1<=l&&0<=f&&C[l]!==j[f];)f--;for(;1<=l&&0<=f;l--,f--)if(C[l]!==j[f]){if(l!==1||f!==1)do if(l--,f--,0>f||C[l]!==j[f]){var Y=`
`+C[l].replace(" at new "," at ");return t.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",t.displayName)),Y}while(1<=l&&0<=f);break}}}finally{Fe=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?I(a):""}function re(t){switch(t.tag){case 26:case 27:case 5:return I(t.type);case 16:return I("Lazy");case 13:return I("Suspense");case 19:return I("SuspenseList");case 0:case 15:return t=Ge(t.type,!1),t;case 11:return t=Ge(t.type.render,!1),t;case 1:return t=Ge(t.type,!0),t;default:return""}}function _e(t){try{var r="";do r+=re(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function pe(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function Le(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function k(t){if(pe(t)!==t)throw Error(s(188))}function ne(t){var r=t.alternate;if(!r){if(r=pe(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var m=f.alternate;if(m===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===a)return k(f),t;if(m===l)return k(f),r;m=m.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=m;else{for(var _=!1,b=f.child;b;){if(b===a){_=!0,a=f,l=m;break}if(b===l){_=!0,l=f,a=m;break}b=b.sibling}if(!_){for(b=m.child;b;){if(b===a){_=!0,a=m,l=f;break}if(b===l){_=!0,l=m,a=f;break}b=b.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function fe(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=fe(t),r!==null)return r;t=t.sibling}return null}var oe=Array.isArray,ae=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ae={pending:!1,data:null,method:null,action:null},Ie=[],lt=-1;function je(t){return{current:t}}function et(t){0>lt||(t.current=Ie[lt],Ie[lt]=null,lt--)}function ie(t,r){lt++,Ie[lt]=t.current,t.current=r}var we=je(null),Ne=je(null),it=je(null),yt=je(null);function at(t,r){switch(ie(it,r),ie(Ne,t),ie(we,null),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)&&(r=r.namespaceURI)?f_(r):0;break;default:if(t=t===8?r.parentNode:r,r=t.tagName,t=t.namespaceURI)t=f_(t),r=d_(t,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}et(we),ie(we,r)}function Di(){et(we),et(Ne),et(it)}function ko(t){t.memoizedState!==null&&ie(yt,t);var r=we.current,a=d_(r,t.type);r!==a&&(ie(Ne,t),ie(we,a))}function ga(t){Ne.current===t&&(et(we),et(Ne)),yt.current===t&&(et(yt),kl._currentValue=Ae)}var ya=Object.prototype.hasOwnProperty,Ts=i.unstable_scheduleCallback,va=i.unstable_cancelCallback,Ef=i.unstable_shouldYield,Po=i.unstable_requestPaint,cn=i.unstable_now,Pu=i.unstable_getCurrentPriorityLevel,xt=i.unstable_ImmediatePriority,kt=i.unstable_UserBlockingPriority,Oi=i.unstable_NormalPriority,Uu=i.unstable_LowPriority,Uo=i.unstable_IdlePriority,Tf=i.log,ws=i.unstable_setDisableYieldValue,_r=null,Xt=null;function Lo(t){if(Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(_r,t,void 0,(t.current.flags&128)===128)}catch{}}function oi(t){if(typeof Tf=="function"&&ws(t),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(_r,t)}catch{}}var sn=Math.clz32?Math.clz32:ju,jo=Math.log,Lu=Math.LN2;function ju(t){return t>>>=0,t===0?32:31-(jo(t)/Lu|0)|0}var li=128,Er=4194304;function Yn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Rn(t,r){var a=t.pendingLanes;if(a===0)return 0;var l=0,f=t.suspendedLanes,m=t.pingedLanes,_=t.warmLanes;t=t.finishedLanes!==0;var b=a&134217727;return b!==0?(a=b&~f,a!==0?l=Yn(a):(m&=b,m!==0?l=Yn(m):t||(_=b&~_,_!==0&&(l=Yn(_))))):(b=a&~f,b!==0?l=Yn(b):m!==0?l=Yn(m):t||(_=a&~_,_!==0&&(l=Yn(_)))),l===0?0:r!==0&&r!==l&&(r&f)===0&&(f=l&-l,_=r&-r,f>=_||f===32&&(_&4194176)!==0)?r:l}function Tr(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function _a(t,r){switch(t){case 1:case 2:case 4:case 8:return r+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zo(){var t=li;return li<<=1,(li&4194176)===0&&(li=128),t}function wr(){var t=Er;return Er<<=1,(Er&62914560)===0&&(Er=4194304),t}function Ea(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function vt(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function zu(t,r,a,l,f,m){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var b=t.entanglements,C=t.expirationTimes,j=t.hiddenUpdates;for(a=_&~a;0<a;){var Y=31-sn(a),te=1<<Y;b[Y]=0,C[Y]=-1;var $=j[Y];if($!==null)for(j[Y]=null,Y=0;Y<$.length;Y++){var Q=$[Y];Q!==null&&(Q.lane&=-536870913)}a&=~te}l!==0&&br(t,l,0),m!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=m&~(_&~r))}function br(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-sn(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194218}function Ar(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-sn(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function Bu(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function qu(){var t=ae.p;return t!==0?t:(t=window.event,t===void 0?32:D_(t.type))}function Sr(t,r){var a=ae.p;try{return ae.p=t,r()}finally{ae.p=a}}var ui=Math.random().toString(36).slice(2),Pt="__reactFiber$"+ui,It="__reactProps$"+ui,Mi="__reactContainer$"+ui,bs="__reactEvents$"+ui,Ta="__reactListeners$"+ui,ci="__reactHandles$"+ui,Bo="__reactResources$"+ui,Rr="__reactMarker$"+ui;function As(t){delete t[Pt],delete t[It],delete t[bs],delete t[Ta],delete t[ci]}function Xn(t){var r=t[Pt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[Mi]||a[Pt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=g_(t);t!==null;){if(a=t[Pt])return a;t=g_(t)}return r}t=a,a=t.parentNode}return null}function Vi(t){if(t=t[Pt]||t[Mi]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function xr(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function Ir(t){var r=t[Bo];return r||(r=t[Bo]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ut(t){t[Rr]=!0}var qo=new Set,wa={};function yn(t,r){hn(t,r),hn(t+"Capture",r)}function hn(t,r){for(wa[t]=r,t=0;t<r.length;t++)qo.add(r[t])}var vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wf=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ho={},Fo={};function Hu(t){return ya.call(Fo,t)?!0:ya.call(Ho,t)?!1:wf.test(t)?Fo[t]=!0:(Ho[t]=!0,!1)}function Cr(t,r,a){if(Hu(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function Nr(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function xn(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}function an(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Fu(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function bf(t){var r=Fu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,m=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,m.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Ss(t){t._valueTracker||(t._valueTracker=bf(t))}function Go(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Fu(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function ba(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var ki=/[\n"\\]/g;function dt(t){return t.replace(ki,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Dr(t,r,a,l,f,m,_,b){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+an(r)):t.value!==""+an(r)&&(t.value=""+an(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Aa(t,_,an(r)):a!=null?Aa(t,_,an(a)):l!=null&&t.removeAttribute("value"),f==null&&m!=null&&(t.defaultChecked=!!m),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.name=""+an(b):t.removeAttribute("name")}function Rs(t,r,a,l,f,m,_,b){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(t.type=m),r!=null||a!=null){if(!(m!=="submit"&&m!=="reset"||r!=null))return;a=a!=null?""+an(a):"",r=r!=null?""+an(r):a,b||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=b?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Aa(t,r,a){r==="number"&&ba(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function $e(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+an(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function xs(t,r,a){if(r!=null&&(r=""+an(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+an(a):""}function Or(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(oe(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=an(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var Af=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function $o(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||Af.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Gu(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&$o(t,f,l)}else for(var m in r)r.hasOwnProperty(m)&&$o(t,m,r[m])}function Ko(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Rf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function hi(t){return Rf.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var Cn=null;function Sa(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Pi=null,Ui=null;function Li(t){var r=Vi(t);if(r&&(t=r.stateNode)){var a=t[It]||null;e:switch(t=r.stateNode,r.type){case"input":if(Dr(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[It]||null;if(!f)throw Error(s(90));Dr(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Go(l)}break e;case"textarea":xs(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&$e(t,!!a.multiple,r,!1)}}}var Qo=!1;function $u(t,r,a){if(Qo)return t(r,a);Qo=!0;try{var l=t(r);return l}finally{if(Qo=!1,(Pi!==null||Ui!==null)&&(Uc(),Pi&&(r=Pi,t=Ui,Ui=Pi=null,Li(r),t)))for(r=0;r<t.length;r++)Li(t[r])}}function Is(t,r){var a=t.stateNode;if(a===null)return null;var l=a[It]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Nn=!1;if(vn)try{var Cs={};Object.defineProperty(Cs,"passive",{get:function(){Nn=!0}}),window.addEventListener("test",Cs,Cs),window.removeEventListener("test",Cs,Cs)}catch{Nn=!1}var fi=null,Mr=null,ji=null;function Yo(){if(ji)return ji;var t,r=Mr,a=r.length,l,f="value"in fi?fi.value:fi.textContent,m=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[m-l];l++);return ji=f.slice(t,1<l?1-l:void 0)}function di(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function mi(){return!0}function Xo(){return!1}function Ut(t){function r(a,l,f,m,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var b in t)t.hasOwnProperty(b)&&(a=t[b],this[b]=a?a(m):m[b]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?mi:Xo,this.isPropagationStopped=Xo,this}return D(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=mi)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=mi)},persist:function(){},isPersistent:mi}),r}var Ye={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ra=Ut(Ye),Ns=D({},Ye,{view:0,detail:0}),Ku=Ut(Ns),xa,Ia,pi,Ds=D({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==pi&&(pi&&t.type==="mousemove"?(xa=t.screenX-pi.screenX,Ia=t.screenY-pi.screenY):Ia=xa=0,pi=t),xa)},movementY:function(t){return"movementY"in t?t.movementY:Ia}}),Dn=Ut(Ds),Qu=D({},Ds,{dataTransfer:0}),xf=Ut(Qu),Os=D({},Ns,{relatedTarget:0}),Ca=Ut(Os),Wo=D({},Ye,{animationName:0,elapsedTime:0,pseudoElement:0}),Na=Ut(Wo),Yu=D({},Ye,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Da=Ut(Yu),If=D({},Ye,{data:0}),Zo=Ut(If),Ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jo(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Wu[t])?!!r[t]:!1}function Vs(){return Jo}var Zu=D({},Ns,{key:function(t){if(t.key){var r=Ms[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=di(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(t){return t.type==="keypress"?di(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?di(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Oa=Ut(Zu),Ju=D({},Ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),el=Ut(Ju),zi=D({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),ec=Ut(zi),tc=D({},Ye,{propertyName:0,elapsedTime:0,pseudoElement:0}),nc=Ut(tc),ic=D({},Ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ma=Ut(ic),on=D({},Ye,{newState:0,oldState:0}),rc=Ut(on),sc=[9,13,27,32],gi=vn&&"CompositionEvent"in window,c=null;vn&&"documentMode"in document&&(c=document.documentMode);var y=vn&&"TextEvent"in window&&!c,v=vn&&(!gi||c&&8<c&&11>=c),A=" ",H=!1;function K(t,r){switch(t){case"keyup":return sc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ze=!1;function Ct(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(H=!0,A);case"textInput":return t=r.data,t===A&&H?null:t;default:return null}}function Be(t,r){if(ze)return t==="compositionend"||!gi&&K(t,r)?(t=Yo(),ji=Mr=fi=null,ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var Lt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nt(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Lt[t.type]:r==="textarea"}function Bi(t,r,a,l){Pi?Ui?Ui.push(l):Ui=[l]:Pi=l,r=qc(r,"onChange"),0<r.length&&(a=new Ra("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var Ht=null,yi=null;function tl(t){o_(t,0)}function ac(t){var r=xr(t);if(Go(r))return t}function Pg(t,r){if(t==="change")return r}var Ug=!1;if(vn){var Cf;if(vn){var Nf="oninput"in document;if(!Nf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Nf=typeof Lg.oninput=="function"}Cf=Nf}else Cf=!1;Ug=Cf&&(!document.documentMode||9<document.documentMode)}function jg(){Ht&&(Ht.detachEvent("onpropertychange",zg),yi=Ht=null)}function zg(t){if(t.propertyName==="value"&&ac(yi)){var r=[];Bi(r,yi,t,Sa(t)),$u(tl,r)}}function fA(t,r,a){t==="focusin"?(jg(),Ht=r,yi=a,Ht.attachEvent("onpropertychange",zg)):t==="focusout"&&jg()}function dA(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ac(yi)}function mA(t,r){if(t==="click")return ac(r)}function pA(t,r){if(t==="input"||t==="change")return ac(r)}function gA(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:gA;function nl(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ya.call(r,f)||!_n(t[f],r[f]))return!1}return!0}function Bg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function qg(t,r){var a=Bg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bg(a)}}function Hg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Hg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Fg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=ba(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=ba(t.document)}return r}function Df(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function yA(t,r){var a=Fg(r);r=t.focusedElem;var l=t.selectionRange;if(a!==r&&r&&r.ownerDocument&&Hg(r.ownerDocument.documentElement,r)){if(l!==null&&Df(r)){if(t=l.start,a=l.end,a===void 0&&(a=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(a,r.value.length);else if(a=(t=r.ownerDocument||document)&&t.defaultView||window,a.getSelection){a=a.getSelection();var f=r.textContent.length,m=Math.min(l.start,f);l=l.end===void 0?m:Math.min(l.end,f),!a.extend&&m>l&&(f=l,l=m,m=f),f=qg(r,m);var _=qg(r,l);f&&_&&(a.rangeCount!==1||a.anchorNode!==f.node||a.anchorOffset!==f.offset||a.focusNode!==_.node||a.focusOffset!==_.offset)&&(t=t.createRange(),t.setStart(f.node,f.offset),a.removeAllRanges(),m>l?(a.addRange(t),a.extend(_.node,_.offset)):(t.setEnd(_.node,_.offset),a.addRange(t)))}}for(t=[],a=r;a=a.parentNode;)a.nodeType===1&&t.push({element:a,left:a.scrollLeft,top:a.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)a=t[r],a.element.scrollLeft=a.left,a.element.scrollTop=a.top}}var vA=vn&&"documentMode"in document&&11>=document.documentMode,Va=null,Of=null,il=null,Mf=!1;function Gg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Mf||Va==null||Va!==ba(l)||(l=Va,"selectionStart"in l&&Df(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),il&&nl(il,l)||(il=l,l=qc(Of,"onSelect"),0<l.length&&(r=new Ra("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Va)))}function ks(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var ka={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionrun:ks("Transition","TransitionRun"),transitionstart:ks("Transition","TransitionStart"),transitioncancel:ks("Transition","TransitionCancel"),transitionend:ks("Transition","TransitionEnd")},Vf={},$g={};vn&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Ps(t){if(Vf[t])return Vf[t];if(!ka[t])return t;var r=ka[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in $g)return Vf[t]=r[a];return t}var Kg=Ps("animationend"),Qg=Ps("animationiteration"),Yg=Ps("animationstart"),_A=Ps("transitionrun"),EA=Ps("transitionstart"),TA=Ps("transitioncancel"),Xg=Ps("transitionend"),Wg=new Map,Zg="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Wn(t,r){Wg.set(t,r),yn(r,[t])}var On=[],Pa=0,kf=0;function oc(){for(var t=Pa,r=kf=Pa=0;r<t;){var a=On[r];On[r++]=null;var l=On[r];On[r++]=null;var f=On[r];On[r++]=null;var m=On[r];if(On[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}m!==0&&Jg(a,f,m)}}function lc(t,r,a,l){On[Pa++]=t,On[Pa++]=r,On[Pa++]=a,On[Pa++]=l,kf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Pf(t,r,a,l){return lc(t,r,a,l),uc(t)}function Vr(t,r){return lc(t,null,null,r),uc(t)}function Jg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,m=t.return;m!==null;)m.childLanes|=a,l=m.alternate,l!==null&&(l.childLanes|=a),m.tag===22&&(t=m.stateNode,t===null||t._visibility&1||(f=!0)),t=m,m=m.return;f&&r!==null&&t.tag===3&&(m=t.stateNode,f=31-sn(a),m=m.hiddenUpdates,t=m[f],t===null?m[f]=[r]:t.push(r),r.lane=a|536870912)}function uc(t){if(50<Il)throw Il=0,qd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var Ua={},ey=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var a=ey.get(t);return a!==void 0?a:(r={value:t,source:r,stack:_e(r)},ey.set(t,r),r)}return{value:t,source:r,stack:_e(r)}}var La=[],ja=0,cc=null,hc=0,Vn=[],kn=0,Us=null,qi=1,Hi="";function Ls(t,r){La[ja++]=hc,La[ja++]=cc,cc=t,hc=r}function ty(t,r,a){Vn[kn++]=qi,Vn[kn++]=Hi,Vn[kn++]=Us,Us=t;var l=qi;t=Hi;var f=32-sn(l)-1;l&=~(1<<f),a+=1;var m=32-sn(r)+f;if(30<m){var _=f-f%5;m=(l&(1<<_)-1).toString(32),l>>=_,f-=_,qi=1<<32-sn(r)+f|a<<f|l,Hi=m+t}else qi=1<<m|a<<f|l,Hi=t}function Uf(t){t.return!==null&&(Ls(t,1),ty(t,1,0))}function Lf(t){for(;t===cc;)cc=La[--ja],La[ja]=null,hc=La[--ja],La[ja]=null;for(;t===Us;)Us=Vn[--kn],Vn[kn]=null,Hi=Vn[--kn],Vn[kn]=null,qi=Vn[--kn],Vn[kn]=null}var ln=null,Ft=null,Ke=!1,Zn=null,vi=!1,jf=Error(s(519));function js(t){var r=Error(s(418,""));throw al(Mn(r,t)),jf}function ny(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Pt]=t,r[It]=l,a){case"dialog":Ue("cancel",r),Ue("close",r);break;case"iframe":case"object":case"embed":Ue("load",r);break;case"video":case"audio":for(a=0;a<Nl.length;a++)Ue(Nl[a],r);break;case"source":Ue("error",r);break;case"img":case"image":case"link":Ue("error",r),Ue("load",r);break;case"details":Ue("toggle",r);break;case"input":Ue("invalid",r),Rs(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ss(r);break;case"select":Ue("invalid",r);break;case"textarea":Ue("invalid",r),Or(r,l.value,l.defaultValue,l.children),Ss(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||h_(r.textContent,a)?(l.popover!=null&&(Ue("beforetoggle",r),Ue("toggle",r)),l.onScroll!=null&&Ue("scroll",r),l.onScrollEnd!=null&&Ue("scrollend",r),l.onClick!=null&&(r.onclick=Hc),r=!0):r=!1,r||js(t)}function iy(t){for(ln=t.return;ln;)switch(ln.tag){case 3:case 27:vi=!0;return;case 5:case 13:vi=!1;return;default:ln=ln.return}}function rl(t){if(t!==ln)return!1;if(!Ke)return iy(t),Ke=!0,!1;var r=!1,a;if((a=t.tag!==3&&t.tag!==27)&&((a=t.tag===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||sm(t.type,t.memoizedProps)),a=!a),a&&(r=!0),r&&Ft&&js(t),iy(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){Ft=ei(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}Ft=null}}else Ft=ln?ei(t.stateNode.nextSibling):null;return!0}function sl(){Ft=ln=null,Ke=!1}function al(t){Zn===null?Zn=[t]:Zn.push(t)}var ol=Error(s(460)),ry=Error(s(474)),zf={then:function(){}};function sy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function fc(){}function ay(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(fc,fc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===ol?Error(s(483)):t;default:if(typeof r.status=="string")r.then(fc,fc);else{if(t=tt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,t===ol?Error(s(483)):t}throw ll=r,ol}}var ll=null;function oy(){if(ll===null)throw Error(s(459));var t=ll;return ll=null,t}var za=null,ul=0;function dc(t){var r=ul;return ul+=1,za===null&&(za=[]),ay(za,t,r)}function cl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function mc(t,r){throw r.$$typeof===u?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ly(t){var r=t._init;return r(t._payload)}function uy(t){function r(B,L){if(t){var F=B.deletions;F===null?(B.deletions=[L],B.flags|=16):F.push(L)}}function a(B,L){if(!t)return null;for(;L!==null;)r(B,L),L=L.sibling;return null}function l(B){for(var L=new Map;B!==null;)B.key!==null?L.set(B.key,B):L.set(B.index,B),B=B.sibling;return L}function f(B,L){return B=$r(B,L),B.index=0,B.sibling=null,B}function m(B,L,F){return B.index=F,t?(F=B.alternate,F!==null?(F=F.index,F<L?(B.flags|=33554434,L):F):(B.flags|=33554434,L)):(B.flags|=1048576,L)}function _(B){return t&&B.alternate===null&&(B.flags|=33554434),B}function b(B,L,F,Z){return L===null||L.tag!==6?(L=Vd(F,B.mode,Z),L.return=B,L):(L=f(L,F),L.return=B,L)}function C(B,L,F,Z){var he=F.type;return he===p?Y(B,L,F.props.children,Z,F.key):L!==null&&(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ee&&ly(he)===L.type)?(L=f(L,F.props),cl(L,F),L.return=B,L):(L=Oc(F.type,F.key,F.props,null,B.mode,Z),cl(L,F),L.return=B,L)}function j(B,L,F,Z){return L===null||L.tag!==4||L.stateNode.containerInfo!==F.containerInfo||L.stateNode.implementation!==F.implementation?(L=kd(F,B.mode,Z),L.return=B,L):(L=f(L,F.children||[]),L.return=B,L)}function Y(B,L,F,Z,he){return L===null||L.tag!==7?(L=Ys(F,B.mode,Z,he),L.return=B,L):(L=f(L,F),L.return=B,L)}function te(B,L,F){if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return L=Vd(""+L,B.mode,F),L.return=B,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case h:return F=Oc(L.type,L.key,L.props,null,B.mode,F),cl(F,L),F.return=B,F;case d:return L=kd(L,B.mode,F),L.return=B,L;case ee:var Z=L._init;return L=Z(L._payload),te(B,L,F)}if(oe(L)||ge(L))return L=Ys(L,B.mode,F,null),L.return=B,L;if(typeof L.then=="function")return te(B,dc(L),F);if(L.$$typeof===N)return te(B,Cc(B,L),F);mc(B,L)}return null}function $(B,L,F,Z){var he=L!==null?L.key:null;if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return he!==null?null:b(B,L,""+F,Z);if(typeof F=="object"&&F!==null){switch(F.$$typeof){case h:return F.key===he?C(B,L,F,Z):null;case d:return F.key===he?j(B,L,F,Z):null;case ee:return he=F._init,F=he(F._payload),$(B,L,F,Z)}if(oe(F)||ge(F))return he!==null?null:Y(B,L,F,Z,null);if(typeof F.then=="function")return $(B,L,dc(F),Z);if(F.$$typeof===N)return $(B,L,Cc(B,F),Z);mc(B,F)}return null}function Q(B,L,F,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return B=B.get(F)||null,b(L,B,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case h:return B=B.get(Z.key===null?F:Z.key)||null,C(L,B,Z,he);case d:return B=B.get(Z.key===null?F:Z.key)||null,j(L,B,Z,he);case ee:var Me=Z._init;return Z=Me(Z._payload),Q(B,L,F,Z,he)}if(oe(Z)||ge(Z))return B=B.get(F)||null,Y(L,B,Z,he,null);if(typeof Z.then=="function")return Q(B,L,F,dc(Z),he);if(Z.$$typeof===N)return Q(B,L,F,Cc(L,Z),he);mc(L,Z)}return null}function me(B,L,F,Z){for(var he=null,Me=null,ye=L,Ee=L=0,Bt=null;ye!==null&&Ee<F.length;Ee++){ye.index>Ee?(Bt=ye,ye=null):Bt=ye.sibling;var Qe=$(B,ye,F[Ee],Z);if(Qe===null){ye===null&&(ye=Bt);break}t&&ye&&Qe.alternate===null&&r(B,ye),L=m(Qe,L,Ee),Me===null?he=Qe:Me.sibling=Qe,Me=Qe,ye=Bt}if(Ee===F.length)return a(B,ye),Ke&&Ls(B,Ee),he;if(ye===null){for(;Ee<F.length;Ee++)ye=te(B,F[Ee],Z),ye!==null&&(L=m(ye,L,Ee),Me===null?he=ye:Me.sibling=ye,Me=ye);return Ke&&Ls(B,Ee),he}for(ye=l(ye);Ee<F.length;Ee++)Bt=Q(ye,B,Ee,F[Ee],Z),Bt!==null&&(t&&Bt.alternate!==null&&ye.delete(Bt.key===null?Ee:Bt.key),L=m(Bt,L,Ee),Me===null?he=Bt:Me.sibling=Bt,Me=Bt);return t&&ye.forEach(function(Jr){return r(B,Jr)}),Ke&&Ls(B,Ee),he}function Re(B,L,F,Z){if(F==null)throw Error(s(151));for(var he=null,Me=null,ye=L,Ee=L=0,Bt=null,Qe=F.next();ye!==null&&!Qe.done;Ee++,Qe=F.next()){ye.index>Ee?(Bt=ye,ye=null):Bt=ye.sibling;var Jr=$(B,ye,Qe.value,Z);if(Jr===null){ye===null&&(ye=Bt);break}t&&ye&&Jr.alternate===null&&r(B,ye),L=m(Jr,L,Ee),Me===null?he=Jr:Me.sibling=Jr,Me=Jr,ye=Bt}if(Qe.done)return a(B,ye),Ke&&Ls(B,Ee),he;if(ye===null){for(;!Qe.done;Ee++,Qe=F.next())Qe=te(B,Qe.value,Z),Qe!==null&&(L=m(Qe,L,Ee),Me===null?he=Qe:Me.sibling=Qe,Me=Qe);return Ke&&Ls(B,Ee),he}for(ye=l(ye);!Qe.done;Ee++,Qe=F.next())Qe=Q(ye,B,Ee,Qe.value,Z),Qe!==null&&(t&&Qe.alternate!==null&&ye.delete(Qe.key===null?Ee:Qe.key),L=m(Qe,L,Ee),Me===null?he=Qe:Me.sibling=Qe,Me=Qe);return t&&ye.forEach(function(kS){return r(B,kS)}),Ke&&Ls(B,Ee),he}function gt(B,L,F,Z){if(typeof F=="object"&&F!==null&&F.type===p&&F.key===null&&(F=F.props.children),typeof F=="object"&&F!==null){switch(F.$$typeof){case h:e:{for(var he=F.key;L!==null;){if(L.key===he){if(he=F.type,he===p){if(L.tag===7){a(B,L.sibling),Z=f(L,F.props.children),Z.return=B,B=Z;break e}}else if(L.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===ee&&ly(he)===L.type){a(B,L.sibling),Z=f(L,F.props),cl(Z,F),Z.return=B,B=Z;break e}a(B,L);break}else r(B,L);L=L.sibling}F.type===p?(Z=Ys(F.props.children,B.mode,Z,F.key),Z.return=B,B=Z):(Z=Oc(F.type,F.key,F.props,null,B.mode,Z),cl(Z,F),Z.return=B,B=Z)}return _(B);case d:e:{for(he=F.key;L!==null;){if(L.key===he)if(L.tag===4&&L.stateNode.containerInfo===F.containerInfo&&L.stateNode.implementation===F.implementation){a(B,L.sibling),Z=f(L,F.children||[]),Z.return=B,B=Z;break e}else{a(B,L);break}else r(B,L);L=L.sibling}Z=kd(F,B.mode,Z),Z.return=B,B=Z}return _(B);case ee:return he=F._init,F=he(F._payload),gt(B,L,F,Z)}if(oe(F))return me(B,L,F,Z);if(ge(F)){if(he=ge(F),typeof he!="function")throw Error(s(150));return F=he.call(F),Re(B,L,F,Z)}if(typeof F.then=="function")return gt(B,L,dc(F),Z);if(F.$$typeof===N)return gt(B,L,Cc(B,F),Z);mc(B,F)}return typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint"?(F=""+F,L!==null&&L.tag===6?(a(B,L.sibling),Z=f(L,F),Z.return=B,B=Z):(a(B,L),Z=Vd(F,B.mode,Z),Z.return=B,B=Z),_(B)):a(B,L)}return function(B,L,F,Z){try{ul=0;var he=gt(B,L,F,Z);return za=null,he}catch(ye){if(ye===ol)throw ye;var Me=jn(29,ye,null,B.mode);return Me.lanes=Z,Me.return=B,Me}finally{}}}var zs=uy(!0),cy=uy(!1),Ba=je(null),pc=je(0);function hy(t,r){t=er,ie(pc,t),ie(Ba,r),er=t|r.baseLanes}function Bf(){ie(pc,er),ie(Ba,Ba.current)}function qf(){er=pc.current,et(Ba),et(pc)}var Pn=je(null),_i=null;function kr(t){var r=t.alternate;ie(Dt,Dt.current&1),ie(Pn,t),_i===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(_i=t)}function fy(t){if(t.tag===22){if(ie(Dt,Dt.current),ie(Pn,t),_i===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(_i=t)}}else Pr()}function Pr(){ie(Dt,Dt.current),ie(Pn,Pn.current)}function Fi(t){et(Pn),_i===t&&(_i=null),et(Dt)}var Dt=je(0);function gc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var wA=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},bA=i.unstable_scheduleCallback,AA=i.unstable_NormalPriority,Ot={$$typeof:N,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hf(){return{controller:new wA,data:new Map,refCount:0}}function hl(t){t.refCount--,t.refCount===0&&bA(AA,function(){t.controller.abort()})}var fl=null,Ff=0,qa=0,Ha=null;function SA(t,r){if(fl===null){var a=fl=[];Ff=0,qa=Xd(),Ha={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Ff++,r.then(dy,dy),r}function dy(){if(--Ff===0&&fl!==null){Ha!==null&&(Ha.status="fulfilled");var t=fl;fl=null,qa=0,Ha=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function RA(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var my=S.S;S.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&SA(t,r),my!==null&&my(t,r)};var Bs=je(null);function Gf(){var t=Bs.current;return t!==null?t:tt.pooledCache}function yc(t,r){r===null?ie(Bs,Bs.current):ie(Bs,r.pool)}function py(){var t=Gf();return t===null?null:{parent:Ot._currentValue,pool:t}}var Ur=0,De=null,We=null,wt=null,vc=!1,Fa=!1,qs=!1,_c=0,dl=0,Ga=null,xA=0;function _t(){throw Error(s(321))}function $f(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function Kf(t,r,a,l,f,m){return Ur=m,De=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,S.H=t===null||t.memoizedState===null?Hs:Lr,qs=!1,m=a(l,f),qs=!1,Fa&&(m=yy(r,a,l,f)),gy(t),m}function gy(t){S.H=Ei;var r=We!==null&&We.next!==null;if(Ur=0,wt=We=De=null,vc=!1,dl=0,Ga=null,r)throw Error(s(300));t===null||jt||(t=t.dependencies,t!==null&&Ic(t)&&(jt=!0))}function yy(t,r,a,l){De=t;var f=0;do{if(Fa&&(Ga=null),dl=0,Fa=!1,25<=f)throw Error(s(301));if(f+=1,wt=We=null,t.updateQueue!=null){var m=t.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}S.H=Fs,m=r(a,l)}while(Fa);return m}function IA(){var t=S.H,r=t.useState()[0];return r=typeof r.then=="function"?ml(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(De.flags|=1024),r}function Qf(){var t=_c!==0;return _c=0,t}function Yf(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function Xf(t){if(vc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}vc=!1}Ur=0,wt=We=De=null,Fa=!1,dl=_c=0,Ga=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wt===null?De.memoizedState=wt=t:wt=wt.next=t,wt}function bt(){if(We===null){var t=De.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=wt===null?De.memoizedState:wt.next;if(r!==null)wt=r,We=t;else{if(t===null)throw De.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},wt===null?De.memoizedState=wt=t:wt=wt.next=t}return wt}var Ec;Ec=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ml(t){var r=dl;return dl+=1,Ga===null&&(Ga=[]),t=ay(Ga,t,r),r=De,(wt===null?r.memoizedState:wt.next)===null&&(r=r.alternate,S.H=r===null||r.memoizedState===null?Hs:Lr),t}function Tc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return ml(t);if(t.$$typeof===N)return Wt(t)}throw Error(s(438,String(t)))}function Wf(t){var r=null,a=De.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=De.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=Ec(),De.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=de;return r.index++,a}function Gi(t,r){return typeof r=="function"?r(t):r}function wc(t){var r=bt();return Zf(r,We,t)}function Zf(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,m=l.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}r.baseQueue=f=m,l.pending=null}if(m=t.baseState,f===null)t.memoizedState=m;else{r=f.next;var b=_=null,C=null,j=r,Y=!1;do{var te=j.lane&-536870913;if(te!==j.lane?(qe&te)===te:(Ur&te)===te){var $=j.revertLane;if($===0)C!==null&&(C=C.next={lane:0,revertLane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),te===qa&&(Y=!0);else if((Ur&$)===$){j=j.next,$===qa&&(Y=!0);continue}else te={lane:0,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(b=C=te,_=m):C=C.next=te,De.lanes|=$,Kr|=$;te=j.action,qs&&a(m,te),m=j.hasEagerState?j.eagerState:a(m,te)}else $={lane:te,revertLane:j.revertLane,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},C===null?(b=C=$,_=m):C=C.next=$,De.lanes|=te,Kr|=te;j=j.next}while(j!==null&&j!==r);if(C===null?_=m:C.next=b,!_n(m,t.memoizedState)&&(jt=!0,Y&&(a=Ha,a!==null)))throw a;t.memoizedState=m,t.baseState=_,t.baseQueue=C,l.lastRenderedState=m}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function Jf(t){var r=bt(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,m=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do m=t(m,_.action),_=_.next;while(_!==f);_n(m,r.memoizedState)||(jt=!0),r.memoizedState=m,r.baseQueue===null&&(r.baseState=m),a.lastRenderedState=m}return[m,l]}function vy(t,r,a){var l=De,f=bt(),m=Ke;if(m){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!_n((We||f).memoizedState,a);if(_&&(f.memoizedState=a,jt=!0),f=f.queue,nd(Ty.bind(null,l,f,t),[t]),f.getSnapshot!==r||_||wt!==null&&wt.memoizedState.tag&1){if(l.flags|=2048,$a(9,Ey.bind(null,l,f,a,r),{destroy:void 0},null),tt===null)throw Error(s(349));m||(Ur&60)!==0||_y(l,r,a)}return a}function _y(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=De.updateQueue,r===null?(r=Ec(),De.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ey(t,r,a,l){r.value=a,r.getSnapshot=l,wy(r)&&by(t)}function Ty(t,r,a){return a(function(){wy(r)&&by(t)})}function wy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function by(t){var r=Vr(t,2);r!==null&&un(r,t,2)}function ed(t){var r=fn();if(typeof t=="function"){var a=t;if(t=a(),qs){oi(!0);try{a()}finally{oi(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},r}function Ay(t,r,a,l){return t.baseState=a,Zf(t,We,typeof l=="function"?l:Gi)}function CA(t,r,a,l,f){if(Sc(t))throw Error(s(485));if(t=r.action,t!==null){var m={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};S.T!==null?a(!0):m.isTransition=!1,l(m),a=r.pending,a===null?(m.next=r.pending=m,Sy(r,m)):(m.next=a.next,r.pending=a.next=m)}}function Sy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var m=S.T,_={};S.T=_;try{var b=a(f,l),C=S.S;C!==null&&C(_,b),Ry(t,r,b)}catch(j){td(t,r,j)}finally{S.T=m}}else try{m=a(f,l),Ry(t,r,m)}catch(j){td(t,r,j)}}function Ry(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){xy(t,r,l)},function(l){return td(t,r,l)}):xy(t,r,a)}function xy(t,r,a){r.status="fulfilled",r.value=a,Iy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,Sy(t,a)))}function td(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Iy(r),r=r.next;while(r!==l)}t.action=null}function Iy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Cy(t,r){return r}function Ny(t,r){if(Ke){var a=tt.formState;if(a!==null){e:{var l=De;if(Ke){if(Ft){t:{for(var f=Ft,m=vi;f.nodeType!==8;){if(!m){f=null;break t}if(f=ei(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){Ft=ei(f.nextSibling),l=f.data==="F!";break e}}js(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:r},a.queue=l,a=Qy.bind(null,De,l),l.dispatch=a,l=ed(!1),m=od.bind(null,De,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=CA.bind(null,De,f,m,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function Dy(t){var r=bt();return Oy(r,We,t)}function Oy(t,r,a){r=Zf(t,r,Cy)[0],t=wc(Gi)[0],r=typeof r=="object"&&r!==null&&typeof r.then=="function"?ml(r):r;var l=bt(),f=l.queue,m=f.dispatch;return a!==l.memoizedState&&(De.flags|=2048,$a(9,NA.bind(null,f,a),{destroy:void 0},null)),[r,m,t]}function NA(t,r){t.action=r}function My(t){var r=bt(),a=We;if(a!==null)return Oy(r,a,t);bt(),r=r.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function $a(t,r,a,l){return t={tag:t,create:r,inst:a,deps:l,next:null},r=De.updateQueue,r===null&&(r=Ec(),De.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function Vy(){return bt().memoizedState}function bc(t,r,a,l){var f=fn();De.flags|=t,f.memoizedState=$a(1|r,a,{destroy:void 0},l===void 0?null:l)}function Ac(t,r,a,l){var f=bt();l=l===void 0?null:l;var m=f.memoizedState.inst;We!==null&&l!==null&&$f(l,We.memoizedState.deps)?f.memoizedState=$a(r,a,m,l):(De.flags|=t,f.memoizedState=$a(1|r,a,m,l))}function ky(t,r){bc(8390656,8,t,r)}function nd(t,r){Ac(2048,8,t,r)}function Py(t,r){return Ac(4,2,t,r)}function Uy(t,r){return Ac(4,4,t,r)}function Ly(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function jy(t,r,a){a=a!=null?a.concat([t]):null,Ac(4,4,Ly.bind(null,r,t),a)}function id(){}function zy(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&$f(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function By(t,r){var a=bt();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&$f(r,l[1]))return l[0];if(l=t(),qs){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[l,r],l}function rd(t,r,a){return a===void 0||(Ur&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Hv(),De.lanes|=t,Kr|=t,a)}function qy(t,r,a,l){return _n(a,r)?a:Ba.current!==null?(t=rd(t,a,l),_n(t,r)||(jt=!0),t):(Ur&42)===0?(jt=!0,t.memoizedState=a):(t=Hv(),De.lanes|=t,Kr|=t,r)}function Hy(t,r,a,l,f){var m=ae.p;ae.p=m!==0&&8>m?m:8;var _=S.T,b={};S.T=b,od(t,!1,r,a);try{var C=f(),j=S.S;if(j!==null&&j(b,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Y=RA(C,l);pl(t,r,Y,bn(t))}else pl(t,r,l,bn(t))}catch(te){pl(t,r,{then:function(){},status:"rejected",reason:te},bn())}finally{ae.p=m,S.T=_}}function DA(){}function sd(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Fy(t).queue;Hy(t,f,r,Ae,a===null?DA:function(){return Gy(t),a(l)})}function Fy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:Ae,baseState:Ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:Ae},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function Gy(t){var r=Fy(t).next.queue;pl(t,r,{},bn())}function ad(){return Wt(kl)}function $y(){return bt().memoizedState}function Ky(){return bt().memoizedState}function OA(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=Br(a);var l=qr(r,t,a);l!==null&&(un(l,r,a),vl(l,r,a)),r={cache:Hf()},t.payload=r;return}r=r.return}}function MA(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Sc(t)?Yy(r,a):(a=Pf(t,r,a,l),a!==null&&(un(a,t,l),Xy(a,r,l)))}function Qy(t,r,a){var l=bn();pl(t,r,a,l)}function pl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Sc(t))Yy(r,f);else{var m=t.alternate;if(t.lanes===0&&(m===null||m.lanes===0)&&(m=r.lastRenderedReducer,m!==null))try{var _=r.lastRenderedState,b=m(_,a);if(f.hasEagerState=!0,f.eagerState=b,_n(b,_))return lc(t,r,f,0),tt===null&&oc(),!1}catch{}finally{}if(a=Pf(t,r,f,l),a!==null)return un(a,t,l),Xy(a,r,l),!0}return!1}function od(t,r,a,l){if(l={lane:2,revertLane:Xd(),action:l,hasEagerState:!1,eagerState:null,next:null},Sc(t)){if(r)throw Error(s(479))}else r=Pf(t,a,l,2),r!==null&&un(r,t,2)}function Sc(t){var r=t.alternate;return t===De||r!==null&&r===De}function Yy(t,r){Fa=vc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Xy(t,r,a){if((a&4194176)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ar(t,a)}}var Ei={readContext:Wt,use:Tc,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useLayoutEffect:_t,useInsertionEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useSyncExternalStore:_t,useId:_t};Ei.useCacheRefresh=_t,Ei.useMemoCache=_t,Ei.useHostTransitionStatus=_t,Ei.useFormState=_t,Ei.useActionState=_t,Ei.useOptimistic=_t;var Hs={readContext:Wt,use:Tc,useCallback:function(t,r){return fn().memoizedState=[t,r===void 0?null:r],t},useContext:Wt,useEffect:ky,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,bc(4194308,4,Ly.bind(null,r,t),a)},useLayoutEffect:function(t,r){return bc(4194308,4,t,r)},useInsertionEffect:function(t,r){bc(4,2,t,r)},useMemo:function(t,r){var a=fn();r=r===void 0?null:r;var l=t();if(qs){oi(!0);try{t()}finally{oi(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=fn();if(a!==void 0){var f=a(r);if(qs){oi(!0);try{a(r)}finally{oi(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=MA.bind(null,De,t),[l.memoizedState,t]},useRef:function(t){var r=fn();return t={current:t},r.memoizedState=t},useState:function(t){t=ed(t);var r=t.queue,a=Qy.bind(null,De,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:id,useDeferredValue:function(t,r){var a=fn();return rd(a,t,r)},useTransition:function(){var t=ed(!1);return t=Hy.bind(null,De,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=De,f=fn();if(Ke){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),tt===null)throw Error(s(349));(qe&60)!==0||_y(l,r,a)}f.memoizedState=a;var m={value:a,getSnapshot:r};return f.queue=m,ky(Ty.bind(null,l,m,t),[t]),l.flags|=2048,$a(9,Ey.bind(null,l,m,a,r),{destroy:void 0},null),a},useId:function(){var t=fn(),r=tt.identifierPrefix;if(Ke){var a=Hi,l=qi;a=(l&~(1<<32-sn(l)-1)).toString(32)+a,r=":"+r+"R"+a,a=_c++,0<a&&(r+="H"+a.toString(32)),r+=":"}else a=xA++,r=":"+r+"r"+a.toString(32)+":";return t.memoizedState=r},useCacheRefresh:function(){return fn().memoizedState=OA.bind(null,De)}};Hs.useMemoCache=Wf,Hs.useHostTransitionStatus=ad,Hs.useFormState=Ny,Hs.useActionState=Ny,Hs.useOptimistic=function(t){var r=fn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=od.bind(null,De,!0,a),a.dispatch=r,[t,r]};var Lr={readContext:Wt,use:Tc,useCallback:zy,useContext:Wt,useEffect:nd,useImperativeHandle:jy,useInsertionEffect:Py,useLayoutEffect:Uy,useMemo:By,useReducer:wc,useRef:Vy,useState:function(){return wc(Gi)},useDebugValue:id,useDeferredValue:function(t,r){var a=bt();return qy(a,We.memoizedState,t,r)},useTransition:function(){var t=wc(Gi)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ml(t),r]},useSyncExternalStore:vy,useId:$y};Lr.useCacheRefresh=Ky,Lr.useMemoCache=Wf,Lr.useHostTransitionStatus=ad,Lr.useFormState=Dy,Lr.useActionState=Dy,Lr.useOptimistic=function(t,r){var a=bt();return Ay(a,We,t,r)};var Fs={readContext:Wt,use:Tc,useCallback:zy,useContext:Wt,useEffect:nd,useImperativeHandle:jy,useInsertionEffect:Py,useLayoutEffect:Uy,useMemo:By,useReducer:Jf,useRef:Vy,useState:function(){return Jf(Gi)},useDebugValue:id,useDeferredValue:function(t,r){var a=bt();return We===null?rd(a,t,r):qy(a,We.memoizedState,t,r)},useTransition:function(){var t=Jf(Gi)[0],r=bt().memoizedState;return[typeof t=="boolean"?t:ml(t),r]},useSyncExternalStore:vy,useId:$y};Fs.useCacheRefresh=Ky,Fs.useMemoCache=Wf,Fs.useHostTransitionStatus=ad,Fs.useFormState=My,Fs.useActionState=My,Fs.useOptimistic=function(t,r){var a=bt();return We!==null?Ay(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])};function ld(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:D({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ud={isMounted:function(t){return(t=t._reactInternals)?pe(t)===t:!1},enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Br(l);f.payload=r,a!=null&&(f.callback=a),r=qr(t,f,l),r!==null&&(un(r,t,l),vl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Br(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=qr(t,f,l),r!==null&&(un(r,t,l),vl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=Br(a);l.tag=2,r!=null&&(l.callback=r),r=qr(t,l,a),r!==null&&(un(r,t,a),vl(r,t,a))}};function Wy(t,r,a,l,f,m,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,m,_):r.prototype&&r.prototype.isPureReactComponent?!nl(a,l)||!nl(f,m):!0}function Zy(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&ud.enqueueReplaceState(r,r.state,null)}function Gs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=D({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function Jy(t){Rc(t)}function ev(t){console.error(t)}function tv(t){Rc(t)}function xc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function nv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cd(t,r,a){return a=Br(a),a.tag=3,a.payload={element:null},a.callback=function(){xc(t,r)},a}function iv(t){return t=Br(t),t.tag=3,t}function rv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var m=l.value;t.payload=function(){return f(m)},t.callback=function(){nv(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){nv(r,a,l),typeof f!="function"&&(Qr===null?Qr=new Set([this]):Qr.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function VA(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&yl(r,a,f,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return _i===null?Gd():a.alternate===null&&pt===0&&(pt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Kd(t,l,f)),!1;case 22:return a.flags|=65536,l===zf?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Kd(t,l,f)),!1}throw Error(s(435,a.tag))}return Kd(t,l,f),Gd(),!1}if(Ke)return r=Pn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==jf&&(t=Error(s(422),{cause:l}),al(Mn(t,a)))):(l!==jf&&(r=Error(s(423),{cause:l}),al(Mn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=cd(t.stateNode,l,f),Sd(t,f),pt!==4&&(pt=2)),!1;var m=Error(s(520),{cause:l});if(m=Mn(m,a),Rl===null?Rl=[m]:Rl.push(m),pt!==4&&(pt=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=cd(a.stateNode,l,t),Sd(a,t),!1;case 1:if(r=a.type,m=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Qr===null||!Qr.has(m))))return a.flags|=65536,f&=-f,a.lanes|=f,f=iv(f),rv(f,t,a,l),Sd(a,f),!1}a=a.return}while(a!==null);return!1}var sv=Error(s(461)),jt=!1;function Gt(t,r,a,l){r.child=t===null?cy(r,null,a,l):zs(r,t.child,a,l)}function av(t,r,a,l,f){a=a.render;var m=r.ref;if("ref"in l){var _={};for(var b in l)b!=="ref"&&(_[b]=l[b])}else _=l;return Ks(r),l=Kf(t,r,a,_,m,f),b=Qf(),t!==null&&!jt?(Yf(t,r,f),$i(t,r,f)):(Ke&&b&&Uf(r),r.flags|=1,Gt(t,r,l,f),r.child)}function ov(t,r,a,l,f){if(t===null){var m=a.type;return typeof m=="function"&&!Md(m)&&m.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=m,lv(t,r,m,l,f)):(t=Oc(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(m=t.child,!_d(t,f)){var _=m.memoizedProps;if(a=a.compare,a=a!==null?a:nl,a(_,l)&&t.ref===r.ref)return $i(t,r,f)}return r.flags|=1,t=$r(m,l),t.ref=r.ref,t.return=r,r.child=t}function lv(t,r,a,l,f){if(t!==null){var m=t.memoizedProps;if(nl(m,l)&&t.ref===r.ref)if(jt=!1,r.pendingProps=l=m,_d(t,f))(t.flags&131072)!==0&&(jt=!0);else return r.lanes=t.lanes,$i(t,r,f)}return hd(t,r,a,l,f)}function uv(t,r,a){var l=r.pendingProps,f=l.children,m=(r.stateNode._pendingVisibility&2)!==0,_=t!==null?t.memoizedState:null;if(gl(t,r),l.mode==="hidden"||m){if((r.flags&128)!==0){if(l=_!==null?_.baseLanes|a:a,t!==null){for(f=r.child=t.child,m=0;f!==null;)m=m|f.lanes|f.childLanes,f=f.sibling;r.childLanes=m&~l}else r.childLanes=0,r.child=null;return cv(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&yc(r,_!==null?_.cachePool:null),_!==null?hy(r,_):Bf(),fy(r);else return r.lanes=r.childLanes=536870912,cv(t,r,_!==null?_.baseLanes|a:a,a)}else _!==null?(yc(r,_.cachePool),hy(r,_),Pr(),r.memoizedState=null):(t!==null&&yc(r,null),Bf(),Pr());return Gt(t,r,f,a),r.child}function cv(t,r,a,l){var f=Gf();return f=f===null?null:{parent:Ot._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&yc(r,null),Bf(),fy(r),t!==null&&yl(t,r,l,!0),null}function gl(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=2097664);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=2097664)}}function hd(t,r,a,l,f){return Ks(r),a=Kf(t,r,a,l,void 0,f),l=Qf(),t!==null&&!jt?(Yf(t,r,f),$i(t,r,f)):(Ke&&l&&Uf(r),r.flags|=1,Gt(t,r,a,f),r.child)}function hv(t,r,a,l,f,m){return Ks(r),r.updateQueue=null,a=yy(r,l,a,f),gy(t),l=Qf(),t!==null&&!jt?(Yf(t,r,m),$i(t,r,m)):(Ke&&l&&Uf(r),r.flags|=1,Gt(t,r,a,m),r.child)}function fv(t,r,a,l,f){if(Ks(r),r.stateNode===null){var m=Ua,_=a.contextType;typeof _=="object"&&_!==null&&(m=Wt(_)),m=new a(l,m),r.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=ud,r.stateNode=m,m._reactInternals=r,m=r.stateNode,m.props=l,m.state=r.memoizedState,m.refs={},bd(r),_=a.contextType,m.context=typeof _=="object"&&_!==null?Wt(_):Ua,m.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(ld(r,a,_,l),m.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&ud.enqueueReplaceState(m,m.state,null),El(r,l,m,f),_l(),m.state=r.memoizedState),typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){m=r.stateNode;var b=r.memoizedProps,C=Gs(a,b);m.props=C;var j=m.context,Y=a.contextType;_=Ua,typeof Y=="object"&&Y!==null&&(_=Wt(Y));var te=a.getDerivedStateFromProps;Y=typeof te=="function"||typeof m.getSnapshotBeforeUpdate=="function",b=r.pendingProps!==b,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(b||j!==_)&&Zy(r,m,l,_),zr=!1;var $=r.memoizedState;m.state=$,El(r,l,m,f),_l(),j=r.memoizedState,b||$!==j||zr?(typeof te=="function"&&(ld(r,a,te,l),j=r.memoizedState),(C=zr||Wy(r,a,C,l,$,j,_))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(r.flags|=4194308)):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=j),m.props=l,m.state=j,m.context=_,l=C):(typeof m.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{m=r.stateNode,Ad(t,r),_=r.memoizedProps,Y=Gs(a,_),m.props=Y,te=r.pendingProps,$=m.context,j=a.contextType,C=Ua,typeof j=="object"&&j!==null&&(C=Wt(j)),b=a.getDerivedStateFromProps,(j=typeof b=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==te||$!==C)&&Zy(r,m,l,C),zr=!1,$=r.memoizedState,m.state=$,El(r,l,m,f),_l();var Q=r.memoizedState;_!==te||$!==Q||zr||t!==null&&t.dependencies!==null&&Ic(t.dependencies)?(typeof b=="function"&&(ld(r,a,b,l),Q=r.memoizedState),(Y=zr||Wy(r,a,Y,l,$,Q,C)||t!==null&&t.dependencies!==null&&Ic(t.dependencies))?(j||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(l,Q,C),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(l,Q,C)),typeof m.componentDidUpdate=="function"&&(r.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),m.props=l,m.state=Q,m.context=C,l=Y):(typeof m.componentDidUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&$===t.memoizedState||(r.flags|=1024),l=!1)}return m=l,gl(t,r),l=(r.flags&128)!==0,m||l?(m=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:m.render(),r.flags|=1,t!==null&&l?(r.child=zs(r,t.child,null,f),r.child=zs(r,null,a,f)):Gt(t,r,a,f),r.memoizedState=m.state,t=r.child):t=$i(t,r,f),t}function dv(t,r,a,l){return sl(),r.flags|=256,Gt(t,r,a,l),r.child}var fd={dehydrated:null,treeContext:null,retryLane:0};function dd(t){return{baseLanes:t,cachePool:py()}}function md(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=zn),t}function mv(t,r,a){var l=r.pendingProps,f=!1,m=(r.flags&128)!==0,_;if((_=m)||(_=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(Ke){if(f?kr(r):Pr(),Ke){var b=Ft,C;if(C=b){e:{for(C=b,b=vi;C.nodeType!==8;){if(!b){b=null;break e}if(C=ei(C.nextSibling),C===null){b=null;break e}}b=C}b!==null?(r.memoizedState={dehydrated:b,treeContext:Us!==null?{id:qi,overflow:Hi}:null,retryLane:536870912},C=jn(18,null,null,0),C.stateNode=b,C.return=r,r.child=C,ln=r,Ft=null,C=!0):C=!1}C||js(r)}if(b=r.memoizedState,b!==null&&(b=b.dehydrated,b!==null))return b.data==="$!"?r.lanes=16:r.lanes=536870912,null;Fi(r)}return b=l.children,l=l.fallback,f?(Pr(),f=r.mode,b=gd({mode:"hidden",children:b},f),l=Ys(l,f,a,null),b.return=r,l.return=r,b.sibling=l,r.child=b,f=r.child,f.memoizedState=dd(a),f.childLanes=md(t,_,a),r.memoizedState=fd,l):(kr(r),pd(r,b))}if(C=t.memoizedState,C!==null&&(b=C.dehydrated,b!==null)){if(m)r.flags&256?(kr(r),r.flags&=-257,r=yd(t,r,a)):r.memoizedState!==null?(Pr(),r.child=t.child,r.flags|=128,r=null):(Pr(),f=l.fallback,b=r.mode,l=gd({mode:"visible",children:l.children},b),f=Ys(f,b,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,zs(r,t.child,null,a),l=r.child,l.memoizedState=dd(a),l.childLanes=md(t,_,a),r.memoizedState=fd,r=f);else if(kr(r),b.data==="$!"){if(_=b.nextSibling&&b.nextSibling.dataset,_)var j=_.dgst;_=j,l=Error(s(419)),l.stack="",l.digest=_,al({value:l,source:null,stack:null}),r=yd(t,r,a)}else if(jt||yl(t,r,a,!1),_=(a&t.childLanes)!==0,jt||_){if(_=tt,_!==null){if(l=a&-a,(l&42)!==0)l=1;else switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=64;break;case 268435456:l=134217728;break;default:l=0}if(l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==C.retryLane)throw C.retryLane=l,Vr(t,l),un(_,t,l),sv}b.data==="$?"||Gd(),r=yd(t,r,a)}else b.data==="$?"?(r.flags|=128,r.child=t.child,r=YA.bind(null,t),b._reactRetry=r,r=null):(t=C.treeContext,Ft=ei(b.nextSibling),ln=r,Ke=!0,Zn=null,vi=!1,t!==null&&(Vn[kn++]=qi,Vn[kn++]=Hi,Vn[kn++]=Us,qi=t.id,Hi=t.overflow,Us=r),r=pd(r,l.children),r.flags|=4096);return r}return f?(Pr(),f=l.fallback,b=r.mode,C=t.child,j=C.sibling,l=$r(C,{mode:"hidden",children:l.children}),l.subtreeFlags=C.subtreeFlags&31457280,j!==null?f=$r(j,f):(f=Ys(f,b,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,b=t.child.memoizedState,b===null?b=dd(a):(C=b.cachePool,C!==null?(j=Ot._currentValue,C=C.parent!==j?{parent:j,pool:j}:C):C=py(),b={baseLanes:b.baseLanes|a,cachePool:C}),f.memoizedState=b,f.childLanes=md(t,_,a),r.memoizedState=fd,l):(kr(r),a=t.child,t=a.sibling,a=$r(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function pd(t,r){return r=gd({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function gd(t,r){return zv(t,r,0,null)}function yd(t,r,a){return zs(r,t.child,null,a),t=pd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function pv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Td(t.return,r,a)}function vd(t,r,a,l,f){var m=t.memoizedState;m===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(m.isBackwards=r,m.rendering=null,m.renderingStartTime=0,m.last=l,m.tail=a,m.tailMode=f)}function gv(t,r,a){var l=r.pendingProps,f=l.revealOrder,m=l.tail;if(Gt(t,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pv(t,a,r);else if(t.tag===19)pv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(ie(Dt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&gc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),vd(r,!1,f,a,m);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&gc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}vd(r,!0,a,null,m);break;case"together":vd(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function $i(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Kr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(yl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=$r(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=$r(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function _d(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&Ic(t)))}function kA(t,r,a){switch(r.tag){case 3:at(r,r.stateNode.containerInfo),jr(r,Ot,t.memoizedState.cache),sl();break;case 27:case 5:ko(r);break;case 4:at(r,r.stateNode.containerInfo);break;case 10:jr(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(kr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?mv(t,r,a):(kr(r),t=$i(t,r,a),t!==null?t.sibling:null);kr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(yl(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return gv(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ie(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,uv(t,r,a);case 24:jr(r,Ot,t.memoizedState.cache)}return $i(t,r,a)}function yv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)jt=!0;else{if(!_d(t,a)&&(r.flags&128)===0)return jt=!1,kA(t,r,a);jt=(t.flags&131072)!==0}else jt=!1,Ke&&(r.flags&1048576)!==0&&ty(r,hc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Md(l)?(t=Gs(l,t),r.tag=1,r=fv(null,r,l,t,a)):(r.tag=0,r=hd(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===P){r.tag=11,r=av(null,r,l,t,a);break e}else if(f===G){r.tag=14,r=ov(null,r,l,t,a);break e}}throw r=R(l)||l,Error(s(306,r,""))}}return r;case 0:return hd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Gs(l,r.pendingProps),fv(t,r,l,f,a);case 3:e:{if(at(r,r.stateNode.containerInfo),t===null)throw Error(s(387));var m=r.pendingProps;f=r.memoizedState,l=f.element,Ad(t,r),El(r,m,null,a);var _=r.memoizedState;if(m=_.cache,jr(r,Ot,m),m!==f.cache&&wd(r,[Ot],a,!0),_l(),m=_.element,f.isDehydrated)if(f={element:m,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=f,r.memoizedState=f,r.flags&256){r=dv(t,r,m,a);break e}else if(m!==l){l=Mn(Error(s(424)),r),al(l),r=dv(t,r,m,a);break e}else for(Ft=ei(r.stateNode.containerInfo.firstChild),ln=r,Ke=!0,Zn=null,vi=!0,a=cy(r,null,m,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(sl(),m===l){r=$i(t,r,a);break e}Gt(t,r,m,a)}r=r.child}return r;case 26:return gl(t,r),t===null?(a=E_(r.type,null,r.pendingProps,null))?r.memoizedState=a:Ke||(a=r.type,t=r.pendingProps,l=Fc(it.current).createElement(a),l[Pt]=r,l[It]=t,$t(l,a,t),ut(l),r.stateNode=l):r.memoizedState=E_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return ko(r),t===null&&Ke&&(l=r.stateNode=y_(r.type,r.pendingProps,it.current),ln=r,vi=!0,Ft=ei(l.firstChild)),l=r.pendingProps.children,t!==null||Ke?Gt(t,r,l,a):r.child=zs(r,null,l,a),gl(t,r),r.child;case 5:return t===null&&Ke&&((f=l=Ft)&&(l=hS(l,r.type,r.pendingProps,vi),l!==null?(r.stateNode=l,ln=r,Ft=ei(l.firstChild),vi=!1,f=!0):f=!1),f||js(r)),ko(r),f=r.type,m=r.pendingProps,_=t!==null?t.memoizedProps:null,l=m.children,sm(f,m)?l=null:_!==null&&sm(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=Kf(t,r,IA,null,null,a),kl._currentValue=f),gl(t,r),Gt(t,r,l,a),r.child;case 6:return t===null&&Ke&&((t=a=Ft)&&(a=fS(a,r.pendingProps,vi),a!==null?(r.stateNode=a,ln=r,Ft=null,t=!0):t=!1),t||js(r)),null;case 13:return mv(t,r,a);case 4:return at(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=zs(r,null,l,a):Gt(t,r,l,a),r.child;case 11:return av(t,r,r.type,r.pendingProps,a);case 7:return Gt(t,r,r.pendingProps,a),r.child;case 8:return Gt(t,r,r.pendingProps.children,a),r.child;case 12:return Gt(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,jr(r,r.type,l.value),Gt(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Wt(f),l=l(f),r.flags|=1,Gt(t,r,l,a),r.child;case 14:return ov(t,r,r.type,r.pendingProps,a);case 15:return lv(t,r,r.type,r.pendingProps,a);case 19:return gv(t,r,a);case 22:return uv(t,r,a);case 24:return Ks(r),l=Wt(Ot),t===null?(f=Gf(),f===null&&(f=tt,m=Hf(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=a),f=m),r.memoizedState={parent:l,cache:f},bd(r),jr(r,Ot,f)):((t.lanes&a)!==0&&(Ad(t,r),El(r,null,null,a),_l()),f=t.memoizedState,m=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),jr(r,Ot,l)):(l=m.cache,jr(r,Ot,l),l!==f.cache&&wd(r,[Ot],a,!0))),Gt(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}var Ed=je(null),$s=null,Ki=null;function jr(t,r,a){ie(Ed,r._currentValue),r._currentValue=a}function Qi(t){t._currentValue=Ed.current,et(Ed)}function Td(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function wd(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var b=m;m=f;for(var C=0;C<r.length;C++)if(b.context===r[C]){m.lanes|=a,b=m.alternate,b!==null&&(b.lanes|=a),Td(m.return,a,t),l||(_=null);break e}m=b.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,m=_.alternate,m!==null&&(m.lanes|=a),Td(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function yl(t,r,a,l){t=null;for(var f=r,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var b=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(b):t=[b])}}else if(f===yt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(kl):t=[kl])}f=f.return}t!==null&&wd(r,t,a,l),r.flags|=262144}function Ic(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){$s=t,Ki=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Wt(t){return vv($s,t)}function Cc(t,r){return $s===null&&Ks(t),vv(t,r)}function vv(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Ki===null){if(t===null)throw Error(s(308));Ki=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Ki=Ki.next=r;return a}var zr=!1;function bd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ad(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Br(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(ht&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=uc(t),Jg(t,null,a),r}return lc(t,l,r,a),uc(t)}function vl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194176)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Ar(t,a)}}function Sd(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,m=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,a=a.next}while(a!==null);m===null?f=m=r:m=m.next=r}else f=m=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var Rd=!1;function _l(){if(Rd){var t=Ha;if(t!==null)throw t}}function El(t,r,a,l){Rd=!1;var f=t.updateQueue;zr=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var C=b,j=C.next;C.next=null,_===null?m=j:_.next=j,_=C;var Y=t.alternate;Y!==null&&(Y=Y.updateQueue,b=Y.lastBaseUpdate,b!==_&&(b===null?Y.firstBaseUpdate=j:b.next=j,Y.lastBaseUpdate=C))}if(m!==null){var te=f.baseState;_=0,Y=j=C=null,b=m;do{var $=b.lane&-536870913,Q=$!==b.lane;if(Q?(qe&$)===$:(l&$)===$){$!==0&&$===qa&&(Rd=!0),Y!==null&&(Y=Y.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});e:{var me=t,Re=b;$=r;var gt=a;switch(Re.tag){case 1:if(me=Re.payload,typeof me=="function"){te=me.call(gt,te,$);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=Re.payload,$=typeof me=="function"?me.call(gt,te,$):me,$==null)break e;te=D({},te,$);break e;case 2:zr=!0}}$=b.callback,$!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[$]:Q.push($))}else Q={lane:$,tag:b.tag,payload:b.payload,callback:b.callback,next:null},Y===null?(j=Y=Q,C=te):Y=Y.next=Q,_|=$;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;Q=b,b=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Y===null&&(C=te),f.baseState=C,f.firstBaseUpdate=j,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),Kr|=_,t.lanes=_,t.memoizedState=te}}function _v(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function Ev(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)_v(a[t],r)}function Tl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var m=a.create,_=a.inst;l=m(),_.destroy=l}a=a.next}while(a!==f)}}catch(b){Je(r,r.return,b)}}function Hr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var m=f.next;l=m;do{if((l.tag&t)===t){var _=l.inst,b=_.destroy;if(b!==void 0){_.destroy=void 0,f=r;var C=a;try{b()}catch(j){Je(f,C,j)}}}l=l.next}while(l!==m)}}catch(j){Je(r,r.return,j)}}function Tv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{Ev(r,a)}catch(l){Je(t,t.return,l)}}}function wv(t,r,a){a.props=Gs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){Je(t,r,l)}}function Qs(t,r){try{var a=t.ref;if(a!==null){var l=t.stateNode;switch(t.tag){case 26:case 27:case 5:var f=l;break;default:f=l}typeof a=="function"?t.refCleanup=a(f):a.current=f}}catch(m){Je(t,r,m)}}function En(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){Je(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Je(t,r,f)}else a.current=null}function bv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){Je(t,t.return,f)}}function Av(t,r,a){try{var l=t.stateNode;aS(l,t.type,a,r),l[It]=r}catch(f){Je(t,t.return,f)}}function Sv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==27&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Id(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.nodeType===8?a.parentNode.insertBefore(t,r):a.insertBefore(t,r):(a.nodeType===8?(r=a.parentNode,r.insertBefore(t,a)):(r=a,r.appendChild(t)),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Hc));else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Id(t,r,a),t=t.sibling;t!==null;)Id(t,r,a),t=t.sibling}function Nc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&l!==27&&(t=t.child,t!==null))for(Nc(t,r,a),t=t.sibling;t!==null;)Nc(t,r,a),t=t.sibling}var Yi=!1,mt=!1,Cd=!1,Rv=typeof WeakSet=="function"?WeakSet:Set,zt=null,xv=!1;function PA(t,r){if(t=t.containerInfo,im=Xc,t=Fg(t),Df(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,m=l.focusNode;l=l.focusOffset;try{a.nodeType,m.nodeType}catch{a=null;break e}var _=0,b=-1,C=-1,j=0,Y=0,te=t,$=null;t:for(;;){for(var Q;te!==a||f!==0&&te.nodeType!==3||(b=_+f),te!==m||l!==0&&te.nodeType!==3||(C=_+l),te.nodeType===3&&(_+=te.nodeValue.length),(Q=te.firstChild)!==null;)$=te,te=Q;for(;;){if(te===t)break t;if($===a&&++j===f&&(b=_),$===m&&++Y===l&&(C=_),(Q=te.nextSibling)!==null)break;te=$,$=te.parentNode}te=Q}a=b===-1||C===-1?null:{start:b,end:C}}else a=null}a=a||{start:0,end:0}}else a=null;for(rm={focusedElem:t,selectionRange:a},Xc=!1,zt=r;zt!==null;)if(r=zt,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,zt=t;else for(;zt!==null;){switch(r=zt,m=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&m!==null){t=void 0,a=r,f=m.memoizedProps,m=m.memoizedState,l=a.stateNode;try{var me=Gs(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(me,m),l.__reactInternalSnapshotBeforeUpdate=t}catch(Re){Je(a,a.return,Re)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)lm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":lm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,zt=t;break}zt=r.return}return me=xv,xv=!1,me}function Iv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Wi(t,a),l&4&&Tl(5,a);break;case 1:if(Wi(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(b){Je(a,a.return,b)}else{var f=Gs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(b){Je(a,a.return,b)}}l&64&&Tv(a),l&512&&Qs(a,a.return);break;case 3:if(Wi(t,a),l&64&&(l=a.updateQueue,l!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Ev(l,t)}catch(b){Je(a,a.return,b)}}break;case 26:Wi(t,a),l&512&&Qs(a,a.return);break;case 27:case 5:Wi(t,a),r===null&&l&4&&bv(a),l&512&&Qs(a,a.return);break;case 12:Wi(t,a);break;case 13:Wi(t,a),l&4&&Dv(t,a);break;case 22:if(f=a.memoizedState!==null||Yi,!f){r=r!==null&&r.memoizedState!==null||mt;var m=Yi,_=mt;Yi=f,(mt=r)&&!_?Fr(t,a,(a.subtreeFlags&8772)!==0):Wi(t,a),Yi=m,mt=_}l&512&&(a.memoizedProps.mode==="manual"?Qs(a,a.return):En(a,a.return));break;default:Wi(t,a)}}function Cv(t){var r=t.alternate;r!==null&&(t.alternate=null,Cv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&As(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var At=null,Tn=!1;function Xi(t,r,a){for(a=a.child;a!==null;)Nv(t,r,a),a=a.sibling}function Nv(t,r,a){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(_r,a)}catch{}switch(a.tag){case 26:mt||En(a,r),Xi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||En(a,r);var l=At,f=Tn;for(At=a.stateNode,Xi(t,r,a),a=a.stateNode,r=a.attributes;r.length;)a.removeAttributeNode(r[0]);As(a),At=l,Tn=f;break;case 5:mt||En(a,r);case 6:f=At;var m=Tn;if(At=null,Xi(t,r,a),At=f,Tn=m,At!==null)if(Tn)try{t=At,l=a.stateNode,t.nodeType===8?t.parentNode.removeChild(l):t.removeChild(l)}catch(_){Je(a,r,_)}else try{At.removeChild(a.stateNode)}catch(_){Je(a,r,_)}break;case 18:At!==null&&(Tn?(r=At,a=a.stateNode,r.nodeType===8?om(r.parentNode,a):r.nodeType===1&&om(r,a),jl(r)):om(At,a.stateNode));break;case 4:l=At,f=Tn,At=a.stateNode.containerInfo,Tn=!0,Xi(t,r,a),At=l,Tn=f;break;case 0:case 11:case 14:case 15:mt||Hr(2,a,r),mt||Hr(4,a,r),Xi(t,r,a);break;case 1:mt||(En(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&wv(a,r,l)),Xi(t,r,a);break;case 21:Xi(t,r,a);break;case 22:mt||En(a,r),mt=(l=mt)||a.memoizedState!==null,Xi(t,r,a),mt=l;break;default:Xi(t,r,a)}}function Dv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{jl(t)}catch(a){Je(r,r.return,a)}}function UA(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Rv),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Rv),r;default:throw Error(s(435,t.tag))}}function Nd(t,r){var a=UA(t);r.forEach(function(l){var f=XA.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function Un(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],m=t,_=r,b=_;e:for(;b!==null;){switch(b.tag){case 27:case 5:At=b.stateNode,Tn=!1;break e;case 3:At=b.stateNode.containerInfo,Tn=!0;break e;case 4:At=b.stateNode.containerInfo,Tn=!0;break e}b=b.return}if(At===null)throw Error(s(160));Nv(m,_,f),At=null,Tn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Ov(r,t),r=r.sibling}var Jn=null;function Ov(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Un(r,t),Ln(t),l&4&&(Hr(3,t,t.return),Tl(3,t),Hr(5,t,t.return));break;case 1:Un(r,t),Ln(t),l&512&&(mt||a===null||En(a,a.return)),l&64&&Yi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Jn;if(Un(r,t),Ln(t),l&512&&(mt||a===null||En(a,a.return)),l&4){var m=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Rr]||m[Pt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(l),f.head.insertBefore(m,f.querySelector("head > title"))),$t(m,l,a),m[Pt]=t,ut(m),l=m;break e;case"link":var _=b_("link","href",f).get(l+(a.href||""));if(_){for(var b=0;b<_.length;b++)if(m=_[b],m.getAttribute("href")===(a.href==null?null:a.href)&&m.getAttribute("rel")===(a.rel==null?null:a.rel)&&m.getAttribute("title")===(a.title==null?null:a.title)&&m.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(b,1);break t}}m=f.createElement(l),$t(m,l,a),f.head.appendChild(m);break;case"meta":if(_=b_("meta","content",f).get(l+(a.content||""))){for(b=0;b<_.length;b++)if(m=_[b],m.getAttribute("content")===(a.content==null?null:""+a.content)&&m.getAttribute("name")===(a.name==null?null:a.name)&&m.getAttribute("property")===(a.property==null?null:a.property)&&m.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&m.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(b,1);break t}}m=f.createElement(l),$t(m,l,a),f.head.appendChild(m);break;default:throw Error(s(468,l))}m[Pt]=t,ut(m),l=m}t.stateNode=l}else A_(f,t.type,t.stateNode);else t.stateNode=w_(f,l,t.memoizedProps);else m!==l?(m===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):m.count--,l===null?A_(f,t.type,t.stateNode):w_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Av(t,t.memoizedProps,a.memoizedProps)}break;case 27:if(l&4&&t.alternate===null){f=t.stateNode,m=t.memoizedProps;try{for(var C=f.firstChild;C;){var j=C.nextSibling,Y=C.nodeName;C[Rr]||Y==="HEAD"||Y==="BODY"||Y==="SCRIPT"||Y==="STYLE"||Y==="LINK"&&C.rel.toLowerCase()==="stylesheet"||f.removeChild(C),C=j}for(var te=t.type,$=f.attributes;$.length;)f.removeAttributeNode($[0]);$t(f,te,m),f[Pt]=t,f[It]=m}catch(me){Je(t,t.return,me)}}case 5:if(Un(r,t),Ln(t),l&512&&(mt||a===null||En(a,a.return)),t.flags&32){f=t.stateNode;try{In(f,"")}catch(me){Je(t,t.return,me)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Av(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Cd=!0);break;case 6:if(Un(r,t),Ln(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(me){Je(t,t.return,me)}}break;case 3:if(Kc=null,f=Jn,Jn=Gc(r.containerInfo),Un(r,t),Jn=f,Ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{jl(r.containerInfo)}catch(me){Je(t,t.return,me)}Cd&&(Cd=!1,Mv(t));break;case 4:l=Jn,Jn=Gc(t.stateNode.containerInfo),Un(r,t),Ln(t),Jn=l;break;case 12:Un(r,t),Ln(t);break;case 13:Un(r,t),Ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(jd=cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 22:if(l&512&&(mt||a===null||En(a,a.return)),C=t.memoizedState!==null,j=a!==null&&a.memoizedState!==null,Y=Yi,te=mt,Yi=Y||C,mt=te||j,Un(r,t),mt=te,Yi=Y,Ln(t),r=t.stateNode,r._current=t,r._visibility&=-3,r._visibility|=r._pendingVisibility&2,l&8192&&(r._visibility=C?r._visibility&-2:r._visibility|1,C&&(r=Yi||mt,a===null||j||r||Ka(t)),t.memoizedProps===null||t.memoizedProps.mode!=="manual"))e:for(a=null,r=t;;){if(r.tag===5||r.tag===26||r.tag===27){if(a===null){j=a=r;try{if(f=j.stateNode,C)m=f.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{_=j.stateNode,b=j.memoizedProps.style;var Q=b!=null&&b.hasOwnProperty("display")?b.display:null;_.style.display=Q==null||typeof Q=="boolean"?"":(""+Q).trim()}}catch(me){Je(j,j.return,me)}}}else if(r.tag===6){if(a===null){j=r;try{j.stateNode.nodeValue=C?"":j.memoizedProps}catch(me){Je(j,j.return,me)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Nd(t,a))));break;case 19:Un(r,t),Ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Nd(t,l)));break;case 21:break;default:Un(r,t),Ln(t)}}function Ln(t){var r=t.flags;if(r&2){try{if(t.tag!==27){e:{for(var a=t.return;a!==null;){if(Sv(a)){var l=a;break e}a=a.return}throw Error(s(160))}switch(l.tag){case 27:var f=l.stateNode,m=xd(t);Nc(t,m,f);break;case 5:var _=l.stateNode;l.flags&32&&(In(_,""),l.flags&=-33);var b=xd(t);Nc(t,b,_);break;case 3:case 4:var C=l.stateNode.containerInfo,j=xd(t);Id(t,j,C);break;default:throw Error(s(161))}}}catch(Y){Je(t,t.return,Y)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Mv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Mv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Wi(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Iv(t,r.alternate,r),r=r.sibling}function Ka(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:Hr(4,r,r.return),Ka(r);break;case 1:En(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&wv(r,r.return,a),Ka(r);break;case 26:case 27:case 5:En(r,r.return),Ka(r);break;case 22:En(r,r.return),r.memoizedState===null&&Ka(r);break;default:Ka(r)}t=t.sibling}}function Fr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,m=r,_=m.flags;switch(m.tag){case 0:case 11:case 15:Fr(f,m,a),Tl(4,m);break;case 1:if(Fr(f,m,a),l=m,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(j){Je(l,l.return,j)}if(l=m,f=l.updateQueue,f!==null){var b=l.stateNode;try{var C=f.shared.hiddenCallbacks;if(C!==null)for(f.shared.hiddenCallbacks=null,f=0;f<C.length;f++)_v(C[f],b)}catch(j){Je(l,l.return,j)}}a&&_&64&&Tv(m),Qs(m,m.return);break;case 26:case 27:case 5:Fr(f,m,a),a&&l===null&&_&4&&bv(m),Qs(m,m.return);break;case 12:Fr(f,m,a);break;case 13:Fr(f,m,a),a&&_&4&&Dv(f,m);break;case 22:m.memoizedState===null&&Fr(f,m,a),Qs(m,m.return);break;default:Fr(f,m,a)}r=r.sibling}}function Dd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&hl(a))}function Od(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t))}function Gr(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Vv(t,r,a,l),r=r.sibling}function Vv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:Gr(t,r,a,l),f&2048&&Tl(9,r);break;case 3:Gr(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&hl(t)));break;case 12:if(f&2048){Gr(t,r,a,l),t=r.stateNode;try{var m=r.memoizedProps,_=m.id,b=m.onPostCommit;typeof b=="function"&&b(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(C){Je(r,r.return,C)}}else Gr(t,r,a,l);break;case 23:break;case 22:m=r.stateNode,r.memoizedState!==null?m._visibility&4?Gr(t,r,a,l):wl(t,r):m._visibility&4?Gr(t,r,a,l):(m._visibility|=4,Qa(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&Dd(r.alternate,r);break;case 24:Gr(t,r,a,l),f&2048&&Od(r.alternate,r);break;default:Gr(t,r,a,l)}}function Qa(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var m=t,_=r,b=a,C=l,j=_.flags;switch(_.tag){case 0:case 11:case 15:Qa(m,_,b,C,f),Tl(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&4?Qa(m,_,b,C,f):wl(m,_):(Y._visibility|=4,Qa(m,_,b,C,f)),f&&j&2048&&Dd(_.alternate,_);break;case 24:Qa(m,_,b,C,f),f&&j&2048&&Od(_.alternate,_);break;default:Qa(m,_,b,C,f)}r=r.sibling}}function wl(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:wl(a,l),f&2048&&Dd(l.alternate,l);break;case 24:wl(a,l),f&2048&&Od(l.alternate,l);break;default:wl(a,l)}r=r.sibling}}var bl=8192;function Ya(t){if(t.subtreeFlags&bl)for(t=t.child;t!==null;)kv(t),t=t.sibling}function kv(t){switch(t.tag){case 26:Ya(t),t.flags&bl&&t.memoizedState!==null&&SS(Jn,t.memoizedState,t.memoizedProps);break;case 5:Ya(t);break;case 3:case 4:var r=Jn;Jn=Gc(t.stateNode.containerInfo),Ya(t),Jn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=bl,bl=16777216,Ya(t),bl=r):Ya(t));break;default:Ya(t)}}function Pv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Al(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,Lv(l,t)}Pv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Uv(t),t=t.sibling}function Uv(t){switch(t.tag){case 0:case 11:case 15:Al(t),t.flags&2048&&Hr(9,t,t.return);break;case 3:Al(t);break;case 12:Al(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&4&&(t.return===null||t.return.tag!==13)?(r._visibility&=-5,Dc(t)):Al(t);break;default:Al(t)}}function Dc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];zt=l,Lv(l,t)}Pv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:Hr(8,r,r.return),Dc(r);break;case 22:a=r.stateNode,a._visibility&4&&(a._visibility&=-5,Dc(r));break;default:Dc(r)}t=t.sibling}}function Lv(t,r){for(;zt!==null;){var a=zt;switch(a.tag){case 0:case 11:case 15:Hr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:hl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,zt=l;else e:for(a=t;zt!==null;){l=zt;var f=l.sibling,m=l.return;if(Cv(l),l===a){zt=null;break e}if(f!==null){f.return=m,zt=f;break e}zt=m}}}function LA(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jn(t,r,a,l){return new LA(t,r,a,l)}function Md(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $r(t,r){var a=t.alternate;return a===null?(a=jn(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&31457280,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function jv(t,r){t.flags&=31457282;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function Oc(t,r,a,l,f,m){var _=0;if(l=t,typeof t=="function")Md(t)&&(_=1);else if(typeof t=="string")_=bS(t,a,we.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case p:return Ys(a.children,f,m,r);case g:_=8,f|=24;break;case E:return t=jn(12,a,r,f|2),t.elementType=E,t.lanes=m,t;case q:return t=jn(13,a,r,f),t.elementType=q,t.lanes=m,t;case O:return t=jn(19,a,r,f),t.elementType=O,t.lanes=m,t;case W:return zv(a,f,m,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case T:case N:_=10;break e;case w:_=9;break e;case P:_=11;break e;case G:_=14;break e;case ee:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=jn(_,a,r,f),r.elementType=t,r.type=l,r.lanes=m,r}function Ys(t,r,a,l){return t=jn(7,t,l,r),t.lanes=a,t}function zv(t,r,a,l){t=jn(22,t,l,r),t.elementType=W,t.lanes=a;var f={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)===0){var _=Vr(m,2);_!==null&&(f._pendingVisibility|=2,un(_,m,2))}},attach:function(){var m=f._current;if(m===null)throw Error(s(456));if((f._pendingVisibility&2)!==0){var _=Vr(m,2);_!==null&&(f._pendingVisibility&=-3,un(_,m,2))}}};return t.stateNode=f,t}function Vd(t,r,a){return t=jn(6,t,null,r),t.lanes=a,t}function kd(t,r,a){return r=jn(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function Zi(t){t.flags|=4}function Bv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!S_(r)){if(r=Pn.current,r!==null&&((qe&4194176)===qe?_i!==null:(qe&62914560)!==qe&&(qe&536870912)===0||r!==_i))throw ll=zf,ry;t.flags|=8192}}function Mc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?wr():536870912,t.lanes|=r,Wa|=r)}function Sl(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ct(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&31457280,l|=f.flags&31457280,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function jA(t,r,a){var l=r.pendingProps;switch(Lf(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ct(r),null;case 1:return ct(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),Qi(Ot),Di(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(rl(r)?Zi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Zn!==null&&(Hd(Zn),Zn=null))),ct(r),null;case 26:return a=r.memoizedState,t===null?(Zi(r),a!==null?(ct(r),Bv(r,a)):(ct(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Zi(r),ct(r),Bv(r,a)):(ct(r),r.flags&=-16777217):(t.memoizedProps!==l&&Zi(r),ct(r),r.flags&=-16777217),null;case 27:ga(r),a=it.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}t=we.current,rl(r)?ny(r):(t=y_(f,l,a),r.stateNode=t,Zi(r))}return ct(r),null;case 5:if(ga(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ct(r),null}if(t=we.current,rl(r))ny(r);else{switch(f=Fc(it.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[Pt]=r,t[It]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Zi(r)}}return ct(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Zi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=it.current,rl(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=ln,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Pt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||h_(t.nodeValue,a)),t||js(r)}else t=Fc(t).createTextNode(l),t[Pt]=r,r.stateNode=t}return ct(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=rl(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Pt]=r}else sl(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ct(r),f=!1}else Zn!==null&&(Hd(Zn),Zn=null),f=!0;if(!f)return r.flags&256?(Fi(r),r):(Fi(r),null)}if(Fi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var m=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(m=l.memoizedState.cachePool.pool),m!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Mc(r,r.updateQueue),ct(r),null;case 4:return Di(),t===null&&em(r.stateNode.containerInfo),ct(r),null;case 10:return Qi(r.type),ct(r),null;case 19:if(et(Dt),f=r.memoizedState,f===null)return ct(r),null;if(l=(r.flags&128)!==0,m=f.rendering,m===null)if(l)Sl(f,!1);else{if(pt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(m=gc(t),m!==null){for(r.flags|=128,Sl(f,!1),t=m.updateQueue,r.updateQueue=t,Mc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)jv(a,t),a=a.sibling;return ie(Dt,Dt.current&1|2),r.child}t=t.sibling}f.tail!==null&&cn()>Vc&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304)}else{if(!l)if(t=gc(m),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Mc(r,t),Sl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!m.alternate&&!Ke)return ct(r),null}else 2*cn()-f.renderingStartTime>Vc&&a!==536870912&&(r.flags|=128,l=!0,Sl(f,!1),r.lanes=4194304);f.isBackwards?(m.sibling=r.child,r.child=m):(t=f.last,t!==null?t.sibling=m:r.child=m,f.last=m)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=cn(),r.sibling=null,t=Dt.current,ie(Dt,l?t&1|2:t&1),r):(ct(r),null);case 22:case 23:return Fi(r),qf(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ct(r),r.subtreeFlags&6&&(r.flags|=8192)):ct(r),a=r.updateQueue,a!==null&&Mc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&et(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),Qi(Ot),ct(r),null;case 25:return null}throw Error(s(156,r.tag))}function zA(t,r){switch(Lf(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return Qi(Ot),Di(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return ga(r),null;case 13:if(Fi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));sl()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return et(Dt),null;case 4:return Di(),null;case 10:return Qi(r.type),null;case 22:case 23:return Fi(r),qf(),t!==null&&et(Bs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return Qi(Ot),null;case 25:return null;default:return null}}function qv(t,r){switch(Lf(r),r.tag){case 3:Qi(Ot),Di();break;case 26:case 27:case 5:ga(r);break;case 4:Di();break;case 13:Fi(r);break;case 19:et(Dt);break;case 10:Qi(r.type);break;case 22:case 23:Fi(r),qf(),t!==null&&et(Bs);break;case 24:Qi(Ot)}}var BA={getCacheForType:function(t){var r=Wt(Ot),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},qA=typeof WeakMap=="function"?WeakMap:Map,ht=0,tt=null,Ve=null,qe=0,nt=0,wn=null,Ji=!1,Xa=!1,Pd=!1,er=0,pt=0,Kr=0,Xs=0,Ud=0,zn=0,Wa=0,Rl=null,Ti=null,Ld=!1,jd=0,Vc=1/0,kc=null,Qr=null,Pc=!1,Ws=null,xl=0,zd=0,Bd=null,Il=0,qd=null;function bn(){if((ht&2)!==0&&qe!==0)return qe&-qe;if(S.T!==null){var t=qa;return t!==0?t:Xd()}return qu()}function Hv(){zn===0&&(zn=(qe&536870912)===0||Ke?zo():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),zn}function un(t,r,a){(t===tt&&nt===2||t.cancelPendingCommit!==null)&&(Za(t,0),tr(t,qe,zn,!1)),vt(t,a),((ht&2)===0||t!==tt)&&(t===tt&&((ht&2)===0&&(Xs|=a),pt===4&&tr(t,qe,zn,!1)),wi(t))}function Fv(t,r,a){if((ht&6)!==0)throw Error(s(327));var l=!a&&(r&60)===0&&(r&t.expiredLanes)===0||Tr(t,r),f=l?GA(t,r):$d(t,r,!0),m=l;do{if(f===0){Xa&&!l&&tr(t,r,0,!1);break}else if(f===6)tr(t,r,0,!Ji);else{if(a=t.current.alternate,m&&!HA(a)){f=$d(t,r,!1),m=!1;continue}if(f===2){if(m=r,t.errorRecoveryDisabledLanes&m)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var b=t;f=Rl;var C=b.current.memoizedState.isDehydrated;if(C&&(Za(b,_).flags|=256),_=$d(b,_,!1),_!==2){if(Pd&&!C){b.errorRecoveryDisabledLanes|=m,Xs|=m,f=4;break e}m=Ti,Ti=f,m!==null&&Hd(m)}f=_}if(m=!1,f!==2)continue}}if(f===1){Za(t,0),tr(t,r,0,!0);break}e:{switch(l=t,f){case 0:case 1:throw Error(s(345));case 4:if((r&4194176)===r){tr(l,r,zn,!Ji);break e}break;case 2:Ti=null;break;case 3:case 5:break;default:throw Error(s(329))}if(l.finishedWork=a,l.finishedLanes=r,(r&62914560)===r&&(m=jd+300-cn(),10<m)){if(tr(l,r,zn,!Ji),Rn(l,0)!==0)break e;l.timeoutHandle=m_(Gv.bind(null,l,a,Ti,kc,Ld,r,zn,Xs,Wa,Ji,2,-0,0),m);break e}Gv(l,a,Ti,kc,Ld,r,zn,Xs,Wa,Ji,0,-0,0)}}break}while(!0);wi(t)}function Hd(t){Ti===null?Ti=t:Ti.push.apply(Ti,t)}function Gv(t,r,a,l,f,m,_,b,C,j,Y,te,$){var Q=r.subtreeFlags;if((Q&8192||(Q&16785408)===16785408)&&(Vl={stylesheets:null,count:0,unsuspend:AS},kv(r),r=RS(),r!==null)){t.cancelPendingCommit=r(Zv.bind(null,t,a,l,f,_,b,C,1,te,$)),tr(t,m,_,!j);return}Zv(t,a,l,f,_,b,C,Y,te,$)}function HA(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],m=f.getSnapshot;f=f.value;try{if(!_n(m(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function tr(t,r,a,l){r&=~Ud,r&=~Xs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var m=31-sn(f),_=1<<m;l[m]=-1,f&=~_}a!==0&&br(t,a,r)}function Uc(){return(ht&6)===0?(Cl(0),!1):!0}function Fd(){if(Ve!==null){if(nt===0)var t=Ve.return;else t=Ve,Ki=$s=null,Xf(t),za=null,ul=0,t=Ve;for(;t!==null;)qv(t.alternate,t),t=t.return;Ve=null}}function Za(t,r){t.finishedWork=null,t.finishedLanes=0;var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,lS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Fd(),tt=t,Ve=a=$r(t.current,null),qe=r,nt=0,wn=null,Ji=!1,Xa=Tr(t,r),Pd=!1,Wa=zn=Ud=Xs=Kr=pt=0,Ti=Rl=null,Ld=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-sn(l),m=1<<f;r|=t[f],l&=~m}return er=r,oc(),a}function $v(t,r){De=null,S.H=Ei,r===ol?(r=oy(),nt=3):r===ry?(r=oy(),nt=4):nt=r===sv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,wn=r,Ve===null&&(pt=1,xc(t,Mn(r,t.current)))}function Kv(){var t=S.H;return S.H=Ei,t===null?Ei:t}function Qv(){var t=S.A;return S.A=BA,t}function Gd(){pt=4,Ji||(qe&4194176)!==qe&&Pn.current!==null||(Xa=!0),(Kr&134217727)===0&&(Xs&134217727)===0||tt===null||tr(tt,qe,zn,!1)}function $d(t,r,a){var l=ht;ht|=2;var f=Kv(),m=Qv();(tt!==t||qe!==r)&&(kc=null,Za(t,r)),r=!1;var _=pt;e:do try{if(nt!==0&&Ve!==null){var b=Ve,C=wn;switch(nt){case 8:Fd(),_=6;break e;case 3:case 2:case 6:Pn.current===null&&(r=!0);var j=nt;if(nt=0,wn=null,Ja(t,b,C,j),a&&Xa){_=0;break e}break;default:j=nt,nt=0,wn=null,Ja(t,b,C,j)}}FA(),_=pt;break}catch(Y){$v(t,Y)}while(!0);return r&&t.shellSuspendCounter++,Ki=$s=null,ht=l,S.H=f,S.A=m,Ve===null&&(tt=null,qe=0,oc()),_}function FA(){for(;Ve!==null;)Yv(Ve)}function GA(t,r){var a=ht;ht|=2;var l=Kv(),f=Qv();tt!==t||qe!==r?(kc=null,Vc=cn()+500,Za(t,r)):Xa=Tr(t,r);e:do try{if(nt!==0&&Ve!==null){r=Ve;var m=wn;t:switch(nt){case 1:nt=0,wn=null,Ja(t,r,m,1);break;case 2:if(sy(m)){nt=0,wn=null,Xv(r);break}r=function(){nt===2&&tt===t&&(nt=7),wi(t)},m.then(r,r);break e;case 3:nt=7;break e;case 4:nt=5;break e;case 7:sy(m)?(nt=0,wn=null,Xv(r)):(nt=0,wn=null,Ja(t,r,m,7));break;case 5:var _=null;switch(Ve.tag){case 26:_=Ve.memoizedState;case 5:case 27:var b=Ve;if(!_||S_(_)){nt=0,wn=null;var C=b.sibling;if(C!==null)Ve=C;else{var j=b.return;j!==null?(Ve=j,Lc(j)):Ve=null}break t}}nt=0,wn=null,Ja(t,r,m,5);break;case 6:nt=0,wn=null,Ja(t,r,m,6);break;case 8:Fd(),pt=6;break e;default:throw Error(s(462))}}$A();break}catch(Y){$v(t,Y)}while(!0);return Ki=$s=null,S.H=l,S.A=f,ht=a,Ve!==null?0:(tt=null,qe=0,oc(),pt)}function $A(){for(;Ve!==null&&!Ef();)Yv(Ve)}function Yv(t){var r=yv(t.alternate,t,er);t.memoizedProps=t.pendingProps,r===null?Lc(t):Ve=r}function Xv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=hv(a,r,r.pendingProps,r.type,void 0,qe);break;case 11:r=hv(a,r,r.pendingProps,r.type.render,r.ref,qe);break;case 5:Xf(r);default:qv(a,r),r=Ve=jv(r,er),r=yv(a,r,er)}t.memoizedProps=t.pendingProps,r===null?Lc(t):Ve=r}function Ja(t,r,a,l){Ki=$s=null,Xf(r),za=null,ul=0;var f=r.return;try{if(VA(t,f,r,a,qe)){pt=1,xc(t,Mn(a,t.current)),Ve=null;return}}catch(m){if(f!==null)throw Ve=f,m;pt=1,xc(t,Mn(a,t.current)),Ve=null;return}r.flags&32768?(Ke||l===1?t=!0:Xa||(qe&536870912)!==0?t=!1:(Ji=t=!0,(l===2||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Wv(r,t)):Lc(r)}function Lc(t){var r=t;do{if((r.flags&32768)!==0){Wv(r,Ji);return}t=r.return;var a=jA(r.alternate,r,er);if(a!==null){Ve=a;return}if(r=r.sibling,r!==null){Ve=r;return}Ve=r=t}while(r!==null);pt===0&&(pt=5)}function Wv(t,r){do{var a=zA(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);pt=6,Ve=null}function Zv(t,r,a,l,f,m,_,b,C,j){var Y=S.T,te=ae.p;try{ae.p=2,S.T=null,KA(t,r,a,l,te,f,m,_,b,C,j)}finally{S.T=Y,ae.p=te}}function KA(t,r,a,l,f,m,_,b){do eo();while(Ws!==null);if((ht&6)!==0)throw Error(s(327));var C=t.finishedWork;if(l=t.finishedLanes,C===null)return null;if(t.finishedWork=null,t.finishedLanes=0,C===t.current)throw Error(s(177));t.callbackNode=null,t.callbackPriority=0,t.cancelPendingCommit=null;var j=C.lanes|C.childLanes;if(j|=kf,zu(t,l,j,m,_,b),t===tt&&(Ve=tt=null,qe=0),(C.subtreeFlags&10256)===0&&(C.flags&10256)===0||Pc||(Pc=!0,zd=j,Bd=a,WA(Oi,function(){return eo(),null})),a=(C.flags&15990)!==0,(C.subtreeFlags&15990)!==0||a?(a=S.T,S.T=null,m=ae.p,ae.p=2,_=ht,ht|=4,PA(t,C),Ov(C,t),yA(rm,t.containerInfo),Xc=!!im,rm=im=null,t.current=C,Iv(t,C.alternate,C),Po(),ht=_,ae.p=m,S.T=a):t.current=C,Pc?(Pc=!1,Ws=t,xl=l):Jv(t,j),j=t.pendingLanes,j===0&&(Qr=null),Lo(C.stateNode),wi(t),r!==null)for(f=t.onRecoverableError,C=0;C<r.length;C++)j=r[C],f(j.value,{componentStack:j.stack});return(xl&3)!==0&&eo(),j=t.pendingLanes,(l&4194218)!==0&&(j&42)!==0?t===qd?Il++:(Il=0,qd=t):Il=0,Cl(0),null}function Jv(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,hl(r)))}function eo(){if(Ws!==null){var t=Ws,r=zd;zd=0;var a=Bu(xl),l=S.T,f=ae.p;try{if(ae.p=32>a?32:a,S.T=null,Ws===null)var m=!1;else{a=Bd,Bd=null;var _=Ws,b=xl;if(Ws=null,xl=0,(ht&6)!==0)throw Error(s(331));var C=ht;if(ht|=4,Uv(_.current),Vv(_,_.current,b,a),ht=C,Cl(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(_r,_)}catch{}m=!0}return m}finally{ae.p=f,S.T=l,Jv(t,r)}}return!1}function e_(t,r,a){r=Mn(a,r),r=cd(t.stateNode,r,2),t=qr(t,r,2),t!==null&&(vt(t,2),wi(t))}function Je(t,r,a){if(t.tag===3)e_(t,t,a);else for(;r!==null;){if(r.tag===3){e_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Qr===null||!Qr.has(l))){t=Mn(a,t),a=iv(2),l=qr(r,a,2),l!==null&&(rv(a,l,r,t),vt(l,2),wi(l));break}}r=r.return}}function Kd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new qA;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Pd=!0,f.add(a),t=QA.bind(null,t,r,a),r.then(t,t))}function QA(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,tt===t&&(qe&a)===a&&(pt===4||pt===3&&(qe&62914560)===qe&&300>cn()-jd?(ht&2)===0&&Za(t,0):Ud|=a,Wa===qe&&(Wa=0)),wi(t)}function t_(t,r){r===0&&(r=wr()),t=Vr(t,r),t!==null&&(vt(t,r),wi(t))}function YA(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),t_(t,a)}function XA(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),t_(t,a)}function WA(t,r){return Ts(t,r)}var jc=null,to=null,Qd=!1,zc=!1,Yd=!1,Zs=0;function wi(t){t!==to&&t.next===null&&(to===null?jc=to=t:to=to.next=t),zc=!0,Qd||(Qd=!0,JA(ZA))}function Cl(t,r){if(!Yd&&zc){Yd=!0;do for(var a=!1,l=jc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var m=0;else{var _=l.suspendedLanes,b=l.pingedLanes;m=(1<<31-sn(42|t)+1)-1,m&=f&~(_&~b),m=m&201326677?m&201326677|1:m?m|2:0}m!==0&&(a=!0,r_(l,m))}else m=qe,m=Rn(l,l===tt?m:0),(m&3)===0||Tr(l,m)||(a=!0,r_(l,m));l=l.next}while(a);Yd=!1}}function ZA(){zc=Qd=!1;var t=0;Zs!==0&&(oS()&&(t=Zs),Zs=0);for(var r=cn(),a=null,l=jc;l!==null;){var f=l.next,m=n_(l,r);m===0?(l.next=null,a===null?jc=f:a.next=f,f===null&&(to=a)):(a=l,(t!==0||(m&3)!==0)&&(zc=!0)),l=f}Cl(t)}function n_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,m=t.pendingLanes&-62914561;0<m;){var _=31-sn(m),b=1<<_,C=f[_];C===-1?((b&a)===0||(b&l)!==0)&&(f[_]=_a(b,r)):C<=r&&(t.expiredLanes|=b),m&=~b}if(r=tt,a=qe,a=Rn(t,t===r?a:0),l=t.callbackNode,a===0||t===r&&nt===2||t.cancelPendingCommit!==null)return l!==null&&l!==null&&va(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Tr(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&va(l),Bu(a)){case 2:case 8:a=kt;break;case 32:a=Oi;break;case 268435456:a=Uo;break;default:a=Oi}return l=i_.bind(null,t),a=Ts(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&va(l),t.callbackPriority=2,t.callbackNode=null,2}function i_(t,r){var a=t.callbackNode;if(eo()&&t.callbackNode!==a)return null;var l=qe;return l=Rn(t,t===tt?l:0),l===0?null:(Fv(t,l,r),n_(t,cn()),t.callbackNode!=null&&t.callbackNode===a?i_.bind(null,t):null)}function r_(t,r){if(eo())return null;Fv(t,r,!0)}function JA(t){uS(function(){(ht&6)!==0?Ts(xt,t):t()})}function Xd(){return Zs===0&&(Zs=zo()),Zs}function s_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:hi(""+t)}function a_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function eS(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var m=s_((f[It]||null).action),_=l.submitter;_&&(r=(r=_[It]||null)?s_(r.formAction):_.getAttribute("formAction"),r!==null&&(m=r,_=null));var b=new Ra("action","action",null,l,f);t.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Zs!==0){var C=_?a_(f,_):new FormData(f);sd(a,{pending:!0,data:C,method:f.method,action:m},null,C)}}else typeof m=="function"&&(b.preventDefault(),C=_?a_(f,_):new FormData(f),sd(a,{pending:!0,data:C,method:f.method,action:m},m,C))},currentTarget:f}]})}}for(var Wd=0;Wd<Zg.length;Wd++){var Zd=Zg[Wd],tS=Zd.toLowerCase(),nS=Zd[0].toUpperCase()+Zd.slice(1);Wn(tS,"on"+nS)}Wn(Kg,"onAnimationEnd"),Wn(Qg,"onAnimationIteration"),Wn(Yg,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(_A,"onTransitionRun"),Wn(EA,"onTransitionStart"),Wn(TA,"onTransitionCancel"),Wn(Xg,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),yn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yn("onBeforeInput",["compositionend","keypress","textInput","paste"]),yn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nl));function o_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var m=void 0;if(r)for(var _=l.length-1;0<=_;_--){var b=l[_],C=b.instance,j=b.currentTarget;if(b=b.listener,C!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=j;try{m(f)}catch(Y){Rc(Y)}f.currentTarget=null,m=C}else for(_=0;_<l.length;_++){if(b=l[_],C=b.instance,j=b.currentTarget,b=b.listener,C!==m&&f.isPropagationStopped())break e;m=b,f.currentTarget=j;try{m(f)}catch(Y){Rc(Y)}f.currentTarget=null,m=C}}}}function Ue(t,r){var a=r[bs];a===void 0&&(a=r[bs]=new Set);var l=t+"__bubble";a.has(l)||(l_(r,t,2,!1),a.add(l))}function Jd(t,r,a){var l=0;r&&(l|=4),l_(a,t,l,r)}var Bc="_reactListening"+Math.random().toString(36).slice(2);function em(t){if(!t[Bc]){t[Bc]=!0,qo.forEach(function(a){a!=="selectionchange"&&(iS.has(a)||Jd(a,!1,t),Jd(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Bc]||(r[Bc]=!0,Jd("selectionchange",!1,r))}}function l_(t,r,a,l){switch(D_(r)){case 2:var f=CS;break;case 8:f=NS;break;default:f=dm}a=f.bind(null,r,a,t),f=void 0,!Nn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function tm(t,r,a,l,f){var m=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var b=l.stateNode.containerInfo;if(b===f||b.nodeType===8&&b.parentNode===f)break;if(_===4)for(_=l.return;_!==null;){var C=_.tag;if((C===3||C===4)&&(C=_.stateNode.containerInfo,C===f||C.nodeType===8&&C.parentNode===f))return;_=_.return}for(;b!==null;){if(_=Xn(b),_===null)return;if(C=_.tag,C===5||C===6||C===26||C===27){l=m=_;continue e}b=b.parentNode}}l=l.return}$u(function(){var j=m,Y=Sa(a),te=[];e:{var $=Wg.get(t);if($!==void 0){var Q=Ra,me=t;switch(t){case"keypress":if(di(a)===0)break e;case"keydown":case"keyup":Q=Oa;break;case"focusin":me="focus",Q=Ca;break;case"focusout":me="blur",Q=Ca;break;case"beforeblur":case"afterblur":Q=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=ec;break;case Kg:case Qg:case Yg:Q=Na;break;case Xg:Q=nc;break;case"scroll":case"scrollend":Q=Ku;break;case"wheel":Q=Ma;break;case"copy":case"cut":case"paste":Q=Da;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=el;break;case"toggle":case"beforetoggle":Q=rc}var Re=(r&4)!==0,gt=!Re&&(t==="scroll"||t==="scrollend"),B=Re?$!==null?$+"Capture":null:$;Re=[];for(var L=j,F;L!==null;){var Z=L;if(F=Z.stateNode,Z=Z.tag,Z!==5&&Z!==26&&Z!==27||F===null||B===null||(Z=Is(L,B),Z!=null&&Re.push(Dl(L,Z,F))),gt)break;L=L.return}0<Re.length&&($=new Q($,me,null,a,Y),te.push({event:$,listeners:Re}))}}if((r&7)===0){e:{if($=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",$&&a!==Cn&&(me=a.relatedTarget||a.fromElement)&&(Xn(me)||me[Mi]))break e;if((Q||$)&&($=Y.window===Y?Y:($=Y.ownerDocument)?$.defaultView||$.parentWindow:window,Q?(me=a.relatedTarget||a.toElement,Q=j,me=me?Xn(me):null,me!==null&&(gt=pe(me),Re=me.tag,me!==gt||Re!==5&&Re!==27&&Re!==6)&&(me=null)):(Q=null,me=j),Q!==me)){if(Re=Dn,Z="onMouseLeave",B="onMouseEnter",L="mouse",(t==="pointerout"||t==="pointerover")&&(Re=el,Z="onPointerLeave",B="onPointerEnter",L="pointer"),gt=Q==null?$:xr(Q),F=me==null?$:xr(me),$=new Re(Z,L+"leave",Q,a,Y),$.target=gt,$.relatedTarget=F,Z=null,Xn(Y)===j&&(Re=new Re(B,L+"enter",me,a,Y),Re.target=F,Re.relatedTarget=gt,Z=Re),gt=Z,Q&&me)t:{for(Re=Q,B=me,L=0,F=Re;F;F=no(F))L++;for(F=0,Z=B;Z;Z=no(Z))F++;for(;0<L-F;)Re=no(Re),L--;for(;0<F-L;)B=no(B),F--;for(;L--;){if(Re===B||B!==null&&Re===B.alternate)break t;Re=no(Re),B=no(B)}Re=null}else Re=null;Q!==null&&u_(te,$,Q,Re,!1),me!==null&&gt!==null&&u_(te,gt,me,Re,!0)}}e:{if($=j?xr(j):window,Q=$.nodeName&&$.nodeName.toLowerCase(),Q==="select"||Q==="input"&&$.type==="file")var he=Pg;else if(Nt($))if(Ug)he=pA;else{he=dA;var Me=fA}else Q=$.nodeName,!Q||Q.toLowerCase()!=="input"||$.type!=="checkbox"&&$.type!=="radio"?j&&Ko(j.elementType)&&(he=Pg):he=mA;if(he&&(he=he(t,j))){Bi(te,he,a,Y);break e}Me&&Me(t,$,j),t==="focusout"&&j&&$.type==="number"&&j.memoizedProps.value!=null&&Aa($,"number",$.value)}switch(Me=j?xr(j):window,t){case"focusin":(Nt(Me)||Me.contentEditable==="true")&&(Va=Me,Of=j,il=null);break;case"focusout":il=Of=Va=null;break;case"mousedown":Mf=!0;break;case"contextmenu":case"mouseup":case"dragend":Mf=!1,Gg(te,a,Y);break;case"selectionchange":if(vA)break;case"keydown":case"keyup":Gg(te,a,Y)}var ye;if(gi)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ze?K(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(ze||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ze&&(ye=Yo()):(fi=Y,Mr="value"in fi?fi.value:fi.textContent,ze=!0)),Me=qc(j,Ee),0<Me.length&&(Ee=new Zo(Ee,t,null,a,Y),te.push({event:Ee,listeners:Me}),ye?Ee.data=ye:(ye=se(a),ye!==null&&(Ee.data=ye)))),(ye=y?Ct(t,a):Be(t,a))&&(Ee=qc(j,"onBeforeInput"),0<Ee.length&&(Me=new Zo("onBeforeInput","beforeinput",null,a,Y),te.push({event:Me,listeners:Ee}),Me.data=ye)),eS(te,t,j,a,Y)}o_(te,r)})}function Dl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function qc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,m=f.stateNode;f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=Is(t,a),f!=null&&l.unshift(Dl(t,f,m)),f=Is(t,r),f!=null&&l.push(Dl(t,f,m))),t=t.return}return l}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function u_(t,r,a,l,f){for(var m=r._reactName,_=[];a!==null&&a!==l;){var b=a,C=b.alternate,j=b.stateNode;if(b=b.tag,C!==null&&C===l)break;b!==5&&b!==26&&b!==27||j===null||(C=j,f?(j=Is(a,m),j!=null&&_.unshift(Dl(a,j,C))):f||(j=Is(a,m),j!=null&&_.push(Dl(a,j,C)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var rS=/\r\n?/g,sS=/\u0000|\uFFFD/g;function c_(t){return(typeof t=="string"?t:""+t).replace(rS,`
`).replace(sS,"")}function h_(t,r){return r=c_(r),c_(t)===r}function Hc(){}function Ze(t,r,a,l,f,m){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&In(t,""+l);break;case"className":Nr(t,"class",l);break;case"tabIndex":Nr(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Nr(t,a,l);break;case"style":Gu(t,l,m);break;case"data":if(r!=="object"){Nr(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=hi(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=hi(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Ue("beforetoggle",t),Ue("toggle",t),Cr(t,"popover",l);break;case"xlinkActuate":xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Cr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Sf.get(a)||a,Cr(t,a,l))}}function nm(t,r,a,l,f,m){switch(a){case"style":Gu(t,l,m);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Ue("scroll",t);break;case"onScrollEnd":l!=null&&Ue("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wa.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),m=t[It]||null,m=m!=null?m[a]:null,typeof m=="function"&&t.removeEventListener(r,m,f),typeof l=="function")){typeof m!="function"&&m!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Cr(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ue("error",t),Ue("load",t);var l=!1,f=!1,m;for(m in a)if(a.hasOwnProperty(m)){var _=a[m];if(_!=null)switch(m){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,m,_,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Ue("invalid",t);var b=m=_=f=null,C=null,j=null;for(l in a)if(a.hasOwnProperty(l)){var Y=a[l];if(Y!=null)switch(l){case"name":f=Y;break;case"type":_=Y;break;case"checked":C=Y;break;case"defaultChecked":j=Y;break;case"value":m=Y;break;case"defaultValue":b=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,r));break;default:Ze(t,r,l,Y,a,null)}}Rs(t,m,b,C,j,_,f,!1),Ss(t);return;case"select":Ue("invalid",t),l=_=m=null;for(f in a)if(a.hasOwnProperty(f)&&(b=a[f],b!=null))switch(f){case"value":m=b;break;case"defaultValue":_=b;break;case"multiple":l=b;default:Ze(t,r,f,b,a,null)}r=m,a=_,t.multiple=!!l,r!=null?$e(t,!!l,r,!1):a!=null&&$e(t,!!l,a,!0);return;case"textarea":Ue("invalid",t),m=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(b=a[_],b!=null))switch(_){case"value":l=b;break;case"defaultValue":f=b;break;case"children":m=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(s(91));break;default:Ze(t,r,_,b,a,null)}Or(t,l,f,m),Ss(t);return;case"option":for(C in a)if(a.hasOwnProperty(C)&&(l=a[C],l!=null))switch(C){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,C,l,a,null)}return;case"dialog":Ue("cancel",t),Ue("close",t);break;case"iframe":case"object":Ue("load",t);break;case"video":case"audio":for(l=0;l<Nl.length;l++)Ue(Nl[l],t);break;case"image":Ue("error",t),Ue("load",t);break;case"details":Ue("toggle",t);break;case"embed":case"source":case"link":Ue("error",t),Ue("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in a)if(a.hasOwnProperty(j)&&(l=a[j],l!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,j,l,a,null)}return;default:if(Ko(r)){for(Y in a)a.hasOwnProperty(Y)&&(l=a[Y],l!==void 0&&nm(t,r,Y,l,a,void 0));return}}for(b in a)a.hasOwnProperty(b)&&(l=a[b],l!=null&&Ze(t,r,b,l,a,null))}function aS(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,b=null,C=null,j=null,Y=null;for(Q in a){var te=a[Q];if(a.hasOwnProperty(Q)&&te!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":C=te;default:l.hasOwnProperty(Q)||Ze(t,r,Q,null,l,te)}}for(var $ in l){var Q=l[$];if(te=a[$],l.hasOwnProperty($)&&(Q!=null||te!=null))switch($){case"type":m=Q;break;case"name":f=Q;break;case"checked":j=Q;break;case"defaultChecked":Y=Q;break;case"value":_=Q;break;case"defaultValue":b=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==te&&Ze(t,r,$,Q,l,te)}}Dr(t,_,b,C,j,Y,m,f);return;case"select":Q=_=b=$=null;for(m in a)if(C=a[m],a.hasOwnProperty(m)&&C!=null)switch(m){case"value":break;case"multiple":Q=C;default:l.hasOwnProperty(m)||Ze(t,r,m,null,l,C)}for(f in l)if(m=l[f],C=a[f],l.hasOwnProperty(f)&&(m!=null||C!=null))switch(f){case"value":$=m;break;case"defaultValue":b=m;break;case"multiple":_=m;default:m!==C&&Ze(t,r,f,m,l,C)}r=b,a=_,l=Q,$!=null?$e(t,!!a,$,!1):!!l!=!!a&&(r!=null?$e(t,!!a,r,!0):$e(t,!!a,a?[]:"",!1));return;case"textarea":Q=$=null;for(b in a)if(f=a[b],a.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:Ze(t,r,b,null,l,f)}for(_ in l)if(f=l[_],m=a[_],l.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":$=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==m&&Ze(t,r,_,f,l,m)}xs(t,$,Q);return;case"option":for(var me in a)if($=a[me],a.hasOwnProperty(me)&&$!=null&&!l.hasOwnProperty(me))switch(me){case"selected":t.selected=!1;break;default:Ze(t,r,me,null,l,$)}for(C in l)if($=l[C],Q=a[C],l.hasOwnProperty(C)&&$!==Q&&($!=null||Q!=null))switch(C){case"selected":t.selected=$&&typeof $!="function"&&typeof $!="symbol";break;default:Ze(t,r,C,$,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Re in a)$=a[Re],a.hasOwnProperty(Re)&&$!=null&&!l.hasOwnProperty(Re)&&Ze(t,r,Re,null,l,$);for(j in l)if($=l[j],Q=a[j],l.hasOwnProperty(j)&&$!==Q&&($!=null||Q!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(s(137,r));break;default:Ze(t,r,j,$,l,Q)}return;default:if(Ko(r)){for(var gt in a)$=a[gt],a.hasOwnProperty(gt)&&$!==void 0&&!l.hasOwnProperty(gt)&&nm(t,r,gt,void 0,l,$);for(Y in l)$=l[Y],Q=a[Y],!l.hasOwnProperty(Y)||$===Q||$===void 0&&Q===void 0||nm(t,r,Y,$,l,Q);return}}for(var B in a)$=a[B],a.hasOwnProperty(B)&&$!=null&&!l.hasOwnProperty(B)&&Ze(t,r,B,null,l,$);for(te in l)$=l[te],Q=a[te],!l.hasOwnProperty(te)||$===Q||$==null&&Q==null||Ze(t,r,te,$,l,Q)}var im=null,rm=null;function Fc(t){return t.nodeType===9?t:t.ownerDocument}function f_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function d_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function sm(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var am=null;function oS(){var t=window.event;return t&&t.type==="popstate"?t===am?!1:(am=t,!0):(am=null,!1)}var m_=typeof setTimeout=="function"?setTimeout:void 0,lS=typeof clearTimeout=="function"?clearTimeout:void 0,p_=typeof Promise=="function"?Promise:void 0,uS=typeof queueMicrotask=="function"?queueMicrotask:typeof p_<"u"?function(t){return p_.resolve(null).then(t).catch(cS)}:m_;function cS(t){setTimeout(function(){throw t})}function om(t,r){var a=r,l=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(l===0){t.removeChild(f),jl(r);return}l--}else a!=="$"&&a!=="$?"&&a!=="$!"||l++;a=f}while(a);jl(r)}function lm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":lm(a),As(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function hS(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Rr])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(m=t.getAttribute("rel"),m==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(m!==f.rel||t.getAttribute("href")!==(f.href==null?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(m=t.getAttribute("src"),(m!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===m)return t}else return t;if(t=ei(t.nextSibling),t===null)break}return null}function fS(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=ei(t.nextSibling),t===null))return null;return t}function ei(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}function g_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function y_(t,r,a){switch(r=Fc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}var Bn=new Map,v_=new Set;function Gc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.ownerDocument}var nr=ae.d;ae.d={f:dS,r:mS,D:pS,C:gS,L:yS,m:vS,X:ES,S:_S,M:TS};function dS(){var t=nr.f(),r=Uc();return t||r}function mS(t){var r=Vi(t);r!==null&&r.tag===5&&r.type==="form"?Gy(r):nr.r(t)}var io=typeof document>"u"?null:document;function __(t,r,a){var l=io;if(l&&typeof r=="string"&&r){var f=dt(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),v_.has(f)||(v_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),ut(r),l.head.appendChild(r)))}}function pS(t){nr.D(t),__("dns-prefetch",t,null)}function gS(t,r){nr.C(t,r),__("preconnect",t,r)}function yS(t,r,a){nr.L(t,r,a);var l=io;if(l&&t&&r){var f='link[rel="preload"][as="'+dt(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+dt(a.imageSizes)+'"]')):f+='[href="'+dt(t)+'"]';var m=f;switch(r){case"style":m=ro(t);break;case"script":m=so(t)}Bn.has(m)||(t=D({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),Bn.set(m,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ol(m))||r==="script"&&l.querySelector(Ml(m))||(r=l.createElement("link"),$t(r,"link",t),ut(r),l.head.appendChild(r)))}}function vS(t,r){nr.m(t,r);var a=io;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+dt(l)+'"][href="'+dt(t)+'"]',m=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=so(t)}if(!Bn.has(m)&&(t=D({rel:"modulepreload",href:t},r),Bn.set(m,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ml(m)))return}l=a.createElement("link"),$t(l,"link",t),ut(l),a.head.appendChild(l)}}}function _S(t,r,a){nr.S(t,r,a);var l=io;if(l&&t){var f=Ir(l).hoistableStyles,m=ro(t);r=r||"default";var _=f.get(m);if(!_){var b={loading:0,preload:null};if(_=l.querySelector(Ol(m)))b.loading=5;else{t=D({rel:"stylesheet",href:t,"data-precedence":r},a),(a=Bn.get(m))&&um(t,a);var C=_=l.createElement("link");ut(C),$t(C,"link",t),C._p=new Promise(function(j,Y){C.onload=j,C.onerror=Y}),C.addEventListener("load",function(){b.loading|=1}),C.addEventListener("error",function(){b.loading|=2}),b.loading|=4,$c(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:b},f.set(m,_)}}}function ES(t,r){nr.X(t,r);var a=io;if(a&&t){var l=Ir(a).hoistableScripts,f=so(t),m=l.get(f);m||(m=a.querySelector(Ml(f)),m||(t=D({src:t,async:!0},r),(r=Bn.get(f))&&cm(t,r),m=a.createElement("script"),ut(m),$t(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function TS(t,r){nr.M(t,r);var a=io;if(a&&t){var l=Ir(a).hoistableScripts,f=so(t),m=l.get(f);m||(m=a.querySelector(Ml(f)),m||(t=D({src:t,async:!0,type:"module"},r),(r=Bn.get(f))&&cm(t,r),m=a.createElement("script"),ut(m),$t(m,"link",t),a.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},l.set(f,m))}}function E_(t,r,a,l){var f=(f=it.current)?Gc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ro(a.href),a=Ir(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var m=Ir(f).hoistableStyles,_=m.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(t,_),(m=f.querySelector(Ol(t)))&&!m._p&&(_.instance=m,_.state.loading=5),Bn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Bn.set(t,a),m||wS(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(a),a=Ir(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+dt(t)+'"'}function Ol(t){return'link[rel="stylesheet"]['+t+"]"}function T_(t){return D({},t,{"data-precedence":t.precedence,precedence:null})}function wS(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),ut(r),t.head.appendChild(r))}function so(t){return'[src="'+dt(t)+'"]'}function Ml(t){return"script[async]"+t}function w_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+dt(a.href)+'"]');if(l)return r.instance=l,ut(l),l;var f=D({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),ut(l),$t(l,"style",f),$c(l,a.precedence,t),r.instance=l;case"stylesheet":f=ro(a.href);var m=t.querySelector(Ol(f));if(m)return r.state.loading|=4,r.instance=m,ut(m),m;l=T_(a),(f=Bn.get(f))&&um(l,f),m=(t.ownerDocument||t).createElement("link"),ut(m);var _=m;return _._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),$t(m,"link",l),r.state.loading|=4,$c(m,a.precedence,t),r.instance=m;case"script":return m=so(a.src),(f=t.querySelector(Ml(m)))?(r.instance=f,ut(f),f):(l=a,(f=Bn.get(m))&&(l=D({},a),cm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),ut(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,$c(l,a.precedence,t));return r.instance}function $c(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,m=f,_=0;_<l.length;_++){var b=l[_];if(b.dataset.precedence===r)m=b;else if(m!==f)break}m?m.parentNode.insertBefore(t,m.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function um(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function cm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var Kc=null;function b_(t,r,a){if(Kc===null){var l=new Map,f=Kc=new Map;f.set(a,l)}else f=Kc,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var m=a[f];if(!(m[Rr]||m[Pt]||t==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(r)||"";_=t+_;var b=l.get(_);b?b.push(m):l.set(_,[m])}}return l}function A_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function bS(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function S_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Vl=null;function AS(){}function SS(t,r,a){if(Vl===null)throw Error(s(475));var l=Vl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ro(a.href),m=t.querySelector(Ol(f));if(m){t=m._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Qc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=m,ut(m);return}m=t.ownerDocument||t,a=T_(a),(f=Bn.get(f))&&um(a,f),m=m.createElement("link"),ut(m);var _=m;_._p=new Promise(function(b,C){_.onload=b,_.onerror=C}),$t(m,"link",a),r.instance=m}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Qc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function RS(){if(Vl===null)throw Error(s(475));var t=Vl;return t.stylesheets&&t.count===0&&hm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&hm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Qc(){if(this.count--,this.count===0){if(this.stylesheets)hm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Yc=null;function hm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Yc=new Map,r.forEach(xS,t),Yc=null,Qc.call(t))}function xS(t,r){if(!(r.state.loading&4)){var a=Yc.get(t);if(a)var l=a.get(null);else{a=new Map,Yc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),m=a.get(_)||l,m===l&&a.set(null,f),a.set(_,f),this.count++,l=Qc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),m?m.parentNode.insertBefore(f,m.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var kl={$$typeof:N,Provider:null,Consumer:null,_currentValue:Ae,_currentValue2:Ae,_threadCount:0};function IS(t,r,a,l,f,m,_,b){this.tag=1,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ea(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ea(0),this.hiddenUpdates=Ea(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=b,this.incompleteTransitions=new Map}function R_(t,r,a,l,f,m,_,b,C,j,Y,te){return t=new IS(t,r,a,_,b,C,j,te),r=1,m===!0&&(r|=24),m=jn(3,null,null,r),t.current=m,m.stateNode=t,r=Hf(),r.refCount++,t.pooledCache=r,r.refCount++,m.memoizedState={element:l,isDehydrated:a,cache:r},bd(m),t}function x_(t){return t?(t=Ua,t):Ua}function I_(t,r,a,l,f,m){f=x_(f),l.context===null?l.context=f:l.pendingContext=f,l=Br(r),l.payload={element:a},m=m===void 0?null:m,m!==null&&(l.callback=m),a=qr(t,l,r),a!==null&&(un(a,t,r),vl(a,t,r))}function C_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function fm(t,r){C_(t,r),(t=t.alternate)&&C_(t,r)}function N_(t){if(t.tag===13){var r=Vr(t,67108864);r!==null&&un(r,t,67108864),fm(t,67108864)}}var Xc=!0;function CS(t,r,a,l){var f=S.T;S.T=null;var m=ae.p;try{ae.p=2,dm(t,r,a,l)}finally{ae.p=m,S.T=f}}function NS(t,r,a,l){var f=S.T;S.T=null;var m=ae.p;try{ae.p=8,dm(t,r,a,l)}finally{ae.p=m,S.T=f}}function dm(t,r,a,l){if(Xc){var f=mm(l);if(f===null)tm(t,r,l,Wc,a),O_(t,l);else if(OS(f,t,r,a,l))l.stopPropagation();else if(O_(t,l),r&4&&-1<DS.indexOf(t)){for(;f!==null;){var m=Vi(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Yn(m.pendingLanes);if(_!==0){var b=m;for(b.pendingLanes|=2,b.entangledLanes|=2;_;){var C=1<<31-sn(_);b.entanglements[1]|=C,_&=~C}wi(m),(ht&6)===0&&(Vc=cn()+500,Cl(0))}}break;case 13:b=Vr(m,2),b!==null&&un(b,m,2),Uc(),fm(m,2)}if(m=mm(l),m===null&&tm(t,r,l,Wc,a),m===f)break;f=m}f!==null&&l.stopPropagation()}else tm(t,r,l,null,a)}}function mm(t){return t=Sa(t),pm(t)}var Wc=null;function pm(t){if(Wc=null,t=Xn(t),t!==null){var r=pe(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=Le(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Wc=t,null}function D_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Pu()){case xt:return 2;case kt:return 8;case Oi:case Uu:return 32;case Uo:return 268435456;default:return 32}default:return 32}}var gm=!1,Yr=null,Xr=null,Wr=null,Pl=new Map,Ul=new Map,Zr=[],DS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function O_(t,r){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Wr=null;break;case"pointerover":case"pointerout":Pl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ul.delete(r.pointerId)}}function Ll(t,r,a,l,f,m){return t===null||t.nativeEvent!==m?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:m,targetContainers:[f]},r!==null&&(r=Vi(r),r!==null&&N_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function OS(t,r,a,l,f){switch(r){case"focusin":return Yr=Ll(Yr,t,r,a,l,f),!0;case"dragenter":return Xr=Ll(Xr,t,r,a,l,f),!0;case"mouseover":return Wr=Ll(Wr,t,r,a,l,f),!0;case"pointerover":var m=f.pointerId;return Pl.set(m,Ll(Pl.get(m)||null,t,r,a,l,f)),!0;case"gotpointercapture":return m=f.pointerId,Ul.set(m,Ll(Ul.get(m)||null,t,r,a,l,f)),!0}return!1}function M_(t){var r=Xn(t.target);if(r!==null){var a=pe(r);if(a!==null){if(r=a.tag,r===13){if(r=Le(a),r!==null){t.blockedOn=r,Sr(t.priority,function(){if(a.tag===13){var l=bn(),f=Vr(a,l);f!==null&&un(f,a,l),fm(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=mm(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);Cn=l,a.target.dispatchEvent(l),Cn=null}else return r=Vi(a),r!==null&&N_(r),t.blockedOn=a,!1;r.shift()}return!0}function V_(t,r,a){Zc(t)&&a.delete(r)}function MS(){gm=!1,Yr!==null&&Zc(Yr)&&(Yr=null),Xr!==null&&Zc(Xr)&&(Xr=null),Wr!==null&&Zc(Wr)&&(Wr=null),Pl.forEach(V_),Ul.forEach(V_)}function Jc(t,r){t.blockedOn===r&&(t.blockedOn=null,gm||(gm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,MS)))}var eh=null;function k_(t){eh!==t&&(eh=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){eh===t&&(eh=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(pm(l||a)===null)continue;break}var m=Vi(a);m!==null&&(t.splice(r,3),r-=3,sd(m,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function jl(t){function r(C){return Jc(C,t)}Yr!==null&&Jc(Yr,t),Xr!==null&&Jc(Xr,t),Wr!==null&&Jc(Wr,t),Pl.forEach(r),Ul.forEach(r);for(var a=0;a<Zr.length;a++){var l=Zr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Zr.length&&(a=Zr[0],a.blockedOn===null);)M_(a),a.blockedOn===null&&Zr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],m=a[l+1],_=f[It]||null;if(typeof m=="function")_||k_(a);else if(_){var b=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[It]||null)b=_.formAction;else if(pm(f)!==null)continue}else b=_.action;typeof b=="function"?a[l+1]=b:(a.splice(l,3),l-=3),k_(a)}}}function ym(t){this._internalRoot=t}th.prototype.render=ym.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();I_(a,l,t,r,null,null)},th.prototype.unmount=ym.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;t.tag===0&&eo(),I_(t.current,2,null,t,null,null),Uc(),r[Mi]=null}};function th(t){this._internalRoot=t}th.prototype.unstable_scheduleHydration=function(t){if(t){var r=qu();t={blockedOn:null,target:t,priority:r};for(var a=0;a<Zr.length&&r!==0&&r<Zr[a].priority;a++);Zr.splice(a,0,t),a===0&&M_(t)}};var P_=e.version;if(P_!=="19.0.0")throw Error(s(527,P_,"19.0.0"));ae.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=ne(r),t=t!==null?fe(t):null,t=t===null?null:t.stateNode,t};var VS={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:S,findFiberByHostInstance:Xn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nh.isDisabled&&nh.supportsFiber)try{_r=nh.inject(VS),Xt=nh}catch{}}return Bl.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=Jy,m=ev,_=tv,b=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(m=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks)),r=R_(t,1,!1,null,null,a,l,f,m,_,b,null),t[Mi]=r.current,em(t.nodeType===8?t.parentNode:t),new ym(r)},Bl.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",m=Jy,_=ev,b=tv,C=null,j=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(b=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(C=a.unstable_transitionCallbacks),a.formState!==void 0&&(j=a.formState)),r=R_(t,1,!0,r,a??null,l,f,m,_,b,C,j),r.context=x_(null),a=r.current,l=bn(),f=Br(l),f.callback=null,qr(a,f,l),r.current.lanes=l,vt(r,l),wi(r),t[Mi]=r.current,em(t),new th(r)},Bl.version="19.0.0",Bl}var $_;function GS(){if($_)return Em.exports;$_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Em.exports=FS(),Em.exports}var $S=GS(),ql={},K_;function KS(){if(K_)return ql;K_=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.parse=h,ql.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function h(w,N){const P=new u,q=w.length;if(q<2)return P;const O=(N==null?void 0:N.decode)||E;let G=0;do{const ee=w.indexOf("=",G);if(ee===-1)break;const W=w.indexOf(";",G),de=W===-1?q:W;if(ee>de){G=w.lastIndexOf(";",ee-1)+1;continue}const le=d(w,G,ee),ge=p(w,ee,le),U=w.slice(le,ge);if(P[U]===void 0){let R=d(w,ee+1,de),S=p(w,de,R);const D=O(w.slice(R,S));P[U]=D}G=de+1}while(G<q);return P}function d(w,N,P){do{const q=w.charCodeAt(N);if(q!==32&&q!==9)return N}while(++N<P);return P}function p(w,N,P){for(;N>P;){const q=w.charCodeAt(--N);if(q!==32&&q!==9)return N+1}return P}function g(w,N,P){const q=(P==null?void 0:P.encode)||encodeURIComponent;if(!i.test(w))throw new TypeError(`argument name is invalid: ${w}`);const O=q(N);if(!e.test(O))throw new TypeError(`argument val is invalid: ${N}`);let G=w+"="+O;if(!P)return G;if(P.maxAge!==void 0){if(!Number.isInteger(P.maxAge))throw new TypeError(`option maxAge is invalid: ${P.maxAge}`);G+="; Max-Age="+P.maxAge}if(P.domain){if(!n.test(P.domain))throw new TypeError(`option domain is invalid: ${P.domain}`);G+="; Domain="+P.domain}if(P.path){if(!s.test(P.path))throw new TypeError(`option path is invalid: ${P.path}`);G+="; Path="+P.path}if(P.expires){if(!T(P.expires)||!Number.isFinite(P.expires.valueOf()))throw new TypeError(`option expires is invalid: ${P.expires}`);G+="; Expires="+P.expires.toUTCString()}if(P.httpOnly&&(G+="; HttpOnly"),P.secure&&(G+="; Secure"),P.partitioned&&(G+="; Partitioned"),P.priority)switch(typeof P.priority=="string"?P.priority.toLowerCase():void 0){case"low":G+="; Priority=Low";break;case"medium":G+="; Priority=Medium";break;case"high":G+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${P.priority}`)}if(P.sameSite)switch(typeof P.sameSite=="string"?P.sameSite.toLowerCase():P.sameSite){case!0:case"strict":G+="; SameSite=Strict";break;case"lax":G+="; SameSite=Lax";break;case"none":G+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${P.sameSite}`)}return G}function E(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function T(w){return o.call(w)==="[object Date]"}return ql}KS();/**
 * react-router v7.4.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Q_="popstate";function QS(i={}){function e(o,u){let{pathname:h="/",search:d="",hash:p=""}=ca(o.location.hash.substring(1));return!h.startsWith("/")&&!h.startsWith(".")&&(h="/"+h),zm("",{pathname:h,search:d,hash:p},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function n(o,u){let h=o.document.querySelector("base"),d="";if(h&&h.getAttribute("href")){let p=o.location.href,g=p.indexOf("#");d=g===-1?p:p.slice(0,g)}return d+"#"+(typeof u=="string"?u:fu(u))}function s(o,u){Qn(o.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(u)})`)}return XS(e,n,s,i)}function ot(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Qn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YS(){return Math.random().toString(36).substring(2,10)}function Y_(i,e){return{usr:i.state,key:i.key,idx:e}}function zm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?ca(e):e,state:n,key:e&&e.key||s||YS()}}function fu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function ca(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function XS(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,d="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function T(){d="POP";let O=E(),G=O==null?null:O-g;g=O,p&&p({action:d,location:q.location,delta:G})}function w(O,G){d="PUSH";let ee=zm(q.location,O,G);n&&n(ee,O),g=E()+1;let W=Y_(ee,g),de=q.createHref(ee);try{h.pushState(W,"",de)}catch(le){if(le instanceof DOMException&&le.name==="DataCloneError")throw le;o.location.assign(de)}u&&p&&p({action:d,location:q.location,delta:1})}function N(O,G){d="REPLACE";let ee=zm(q.location,O,G);n&&n(ee,O),g=E();let W=Y_(ee,g),de=q.createHref(ee);h.replaceState(W,"",de),u&&p&&p({action:d,location:q.location,delta:0})}function P(O){let G=o.location.origin!=="null"?o.location.origin:o.location.href,ee=typeof O=="string"?O:fu(O);return ee=ee.replace(/ $/,"%20"),ot(G,`No window.location.(origin|href) available to create URL for href: ${ee}`),new URL(ee,G)}let q={get action(){return d},get location(){return i(o,h)},listen(O){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Q_,T),p=O,()=>{o.removeEventListener(Q_,T),p=null}},createHref(O){return e(o,O)},createURL:P,encodeLocation(O){let G=P(O);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:w,replace:N,go(O){return h.go(O)}};return q}function nT(i,e,n="/"){return WS(i,e,n,!1)}function WS(i,e,n,s){let o=typeof e=="string"?ca(e):e,u=hr(o.pathname||"/",n);if(u==null)return null;let h=iT(i);ZS(h);let d=null;for(let p=0;d==null&&p<h.length;++p){let g=uR(u);d=oR(h[p],g,s)}return d}function iT(i,e=[],n=[],s=""){let o=(u,h,d)=>{let p={relativePath:d===void 0?u.path||"":d,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(ot(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=lr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(ot(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),iT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:sR(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{var d;if(u.path===""||!((d=u.path)!=null&&d.includes("?")))o(u,h);else for(let p of rT(u.path))o(u,h,p)}),e}function rT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=rT(s.join("/")),d=[];return d.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&d.push(...h),d.map(p=>i.startsWith("/")&&p===""?"/":p)}function ZS(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:aR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var JS=/^:[\w-]+$/,eR=3,tR=2,nR=1,iR=10,rR=-2,X_=i=>i==="*";function sR(i,e){let n=i.split("/"),s=n.length;return n.some(X_)&&(s+=rR),e&&(s+=tR),n.filter(o=>!X_(o)).reduce((o,u)=>o+(JS.test(u)?eR:u===""?nR:iR),s)}function aR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function oR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let d=0;d<s.length;++d){let p=s[d],g=d===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),w=p.route;if(!T&&g&&n&&!s[s.length-1].route.index&&(T=wh({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:lr([u,T.pathname]),pathnameBase:dR(lr([u,T.pathnameBase])),route:w}),T.pathnameBase!=="/"&&(u=lr([u,T.pathnameBase]))}return h}function wh(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=lR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:T},w)=>{if(E==="*"){let P=d[w]||"";h=u.slice(0,u.length-P.length).replace(/(.)\/+$/,"$1")}const N=d[w];return T&&!N?g[E]=void 0:g[E]=(N||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function lR(i,e=!1,n=!0){Qn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,d,p)=>(s.push({paramName:d,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function uR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Qn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function hr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function cR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?ca(i):i;return{pathname:n?n.startsWith("/")?n:hR(n,e):e,search:mR(s),hash:pR(o)}}function hR(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Am(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function fR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function _p(i){let e=fR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Ep(i,e,n,s=!1){let o;typeof i=="string"?o=ca(i):(o={...i},ot(!o.pathname||!o.pathname.includes("?"),Am("?","pathname","search",o)),ot(!o.pathname||!o.pathname.includes("#"),Am("#","pathname","hash",o)),ot(!o.search||!o.search.includes("#"),Am("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,d;if(h==null)d=n;else{let T=e.length-1;if(!s&&h.startsWith("..")){let w=h.split("/");for(;w[0]==="..";)w.shift(),T-=1;o.pathname=w.join("/")}d=T>=0?e[T]:"/"}let p=cR(o,d),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var lr=i=>i.join("/").replace(/\/\/+/g,"/"),dR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),mR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,pR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function gR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var sT=["POST","PUT","PATCH","DELETE"];new Set(sT);var yR=["GET",...sT];new Set(yR);var Ro=z.createContext(null);Ro.displayName="DataRouter";var Fh=z.createContext(null);Fh.displayName="DataRouterState";var aT=z.createContext({isTransitioning:!1});aT.displayName="ViewTransition";var vR=z.createContext(new Map);vR.displayName="Fetchers";var _R=z.createContext(null);_R.displayName="Await";var si=z.createContext(null);si.displayName="Navigation";var bu=z.createContext(null);bu.displayName="Location";var Ni=z.createContext({outlet:null,matches:[],isDataRoute:!1});Ni.displayName="Route";var Tp=z.createContext(null);Tp.displayName="RouteError";function ER(i,{relative:e}={}){ot(xo(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=z.useContext(si),{hash:o,pathname:u,search:h}=Su(i,{relative:e}),d=u;return n!=="/"&&(d=u==="/"?n:lr([n,u])),s.createHref({pathname:d,search:h,hash:o})}function xo(){return z.useContext(bu)!=null}function ys(){return ot(xo(),"useLocation() may be used only in the context of a <Router> component."),z.useContext(bu).location}var oT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function lT(i){z.useContext(si).static||z.useLayoutEffect(i)}function Au(){let{isDataRoute:i}=z.useContext(Ni);return i?MR():TR()}function TR(){ot(xo(),"useNavigate() may be used only in the context of a <Router> component.");let i=z.useContext(Ro),{basename:e,navigator:n}=z.useContext(si),{matches:s}=z.useContext(Ni),{pathname:o}=ys(),u=JSON.stringify(_p(s)),h=z.useRef(!1);return lT(()=>{h.current=!0}),z.useCallback((p,g={})=>{if(Qn(h.current,oT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Ep(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:lr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}z.createContext(null);function Su(i,{relative:e}={}){let{matches:n}=z.useContext(Ni),{pathname:s}=ys(),o=JSON.stringify(_p(n));return z.useMemo(()=>Ep(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function wR(i,e){return uT(i,e)}function uT(i,e,n,s){var ee;ot(xo(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:u}=z.useContext(si),{matches:h}=z.useContext(Ni),d=h[h.length-1],p=d?d.params:{},g=d?d.pathname:"/",E=d?d.pathnameBase:"/",T=d&&d.route;{let W=T&&T.path||"";cT(g,!T||W.endsWith("*")||W.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${W}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${W}"> to <Route path="${W==="/"?"*":`${W}/*`}">.`)}let w=ys(),N;if(e){let W=typeof e=="string"?ca(e):e;ot(E==="/"||((ee=W.pathname)==null?void 0:ee.startsWith(E)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${E}" but pathname "${W.pathname}" was given in the \`location\` prop.`),N=W}else N=w;let P=N.pathname||"/",q=P;if(E!=="/"){let W=E.replace(/^\//,"").split("/");q="/"+P.replace(/^\//,"").split("/").slice(W.length).join("/")}let O=!u&&n&&n.matches&&n.matches.length>0?n.matches:nT(i,{pathname:q});Qn(T||O!=null,`No routes matched location "${N.pathname}${N.search}${N.hash}" `),Qn(O==null||O[O.length-1].route.element!==void 0||O[O.length-1].route.Component!==void 0||O[O.length-1].route.lazy!==void 0,`Matched leaf route at location "${N.pathname}${N.search}${N.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let G=xR(O&&O.map(W=>Object.assign({},W,{params:Object.assign({},p,W.params),pathname:lr([E,o.encodeLocation?o.encodeLocation(W.pathname).pathname:W.pathname]),pathnameBase:W.pathnameBase==="/"?E:lr([E,o.encodeLocation?o.encodeLocation(W.pathnameBase).pathname:W.pathnameBase])})),h,n,s);return e&&G?z.createElement(bu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...N},navigationType:"POP"}},G):G}function bR(){let i=OR(),e=gR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=z.createElement(z.Fragment,null,z.createElement("p",null,"💿 Hey developer 👋"),z.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",z.createElement("code",{style:u},"ErrorBoundary")," or"," ",z.createElement("code",{style:u},"errorElement")," prop on your route.")),z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),n?z.createElement("pre",{style:o},n):null,h)}var AR=z.createElement(bR,null),SR=class extends z.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?z.createElement(Ni.Provider,{value:this.props.routeContext},z.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function RR({routeContext:i,match:e,children:n}){let s=z.useContext(Ro);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),z.createElement(Ni.Provider,{value:i},n)}function xR(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n==null?void 0:n.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);ot(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,d=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(d=p),g.route.id){let{loaderData:E,errors:T}=n,w=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!T||T[g.route.id]===void 0);if(g.route.lazy||w){h=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let T,w=!1,N=null,P=null;n&&(T=u&&g.route.id?u[g.route.id]:void 0,N=g.route.errorElement||AR,h&&(d<0&&E===0?(cT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,P=null):d===E&&(w=!0,P=g.route.hydrateFallbackElement||null)));let q=e.concat(o.slice(0,E+1)),O=()=>{let G;return T?G=N:w?G=P:g.route.Component?G=z.createElement(g.route.Component,null):g.route.element?G=g.route.element:G=p,z.createElement(RR,{match:g,routeContext:{outlet:p,matches:q,isDataRoute:n!=null},children:G})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?z.createElement(SR,{location:n.location,revalidation:n.revalidation,component:N,error:T,children:O(),routeContext:{outlet:null,matches:q,isDataRoute:!0}}):O()},null)}function wp(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function IR(i){let e=z.useContext(Ro);return ot(e,wp(i)),e}function CR(i){let e=z.useContext(Fh);return ot(e,wp(i)),e}function NR(i){let e=z.useContext(Ni);return ot(e,wp(i)),e}function bp(i){let e=NR(i),n=e.matches[e.matches.length-1];return ot(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function DR(){return bp("useRouteId")}function OR(){var s;let i=z.useContext(Tp),e=CR("useRouteError"),n=bp("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function MR(){let{router:i}=IR("useNavigate"),e=bp("useNavigate"),n=z.useRef(!1);return lT(()=>{n.current=!0}),z.useCallback(async(o,u={})=>{Qn(n.current,oT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var W_={};function cT(i,e,n){!e&&!W_[i]&&(W_[i]=!0,Qn(!1,n))}z.memo(VR);function VR({routes:i,future:e,state:n}){return uT(i,void 0,n,e)}function ti({to:i,replace:e,state:n,relative:s}){ot(xo(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=z.useContext(si);Qn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=z.useContext(Ni),{pathname:h}=ys(),d=Au(),p=Ep(i,_p(u),h,s==="path"),g=JSON.stringify(p);return z.useEffect(()=>{d(JSON.parse(g),{replace:e,state:n,relative:s})},[d,g,s,e,n]),null}function qn(i){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function kR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){ot(!xo(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),d=z.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=ca(n));let{pathname:p="/",search:g="",hash:E="",state:T=null,key:w="default"}=n,N=z.useMemo(()=>{let P=hr(p,h);return P==null?null:{location:{pathname:P,search:g,hash:E,state:T,key:w},navigationType:s}},[h,p,g,E,T,w,s]);return Qn(N!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),N==null?null:z.createElement(si.Provider,{value:d},z.createElement(bu.Provider,{children:e,value:N}))}function PR({children:i,location:e}){return wR(Bm(i),e)}function Bm(i,e=[]){let n=[];return z.Children.forEach(i,(s,o)=>{if(!z.isValidElement(s))return;let u=[...e,o];if(s.type===z.Fragment){n.push.apply(n,Bm(s.props.children,u));return}ot(s.type===qn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Bm(s.props.children,u)),n.push(h)}),n}var ch="get",hh="application/x-www-form-urlencoded";function Gh(i){return i!=null&&typeof i.tagName=="string"}function UR(i){return Gh(i)&&i.tagName.toLowerCase()==="button"}function LR(i){return Gh(i)&&i.tagName.toLowerCase()==="form"}function jR(i){return Gh(i)&&i.tagName.toLowerCase()==="input"}function zR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function BR(i,e){return i.button===0&&(!e||e==="_self")&&!zR(i)}var ih=null;function qR(){if(ih===null)try{new FormData(document.createElement("form"),0),ih=!1}catch{ih=!0}return ih}var HR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Sm(i){return i!=null&&!HR.has(i)?(Qn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${hh}"`),null):i}function FR(i,e){let n,s,o,u,h;if(LR(i)){let d=i.getAttribute("action");s=d?hr(d,e):null,n=i.getAttribute("method")||ch,o=Sm(i.getAttribute("enctype"))||hh,u=new FormData(i)}else if(UR(i)||jR(i)&&(i.type==="submit"||i.type==="image")){let d=i.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||d.getAttribute("action");if(s=p?hr(p,e):null,n=i.getAttribute("formmethod")||d.getAttribute("method")||ch,o=Sm(i.getAttribute("formenctype"))||Sm(d.getAttribute("enctype"))||hh,u=new FormData(d,i),!qR()){let{name:g,type:E,value:T}=i;if(E==="image"){let w=g?`${g}.`:"";u.append(`${w}x`,"0"),u.append(`${w}y`,"0")}else g&&u.append(g,T)}}else{if(Gh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ch,s=null,o=hh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Ap(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function GR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function $R(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function KR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await GR(u,n);return h.links?h.links():[]}return[]}));return WR(s.flat(1).filter($R).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function Z_(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,d=(p,g)=>{var E;return n[g].pathname!==p.pathname||((E=n[g].route.path)==null?void 0:E.endsWith("*"))&&n[g].params["*"]!==p.params["*"]};return u==="assets"?e.filter((p,g)=>h(p,g)||d(p,g)):u==="data"?e.filter((p,g)=>{var T;let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||d(p,g))return!0;if(p.route.shouldRevalidate){let w=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:((T=n[0])==null?void 0:T.params)||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function QR(i,e,{includeHydrateFallback:n}={}){return YR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function YR(i){return[...new Set(i)]}function XR(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function WR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify(XR(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}function ZR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&hr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function hT(){let i=z.useContext(Ro);return Ap(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function JR(){let i=z.useContext(Fh);return Ap(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Sp=z.createContext(void 0);Sp.displayName="FrameworkContext";function fT(){let i=z.useContext(Sp);return Ap(i,"You must render this element inside a <HydratedRouter> element"),i}function ex(i,e){let n=z.useContext(Sp),[s,o]=z.useState(!1),[u,h]=z.useState(!1),{onFocus:d,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:T}=e,w=z.useRef(null);z.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let q=G=>{G.forEach(ee=>{h(ee.isIntersecting)})},O=new IntersectionObserver(q,{threshold:.5});return w.current&&O.observe(w.current),()=>{O.disconnect()}}},[i]),z.useEffect(()=>{if(s){let q=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(q)}}},[s]);let N=()=>{o(!0)},P=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,w,{}]:[u,w,{onFocus:Hl(d,N),onBlur:Hl(p,P),onMouseEnter:Hl(g,N),onMouseLeave:Hl(E,P),onTouchStart:Hl(T,N)}]:[!1,w,{}]}function Hl(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function tx({page:i,...e}){let{router:n}=hT(),s=z.useMemo(()=>nT(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?z.createElement(ix,{page:i,matches:s,...e}):null}function nx(i){let{manifest:e,routeModules:n}=fT(),[s,o]=z.useState([]);return z.useEffect(()=>{let u=!1;return KR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function ix({page:i,matches:e,...n}){let s=ys(),{manifest:o,routeModules:u}=fT(),{basename:h}=hT(),{loaderData:d,matches:p}=JR(),g=z.useMemo(()=>Z_(i,e,p,o,s,"data"),[i,e,p,o,s]),E=z.useMemo(()=>Z_(i,e,p,o,s,"assets"),[i,e,p,o,s]),T=z.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let P=new Set,q=!1;if(e.forEach(G=>{var W;let ee=o.routes[G.route.id];!ee||!ee.hasLoader||(!g.some(de=>de.route.id===G.route.id)&&G.route.id in d&&((W=u[G.route.id])!=null&&W.shouldRevalidate)||ee.hasClientLoader?q=!0:P.add(G.route.id))}),P.size===0)return[];let O=ZR(i,h);return q&&P.size>0&&O.searchParams.set("_routes",e.filter(G=>P.has(G.route.id)).map(G=>G.route.id).join(",")),[O.pathname+O.search]},[h,d,s,o,g,e,i,u]),w=z.useMemo(()=>QR(E,o),[E,o]),N=nx(E);return z.createElement(z.Fragment,null,T.map(P=>z.createElement("link",{key:P,rel:"prefetch",as:"fetch",href:P,...n})),w.map(P=>z.createElement("link",{key:P,rel:"modulepreload",href:P,...n})),N.map(({key:P,link:q})=>z.createElement("link",{key:P,...q})))}function rx(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var dT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{dT&&(window.__reactRouterVersion="7.4.0")}catch{}function sx({basename:i,children:e,window:n}){let s=z.useRef();s.current==null&&(s.current=QS({window:n,v5Compat:!0}));let o=s.current,[u,h]=z.useState({action:o.action,location:o.location}),d=z.useCallback(p=>{z.startTransition(()=>h(p))},[h]);return z.useLayoutEffect(()=>o.listen(d),[o,d]),z.createElement(kR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var mT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,rt=z.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:d,target:p,to:g,preventScrollReset:E,viewTransition:T,...w},N){let{basename:P}=z.useContext(si),q=typeof g=="string"&&mT.test(g),O,G=!1;if(typeof g=="string"&&q&&(O=g,dT))try{let S=new URL(window.location.href),D=g.startsWith("//")?new URL(S.protocol+g):new URL(g),M=hr(D.pathname,P);D.origin===S.origin&&M!=null?g=M+D.search+D.hash:G=!0}catch{Qn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ee=ER(g,{relative:o}),[W,de,le]=ex(s,w),ge=ux(g,{replace:h,state:d,target:p,preventScrollReset:E,relative:o,viewTransition:T});function U(S){e&&e(S),S.defaultPrevented||ge(S)}let R=z.createElement("a",{...w,...le,href:O||ee,onClick:G||u?e:U,ref:rx(N,de),target:p,"data-discover":!q&&n==="render"?"true":void 0});return W&&!q?z.createElement(z.Fragment,null,R,z.createElement(tx,{page:ee})):R});rt.displayName="Link";var ax=z.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:d,children:p,...g},E){let T=Su(h,{relative:g.relative}),w=ys(),N=z.useContext(Fh),{navigator:P,basename:q}=z.useContext(si),O=N!=null&&mx(T)&&d===!0,G=P.encodeLocation?P.encodeLocation(T).pathname:T.pathname,ee=w.pathname,W=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;n||(ee=ee.toLowerCase(),W=W?W.toLowerCase():null,G=G.toLowerCase()),W&&q&&(W=hr(W,q)||W);const de=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let le=ee===G||!o&&ee.startsWith(G)&&ee.charAt(de)==="/",ge=W!=null&&(W===G||!o&&W.startsWith(G)&&W.charAt(G.length)==="/"),U={isActive:le,isPending:ge,isTransitioning:O},R=le?e:void 0,S;typeof s=="function"?S=s(U):S=[s,le?"active":null,ge?"pending":null,O?"transitioning":null].filter(Boolean).join(" ");let D=typeof u=="function"?u(U):u;return z.createElement(rt,{...g,"aria-current":R,className:S,ref:E,style:D,to:h,viewTransition:d},typeof p=="function"?p(U):p)});ax.displayName="NavLink";var ox=z.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=ch,action:d,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:T,...w},N)=>{let P=fx(),q=dx(d,{relative:g}),O=h.toLowerCase()==="get"?"get":"post",G=typeof d=="string"&&mT.test(d),ee=W=>{if(p&&p(W),W.defaultPrevented)return;W.preventDefault();let de=W.nativeEvent.submitter,le=(de==null?void 0:de.getAttribute("formmethod"))||h;P(de||W.currentTarget,{fetcherKey:e,method:le,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:T})};return z.createElement("form",{ref:N,method:O,action:q,onSubmit:s?p:ee,...w,"data-discover":!G&&i==="render"?"true":void 0})});ox.displayName="Form";function lx(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pT(i){let e=z.useContext(Ro);return ot(e,lx(i)),e}function ux(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let d=Au(),p=ys(),g=Su(i,{relative:u});return z.useCallback(E=>{if(BR(E,e)){E.preventDefault();let T=n!==void 0?n:fu(p)===fu(g);d(i,{replace:T,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,d,g,n,s,e,i,o,u,h])}var cx=0,hx=()=>`__${String(++cx)}__`;function fx(){let{router:i}=pT("useSubmit"),{basename:e}=z.useContext(si),n=DR();return z.useCallback(async(s,o={})=>{let{action:u,method:h,encType:d,formData:p,body:g}=FR(s,e);if(o.navigate===!1){let E=o.fetcherKey||hx();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||d,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function dx(i,{relative:e}={}){let{basename:n}=z.useContext(si),s=z.useContext(Ni);ot(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={...Su(i||".",{relative:e})},h=ys();if(i==null){u.search=h.search;let d=new URLSearchParams(u.search),p=d.getAll("index");if(p.some(E=>E==="")){d.delete("index"),p.filter(T=>T).forEach(T=>d.append("index",T));let E=d.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:lr([n,u.pathname])),fu(u)}function mx(i,e={}){let n=z.useContext(aT);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=pT("useViewTransitionState"),o=Su(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=hr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=hr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return wh(o.pathname,h)!=null||wh(o.pathname,u)!=null}new TextEncoder;function px(){const i=Au();return z.useEffect(()=>(document.body.style.background="linear-gradient(135deg, #093f3b, #0d524d, #16222A)",()=>{document.body.style.background=""}),[]),x.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden","data-bg-container":!0,style:{backgroundColor:"#093f3b",backgroundImage:"linear-gradient(135deg, #093f3b, #0d524d, #16222A)",backgroundSize:"cover",backgroundPosition:"center"},children:[x.jsxs("nav",{className:"flex justify-between items-center p-4 lg:p-0 w-full lg:w-auto",style:{top:"57px",right:"50px",gap:"24px",position:"absolute"},children:[x.jsx(rt,{to:"#about",className:"text-white text-[18px] md:text-[24px] font-jersey hover:text-white drop-shadow-md",children:"About us"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white hidden md:block"}),x.jsx(rt,{to:"#devlogs",className:"text-white text-[18px] md:text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Devlogs"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white hidden md:block"}),x.jsx("a",{href:"https://patreon.com/realmsofwar",target:"_blank",rel:"noopener noreferrer",className:"text-white text-[18px] md:text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Support us!"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white hidden md:block"}),x.jsxs("div",{className:"relative",children:[x.jsx("div",{className:"absolute -left-[3px] right-0 top-0 bottom-0 bg-[#FF7700] rounded-[38px] shadow-md",style:{width:"112px",height:"43px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"}}),x.jsx(rt,{to:"/signin",className:"relative text-white text-[18px] md:text-[24px] font-jersey hover:text-white drop-shadow-md z-10 flex items-center justify-center",style:{width:"112px",height:"43px"},children:"Sign in"})]})]}),x.jsxs("div",{className:"absolute px-4 md:px-0",style:{top:"350px",width:"100%",display:"flex",flexDirection:"column",alignItems:"center"},children:[x.jsx("h1",{className:"text-white text-[40px] md:text-[64px] font-jersey text-center mx-auto leading-tight md:leading-[64px] drop-shadow-md",style:{maxWidth:"1162px",filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))"},children:"Online Multiplayer 2D Turn-Based Strategy Game"}),x.jsxs("div",{className:"flex flex-col items-center",style:{marginTop:"96px"},children:[x.jsx("h2",{className:"text-white text-[36px] md:text-[56px] font-jersey leading-tight md:leading-[56px]",style:{marginBottom:"28px",filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))"},children:"Join the Fight!"}),x.jsx("button",{className:"bg-[#FF7700] hover:bg-[#FF8800] text-white text-[32px] md:text-[40px] font-jersey rounded-[38px] flex items-center justify-center transition-colors",style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",width:"220px",height:"85px"},onClick:()=>i("/signin"),children:"Play Now"}),x.jsx("div",{className:"rounded-lg flex items-center justify-center",style:{backgroundColor:"rgba(10, 46, 43, 0.6)",width:"320px",height:"35px",marginTop:"29px"},children:x.jsx("p",{className:"text-white text-[20px] md:text-[28px] font-jersey-10",style:{filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"30px"},children:"Beta version open (0.2 alpha)"})})]})]})]})}const gx=()=>{};var J_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},yx=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],d=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|d&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},yT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,d=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,T=(u&3)<<4|d>>4;let w=(d&15)<<2|g>>6,N=g&63;p||(N=64,h||(w=64)),s.push(n[E],n[T],n[w],n[N])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(gT(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):yx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],d=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const T=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||d==null||g==null||T==null)throw new vx;const w=u<<2|d>>4;if(s.push(w),g!==64){const N=d<<4&240|g>>2;if(s.push(N),T!==64){const P=g<<6&192|T;s.push(P)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class vx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const _x=function(i){const e=gT(i);return yT.encodeByteArray(e,!0)},bh=function(i){return _x(i).replace(/\./g,"")},vT=function(i){try{return yT.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tx=()=>Ex().__FIREBASE_DEFAULTS__,wx=()=>{if(typeof process>"u"||typeof J_>"u")return;const i=J_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},bx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&vT(i[1]);return e&&JSON.parse(e)},$h=()=>{try{return gx()||Tx()||wx()||bx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},_T=i=>{var e,n;return(n=(e=$h())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},Ax=i=>{const e=_T(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},ET=()=>{var i;return(i=$h())===null||i===void 0?void 0:i.config},TT=i=>{var e;return(e=$h())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function xx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rn())}function Ix(){var i;const e=(i=$h())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Cx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rp(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Nx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Dx(){const i=rn();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function Ox(){return!Ix()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xp(){try{return typeof indexedDB=="object"}catch{return!1}}function Ip(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}function wT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="FirebaseError";class ai extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Mx,Object.setPrototypeOf(this,ai.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ha.prototype.create)}}class ha{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?Vx(u,s):"Error",d=`${this.serviceName}: ${h} (${o}).`;return new ai(o,d,s)}}function Vx(i,e){return i.replace(kx,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const kx=/\{\$([^}]+)}/g;function Px(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function cs(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(e0(u)&&e0(h)){if(!cs(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function e0(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ru(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Zl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Jl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function Ux(i,e){const n=new Lx(i,e);return n.subscribe.bind(n)}class Lx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");jx(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Rm),o.error===void 0&&(o.error=Rm),o.complete===void 0&&(o.complete=Rm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jx(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=1e3,Bx=2,qx=4*60*60*1e3,Hx=.5;function t0(i,e=zx,n=Bx){const s=e*Math.pow(n,i),o=Math.round(Hx*s*(Math.random()-.5)*2);return Math.min(qx,s+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(i){return i&&i._delegate?i._delegate:i}class ni{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Sx;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if($x(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(u);s===d&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Gx(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Gx(i){return i===ea?void 0:i}function $x(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Fx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ke;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(ke||(ke={}));const Qx={debug:ke.DEBUG,verbose:ke.VERBOSE,info:ke.INFO,warn:ke.WARN,error:ke.ERROR,silent:ke.SILENT},Yx=ke.INFO,Xx={[ke.DEBUG]:"log",[ke.VERBOSE]:"log",[ke.INFO]:"info",[ke.WARN]:"warn",[ke.ERROR]:"error"},Wx=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Xx[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Kh{constructor(e){this.name=e,this._logLevel=Yx,this._logHandler=Wx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ke))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Qx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ke.DEBUG,...e),this._logHandler(this,ke.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ke.VERBOSE,...e),this._logHandler(this,ke.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ke.INFO,...e),this._logHandler(this,ke.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ke.WARN,...e),this._logHandler(this,ke.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ke.ERROR,...e),this._logHandler(this,ke.ERROR,...e)}}const Zx=(i,e)=>e.some(n=>i instanceof n);let n0,i0;function Jx(){return n0||(n0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function eI(){return i0||(i0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bT=new WeakMap,qm=new WeakMap,AT=new WeakMap,xm=new WeakMap,Cp=new WeakMap;function tI(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(as(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&bT.set(n,i)}).catch(()=>{}),Cp.set(e,i),e}function nI(i){if(qm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});qm.set(i,e)}let Hm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return qm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||AT.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return as(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function iI(i){Hm=i(Hm)}function rI(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Im(this),e,...n);return AT.set(s,e.sort?e.sort():[e]),as(s)}:eI().includes(i)?function(...e){return i.apply(Im(this),e),as(bT.get(this))}:function(...e){return as(i.apply(Im(this),e))}}function sI(i){return typeof i=="function"?rI(i):(i instanceof IDBTransaction&&nI(i),Zx(i,Jx())?new Proxy(i,Hm):i)}function as(i){if(i instanceof IDBRequest)return tI(i);if(xm.has(i))return xm.get(i);const e=sI(i);return e!==i&&(xm.set(i,e),Cp.set(e,i)),e}const Im=i=>Cp.get(i);function ST(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),d=as(h);return s&&h.addEventListener("upgradeneeded",p=>{s(as(h.result),p.oldVersion,p.newVersion,as(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),d.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),d}const aI=["get","getKey","getAll","getAllKeys","count"],oI=["put","add","delete","clear"],Cm=new Map;function r0(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=oI.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||aI.includes(n)))return;const u=async function(h,...d){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(d.shift())),(await Promise.all([g[n](...d),o&&p.done]))[0]};return Cm.set(e,u),u}iI(i=>({...i,get:(e,n,s)=>r0(e,n)||i.get(e,n,s),has:(e,n)=>!!r0(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(uI(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function uI(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Fm="@firebase/app",s0="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fr=new Kh("@firebase/app"),cI="@firebase/app-compat",hI="@firebase/analytics-compat",fI="@firebase/analytics",dI="@firebase/app-check-compat",mI="@firebase/app-check",pI="@firebase/auth",gI="@firebase/auth-compat",yI="@firebase/database",vI="@firebase/data-connect",_I="@firebase/database-compat",EI="@firebase/functions",TI="@firebase/functions-compat",wI="@firebase/installations",bI="@firebase/installations-compat",AI="@firebase/messaging",SI="@firebase/messaging-compat",RI="@firebase/performance",xI="@firebase/performance-compat",II="@firebase/remote-config",CI="@firebase/remote-config-compat",NI="@firebase/storage",DI="@firebase/storage-compat",OI="@firebase/firestore",MI="@firebase/vertexai",VI="@firebase/firestore-compat",kI="firebase",PI="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm="[DEFAULT]",UI={[Fm]:"fire-core",[cI]:"fire-core-compat",[fI]:"fire-analytics",[hI]:"fire-analytics-compat",[mI]:"fire-app-check",[dI]:"fire-app-check-compat",[pI]:"fire-auth",[gI]:"fire-auth-compat",[yI]:"fire-rtdb",[vI]:"fire-data-connect",[_I]:"fire-rtdb-compat",[EI]:"fire-fn",[TI]:"fire-fn-compat",[wI]:"fire-iid",[bI]:"fire-iid-compat",[AI]:"fire-fcm",[SI]:"fire-fcm-compat",[RI]:"fire-perf",[xI]:"fire-perf-compat",[II]:"fire-rc",[CI]:"fire-rc-compat",[NI]:"fire-gcs",[DI]:"fire-gcs-compat",[OI]:"fire-fst",[VI]:"fire-fst-compat",[MI]:"fire-vertex","fire-js":"fire-js",[kI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ah=new Map,LI=new Map,$m=new Map;function a0(i,e){try{i.container.addComponent(e)}catch(n){fr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Ii(i){const e=i.name;if($m.has(e))return fr.debug(`There were multiple attempts to register component ${e}.`),!1;$m.set(e,i);for(const n of Ah.values())a0(n,i);for(const n of LI.values())a0(n,i);return!0}function fa(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Fn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},os=new ha("app","Firebase",jI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw os.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Io=PI;function Km(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Gm,automaticDataCollectionEnabled:!1},e),o=s.name;if(typeof o!="string"||!o)throw os.create("bad-app-name",{appName:String(o)});if(n||(n=ET()),!n)throw os.create("no-options");const u=Ah.get(o);if(u){if(cs(n,u.options)&&cs(s,u.config))return u;throw os.create("duplicate-app",{appName:o})}const h=new Kx(o);for(const p of $m.values())h.addComponent(p);const d=new zI(n,s,h);return Ah.set(o,d),d}function Np(i=Gm){const e=Ah.get(i);if(!e&&i===Gm&&ET())return Km();if(!e)throw os.create("no-app",{appName:i});return e}function Gn(i,e,n){var s;let o=(s=UI[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const d=[`Unable to register library "${o}" with version "${e}":`];u&&d.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&d.push("and"),h&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),fr.warn(d.join(" "));return}Ii(new ni(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="firebase-heartbeat-database",qI=1,du="firebase-heartbeat-store";let Nm=null;function RT(){return Nm||(Nm=ST(BI,qI,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(du)}catch(n){console.warn(n)}}}}).catch(i=>{throw os.create("idb-open",{originalErrorMessage:i.message})})),Nm}async function HI(i){try{const n=(await RT()).transaction(du),s=await n.objectStore(du).get(xT(i));return await n.done,s}catch(e){if(e instanceof ai)fr.warn(e.message);else{const n=os.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});fr.warn(n.message)}}}async function o0(i,e){try{const s=(await RT()).transaction(du,"readwrite");await s.objectStore(du).put(e,xT(i)),await s.done}catch(n){if(n instanceof ai)fr.warn(n.message);else{const s=os.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});fr.warn(s.message)}}}function xT(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FI=1024,GI=30;class $I{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new QI(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=l0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>GI){const h=YI(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){fr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=l0(),{heartbeatsToSend:s,unsentEntries:o}=KI(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return fr.warn(n),""}}}function l0(){return new Date().toISOString().substring(0,10)}function KI(i,e=FI){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),u0(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),u0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class QI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return xp()?Ip().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HI(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return o0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function u0(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function YI(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XI(i){Ii(new ni("platform-logger",e=>new lI(e),"PRIVATE")),Ii(new ni("heartbeat",e=>new $I(e),"PRIVATE")),Gn(Fm,s0,i),Gn(Fm,s0,"esm2017"),Gn("fire-js","")}XI("");function Dp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function IT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const WI=IT,CT=new ha("auth","Firebase",IT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Kh("@firebase/auth");function ZI(i,...e){Sh.logLevel<=ke.WARN&&Sh.warn(`Auth (${Io}): ${i}`,...e)}function fh(i,...e){Sh.logLevel<=ke.ERROR&&Sh.error(`Auth (${Io}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ii(i,...e){throw Op(i,...e)}function Ai(i,...e){return Op(i,...e)}function NT(i,e,n){const s=Object.assign(Object.assign({},WI()),{[e]:n});return new ha("auth","Firebase",s).create(e,{appName:i.name})}function ur(i){return NT(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Op(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return CT.create(i,...e)}function Te(i,e,...n){if(!i)throw Op(e,...n)}function sr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw fh(e),new Error(e)}function dr(i,e){i||sr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qm(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function JI(){return c0()==="http:"||c0()==="https:"}function c0(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JI()||Rp()||"connection"in navigator)?navigator.onLine:!0}function t1(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,dr(n>e,"Short delay should be less than long delay!"),this.isMobile=xx()||Nx()}get(){return e1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mp(i,e){dr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=new xu(3e4,6e4);function vs(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function yr(i,e,n,s,o={}){return OT(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const d=Ru(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return Cx()||(g.referrerPolicy="no-referrer"),DT.fetch()(MT(i,i.config.apiHost,n,d),g)})}async function OT(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},n1),e);try{const o=new s1(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw rh(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const d=u.ok?h.errorMessage:h.error.message,[p,g]=d.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw rh(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw rh(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw rh(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw NT(i,E,g);ii(i,E)}}catch(o){if(o instanceof ai)throw o;ii(i,"network-request-failed",{message:String(o)})}}async function Iu(i,e,n,s,o={}){const u=await yr(i,e,n,s,o);return"mfaPendingCredential"in u&&ii(i,"multi-factor-auth-required",{_serverResponse:u}),u}function MT(i,e,n,s){const o=`${e}${n}?${s}`;return i.config.emulator?Mp(i.config,o):`${i.config.apiScheme}://${o}`}function r1(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class s1{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ai(this.auth,"network-request-failed")),i1.get())})}}function rh(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ai(i,e,s);return o.customData._tokenResponse=n,o}function h0(i){return i!==void 0&&i.enterprise!==void 0}class a1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return r1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function o1(i,e){return yr(i,"GET","/v2/recaptchaConfig",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function l1(i,e){return yr(i,"POST","/v1/accounts:delete",e)}async function VT(i,e){return yr(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function u1(i,e=!1){const n=Tt(i),s=await n.getIdToken(e),o=Vp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:ru(Dm(o.auth_time)),issuedAtTime:ru(Dm(o.iat)),expirationTime:ru(Dm(o.exp)),signInProvider:h||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function Dm(i){return Number(i)*1e3}function Vp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return fh("JWT malformed, contained fewer than 3 sections"),null;try{const o=vT(n);return o?JSON.parse(o):(fh("Failed to decode base64 JWT payload"),null)}catch(o){return fh("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function f0(i){const e=Vp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vo(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof ai&&c1(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function c1({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ru(this.lastLoginAt),this.creationTime=ru(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rh(i){var e;const n=i.auth,s=await i.getIdToken(),o=await vo(i,VT(n,{idToken:s}));Te(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?kT(u.providerUserInfo):[],d=d1(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!(d!=null&&d.length),E=p?g:!1,T={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:d,metadata:new Ym(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,T)}async function f1(i){const e=Tt(i);await Rh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function d1(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function kT(i){return i.map(e=>{var{providerId:n}=e,s=Dp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(i,e){const n=await OT(i,{},async()=>{const s=Ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=MT(i,o,"/v1/token",`key=${u}`),d=await i._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",DT.fetch()(h,{method:"POST",headers:d,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function p1(i,e){return yr(i,"POST","/v2/accounts:revokeToken",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):f0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=f0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await m1(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return sr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class ar{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Dp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new h1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Ym(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await vo(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return u1(this,e)}reload(){return f1(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ar(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Rh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Fn(this.auth.app))return Promise.reject(ur(this.auth));const e=await this.getIdToken();return await vo(this,l1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,d,p,g,E;const T=(s=n.displayName)!==null&&s!==void 0?s:void 0,w=(o=n.email)!==null&&o!==void 0?o:void 0,N=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,P=(h=n.photoURL)!==null&&h!==void 0?h:void 0,q=(d=n.tenantId)!==null&&d!==void 0?d:void 0,O=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,G=(g=n.createdAt)!==null&&g!==void 0?g:void 0,ee=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:W,emailVerified:de,isAnonymous:le,providerData:ge,stsTokenManager:U}=n;Te(W&&U,e,"internal-error");const R=fo.fromJSON(this.name,U);Te(typeof W=="string",e,"internal-error"),es(T,e.name),es(w,e.name),Te(typeof de=="boolean",e,"internal-error"),Te(typeof le=="boolean",e,"internal-error"),es(N,e.name),es(P,e.name),es(q,e.name),es(O,e.name),es(G,e.name),es(ee,e.name);const S=new ar({uid:W,auth:e,email:w,emailVerified:de,displayName:T,isAnonymous:le,photoURL:P,phoneNumber:N,tenantId:q,stsTokenManager:R,createdAt:G,lastLoginAt:ee});return ge&&Array.isArray(ge)&&(S.providerData=ge.map(D=>Object.assign({},D))),O&&(S._redirectEventId=O),S}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new ar({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Rh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?kT(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),d=new fo;d.updateFromIdToken(s);const p=new ar({uid:o.localId,auth:e,stsTokenManager:d,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Ym(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d0=new Map;function or(i){dr(i instanceof Function,"Expected a class definition");let e=d0.get(i);return e?(dr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,d0.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}PT.type="NONE";const m0=PT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dh(i,e,n){return`firebase:${i}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=dh(this.userKey,o.apiKey,u),this.fullPersistenceKey=dh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ar._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(or(m0),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||or(m0);const h=dh(s,e.config.apiKey,e.name);let d=null;for(const g of n)try{const E=await g._get(h);if(E){const T=ar._fromJSON(e,E);g!==u&&(d=T),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],d&&await u._set(h,d.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(UT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qT(e))return"Blackberry";if(HT(e))return"Webos";if(LT(e))return"Safari";if((e.includes("chrome/")||jT(e))&&!e.includes("edge/"))return"Chrome";if(BT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function UT(i=rn()){return/firefox\//i.test(i)}function LT(i=rn()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function jT(i=rn()){return/crios\//i.test(i)}function zT(i=rn()){return/iemobile/i.test(i)}function BT(i=rn()){return/android/i.test(i)}function qT(i=rn()){return/blackberry/i.test(i)}function HT(i=rn()){return/webos/i.test(i)}function kp(i=rn()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function g1(i=rn()){var e;return kp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function y1(){return Dx()&&document.documentMode===10}function FT(i=rn()){return kp(i)||BT(i)||HT(i)||qT(i)||/windows phone/i.test(i)||zT(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(i,e=[]){let n;switch(i){case"Browser":n=p0(rn());break;case"Worker":n=`${p0(rn())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Io}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,d)=>{try{const p=e(u);h(p)}catch(p){d(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _1(i,e={}){return yr(i,"GET","/v2/passwordPolicy",vs(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E1=6;class T1{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:E1,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,d;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(d=p.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new v1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=CT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=or(n)),this._initializationPromise=this.queue(async()=>{var s,o;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await VT(this,{idToken:e}),s=await ar._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Fn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(d,d))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===d)&&(p!=null&&p.user)&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Rh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=t1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Fn(this.app))return Promise.reject(ur(this));const n=e?Tt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Fn(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Fn(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _1(this),n=new T1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ha("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await p1(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&or(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[or(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(d,this,"internal-error"),d.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Fn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&ZI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function da(i){return Tt(i)}class g0{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ux(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function b1(i){Qh=i}function $T(i){return Qh.loadJS(i)}function A1(){return Qh.recaptchaEnterpriseScript}function S1(){return Qh.gapiScript}function R1(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class x1{constructor(){this.enterprise=new I1}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class I1{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const C1="recaptcha-enterprise",KT="NO_RECAPTCHA";class N1{constructor(e){this.type=C1,this.auth=da(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,d)=>{o1(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const g=new a1(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{d(p)})})}function o(u,h,d){const p=window.grecaptcha;h0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(KT)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new x1().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(d=>{if(!n&&h0(window.grecaptcha))o(d,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=A1();p.length!==0&&(p+=d),$T(p).then(()=>{o(d,u,h)}).catch(g=>{h(g)})}}).catch(d=>{h(d)})})}}async function y0(i,e,n,s=!1,o=!1){const u=new N1(i);let h;if(o)h=KT;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const d=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const p=d.phoneEnrollmentInfo.phoneNumber,g=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const p=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return s?Object.assign(d,{captchaResp:h}):Object.assign(d,{captchaResponse:h}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Xm(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await y0(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await y0(i,e,n,n==="getOobCode");return s(i,d)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(i,e){const n=fa(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(cs(u,e??{}))return o;ii(o,"already-initialized")}return n.initialize({options:e})}function O1(i,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(or);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function M1(i,e,n){const s=da(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=QT(e),{host:h,port:d}=V1(e),p=d===null?"":`:${d}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:d,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(cs(g,s.config.emulator)&&cs(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,k1()}function QT(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function V1(i){const e=QT(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:v0(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:v0(h)}}}function v0(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function k1(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return sr("not implemented")}_getIdTokenResponse(e){return sr("not implemented")}_linkToIdToken(e,n){return sr("not implemented")}_getReauthenticationResolver(e){return sr("not implemented")}}async function P1(i,e){return yr(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U1(i,e){return Iu(i,"POST","/v1/accounts:signInWithPassword",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}async function j1(i,e){return Iu(i,"POST","/v1/accounts:signInWithEmailLink",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mu extends Pp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new mu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new mu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,n,"signInWithPassword",U1);case"emailLink":return L1(e,{email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Xm(e,s,"signUpPassword",P1);case"emailLink":return j1(e,{idToken:n,email:this._email,oobCode:this._password});default:ii(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i,e){return Iu(i,"POST","/v1/accounts:signInWithIdp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="http://localhost";class ia extends Pp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ia(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ii("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Dp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ia(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:z1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function q1(i){const e=Zl(Jl(i)).link,n=e?Zl(Jl(e)).deep_link_id:null,s=Zl(Jl(i)).deep_link_id;return(s?Zl(Jl(s)).link:null)||s||n||e||i}class Up{constructor(e){var n,s,o,u,h,d;const p=Zl(Jl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,T=B1((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&E&&T,"argument-error"),this.apiKey=g,this.operation=T,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.languageCode)!==null&&h!==void 0?h:null,this.tenantId=(d=p.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=q1(e);try{return new Up(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(){this.providerId=Co.PROVIDER_ID}static credential(e,n){return mu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Up.parseLink(n);return Te(s,"argument-error"),mu._fromEmailAndCode(e,s.code,s.tenantId)}}Co.PROVIDER_ID="password";Co.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Co.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cu extends YT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends Cu{constructor(){super("facebook.com")}static credential(e){return ia._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends Cu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ia._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return ns.credential(n,s)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends Cu{constructor(){super("github.com")}static credential(e){return ia._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return is.credential(e.oauthAccessToken)}catch{return null}}}is.GITHUB_SIGN_IN_METHOD="github.com";is.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends Cu{constructor(){super("twitter.com")}static credential(e,n){return ia._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return rs.credential(n,s)}catch{return null}}}rs.TWITTER_SIGN_IN_METHOD="twitter.com";rs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(i,e){return Iu(i,"POST","/v1/accounts:signUp",vs(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ra{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await ar._fromIdTokenResponse(e,s,o),h=_0(s);return new ra({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=_0(s);return new ra({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function _0(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends ai{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,xh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new xh(e,n,s,o)}}function XT(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?xh._fromErrorAndOperation(i,u,e,s):u})}async function F1(i,e,n=!1){const s=await vo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return ra._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(i,e,n=!1){const{auth:s}=i;if(Fn(s.app))return Promise.reject(ur(s));const o="reauthenticate";try{const u=await vo(i,XT(s,o,e,i),n);Te(u.idToken,s,"internal-error");const h=Vp(u.idToken);Te(h,s,"internal-error");const{sub:d}=h;return Te(i.uid===d,s,"user-mismatch"),ra._forOperation(i,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&ii(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(i,e,n=!1){if(Fn(i.app))return Promise.reject(ur(i));const s="signIn",o=await XT(i,s,e),u=await ra._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function $1(i,e){return WT(da(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZT(i){const e=da(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function K1(i,e,n){if(Fn(i.app))return Promise.reject(ur(i));const s=da(i),h=await Xm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",H1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&ZT(i),p}),d=await ra._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(d.user),d}function Q1(i,e,n){return Fn(i.app)?Promise.reject(ur(i)):$1(Tt(i),Co.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&ZT(i),s})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y1(i,e){return yr(i,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X1(i,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const s=Tt(i),u={idToken:await s.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},h=await vo(s,Y1(s.auth,u));s.displayName=h.displayName||null,s.photoURL=h.photoUrl||null;const d=s.providerData.find(({providerId:p})=>p==="password");d&&(d.displayName=s.displayName,d.photoURL=s.photoURL),await s._updateTokensIfNecessary(h)}function W1(i,e,n,s){return Tt(i).onIdTokenChanged(e,n,s)}function Z1(i,e,n){return Tt(i).beforeAuthStateChanged(e,n)}function Lp(i,e,n,s){return Tt(i).onAuthStateChanged(e,n,s)}const Ih="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ih,"1"),this.storage.removeItem(Ih),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1=1e3,eC=10;class ew extends JT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,d,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);y1()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,eC):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},J1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ew.type="LOCAL";const tC=ew;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw extends JT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}tw.type="SESSION";const nw=tw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const d=Array.from(h).map(async g=>g(n.origin,u)),p=await nC(d);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((d,p)=>{const g=jp("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const w=T;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),d(w.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(){return window}function rC(i){Si().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(){return typeof Si().WorkerGlobalScope<"u"&&typeof Si().importScripts=="function"}async function sC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function aC(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function oC(){return iw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rw="firebaseLocalStorageDb",lC=1,Ch="firebaseLocalStorage",sw="fbase_key";class Nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xh(i,e){return i.transaction([Ch],e?"readwrite":"readonly").objectStore(Ch)}function uC(){const i=indexedDB.deleteDatabase(rw);return new Nu(i).toPromise()}function Wm(){const i=indexedDB.open(rw,lC);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(Ch,{keyPath:sw})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(Ch)?e(s):(s.close(),await uC(),e(await Wm()))})})}async function E0(i,e,n){const s=Xh(i,!0).put({[sw]:e,value:n});return new Nu(s).toPromise()}async function cC(i,e){const n=Xh(i,!1).get(e),s=await new Nu(n).toPromise();return s===void 0?null:s.value}function T0(i,e){const n=Xh(i,!0).delete(e);return new Nu(n).toPromise()}const hC=800,fC=3;class aw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Wm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>fC)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(oC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await sC(),!this.activeServiceWorker)return;this.sender=new iC(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||aC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Wm();return await E0(e,Ih,"1"),await T0(e,Ih),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>E0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>cC(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>T0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Xh(o,!1).getAll();return new Nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aw.type="LOCAL";const dC=aw;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mC(i,e){return e?or(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zp extends Pp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pC(i){return WT(i.auth,new zp(i),i.bypassAuthState)}function gC(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),G1(n,new zp(i),i.bypassAuthState)}async function yC(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),F1(n,new zp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ow{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:d}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pC;case"linkViaPopup":case"linkViaRedirect":return yC;case"reauthViaPopup":case"reauthViaRedirect":return gC;default:ii(this.auth,"internal-error")}}resolve(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){dr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vC=new xu(2e3,1e4);class ho extends ow{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){dr(this.filter.length===1,"Popup operations only handle one event");const e=jp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ai(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ai(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ai(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,vC.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C="pendingRedirect",mh=new Map;class EC extends ow{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=mh.get(this.auth._key());if(!e){try{const s=await TC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}mh.set(this.auth._key(),e)}return this.bypassAuthState||mh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TC(i,e){const n=AC(e),s=bC(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function wC(i,e){mh.set(i._key(),e)}function bC(i){return or(i._redirectPersistence)}function AC(i){return dh(_C,i.config.apiKey,i.name)}async function SC(i,e,n=!1){if(Fn(i.app))return Promise.reject(ur(i));const s=da(i),o=mC(s,e),h=await new EC(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC=10*60*1e3;class xC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!IC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!lw(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ai(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=RC&&this.cachedEventUids.clear(),this.cachedEventUids.has(w0(e))}saveEventToCache(e){this.cachedEventUids.add(w0(e)),this.lastProcessedEventTime=Date.now()}}function w0(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function lw({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function IC(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lw(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC(i,e={}){return yr(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DC=/^https?/;async function OC(i){if(i.config.emulator)return;const{authorizedDomains:e}=await CC(i);for(const n of e)try{if(MC(n))return}catch{}ii(i,"unauthorized-domain")}function MC(i){const e=Qm(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!DC.test(n))return!1;if(NC.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC=new xu(3e4,6e4);function b0(){const i=Si().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function kC(i){return new Promise((e,n)=>{var s,o,u;function h(){b0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{b0(),n(Ai(i,"network-request-failed"))},timeout:VC.get()})}if(!((o=(s=Si().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Si().gapi)===null||u===void 0)&&u.load)h();else{const d=R1("iframefcb");return Si()[d]=()=>{gapi.load?h():n(Ai(i,"network-request-failed"))},$T(`${S1()}?onload=${d}`).catch(p=>n(p))}}).catch(e=>{throw ph=null,e})}let ph=null;function PC(i){return ph=ph||kC(i),ph}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=new xu(5e3,15e3),LC="__/auth/iframe",jC="emulator/auth/iframe",zC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qC(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Mp(e,jC):`https://${i.config.authDomain}/${LC}`,s={apiKey:e.apiKey,appName:i.name,v:Io},o=BC.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Ru(s).slice(1)}`}async function HC(i){const e=await PC(i),n=Si().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:qC(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:zC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ai(i,"network-request-failed"),d=Si().setTimeout(()=>{u(h)},UC.get());function p(){Si().clearTimeout(d),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},GC=500,$C=600,KC="_blank",QC="http://localhost";class A0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YC(i,e,n,s=GC,o=$C){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let d="";const p=Object.assign(Object.assign({},FC),{width:s.toString(),height:o.toString(),top:u,left:h}),g=rn().toLowerCase();n&&(d=jT(g)?KC:n),UT(g)&&(e=e||QC,p.scrollbars="yes");const E=Object.entries(p).reduce((w,[N,P])=>`${w}${N}=${P},`,"");if(g1(g)&&d!=="_self")return XC(e||"",d),new A0(null);const T=window.open(e||"",d,E);Te(T,i,"popup-blocked");try{T.focus()}catch{}return new A0(T)}function XC(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WC="__/auth/handler",ZC="emulator/auth/handler",JC=encodeURIComponent("fac");async function S0(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Io,eventId:o};if(e instanceof YT){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",Px(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,T]of Object.entries({}))h[E]=T}if(e instanceof Cu){const E=e.getScopes().filter(T=>T!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const d=h;for(const E of Object.keys(d))d[E]===void 0&&delete d[E];const p=await i._getAppCheckToken(),g=p?`#${JC}=${encodeURIComponent(p)}`:"";return`${eN(i)}?${Ru(d).slice(1)}${g}`}function eN({config:i}){return i.emulator?Mp(i,ZC):`https://${i.authDomain}/${WC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class tN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nw,this._completeRedirectFn=SC,this._overrideRedirectResult=wC}async _openPopup(e,n,s,o){var u;dr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await S0(e,n,s,Qm(),o);return YC(e,h,jp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await S0(e,n,s,Qm(),o);return rC(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(dr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HC(e),s=new xC(e);return n.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},o=>{var u;const h=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[Om];h!==void 0&&n(!!h),ii(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=OC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||LT()||kp()}}const nN=tN;var R0="@firebase/auth",x0="1.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sN(i){Ii(new ni("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:d}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:d,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:GT(i)},g=new w1(s,o,u,p);return O1(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Ii(new ni("auth-internal",e=>{const n=da(e.getProvider("auth").getImmediate());return(s=>new iN(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gn(R0,x0,rN(i)),Gn(R0,x0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aN=5*60,oN=TT("authIdTokenMaxAge")||aN;let I0=null;const lN=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>oN)return;const o=n==null?void 0:n.token;I0!==o&&(I0=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function C0(i=Np()){const e=fa(i,"auth");if(e.isInitialized())return e.getImmediate();const n=D1(i,{popupRedirectResolver:nN,persistence:[dC,tC,nw]}),s=TT("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=lN(u.toString());Z1(n,h,()=>h(n.currentUser)),W1(n,d=>h(d))}}const o=_T("auth");return o&&M1(n,`http://${o}`),n}function uN(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}b1({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ai("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uN().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sN("Browser");var cN="firebase",hN="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gn(cN,hN,"app");var N0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ls,uw;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,R){function S(){}S.prototype=R.prototype,U.D=R.prototype,U.prototype=new S,U.prototype.constructor=U,U.C=function(D,M,V){for(var I=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)I[Fe-2]=arguments[Fe];return R.prototype[M].apply(D,I)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,R,S){S||(S=0);var D=Array(16);if(typeof R=="string")for(var M=0;16>M;++M)D[M]=R.charCodeAt(S++)|R.charCodeAt(S++)<<8|R.charCodeAt(S++)<<16|R.charCodeAt(S++)<<24;else for(M=0;16>M;++M)D[M]=R[S++]|R[S++]<<8|R[S++]<<16|R[S++]<<24;R=U.g[0],S=U.g[1],M=U.g[2];var V=U.g[3],I=R+(V^S&(M^V))+D[0]+3614090360&4294967295;R=S+(I<<7&4294967295|I>>>25),I=V+(M^R&(S^M))+D[1]+3905402710&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(S^V&(R^S))+D[2]+606105819&4294967295,M=V+(I<<17&4294967295|I>>>15),I=S+(R^M&(V^R))+D[3]+3250441966&4294967295,S=M+(I<<22&4294967295|I>>>10),I=R+(V^S&(M^V))+D[4]+4118548399&4294967295,R=S+(I<<7&4294967295|I>>>25),I=V+(M^R&(S^M))+D[5]+1200080426&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(S^V&(R^S))+D[6]+2821735955&4294967295,M=V+(I<<17&4294967295|I>>>15),I=S+(R^M&(V^R))+D[7]+4249261313&4294967295,S=M+(I<<22&4294967295|I>>>10),I=R+(V^S&(M^V))+D[8]+1770035416&4294967295,R=S+(I<<7&4294967295|I>>>25),I=V+(M^R&(S^M))+D[9]+2336552879&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(S^V&(R^S))+D[10]+4294925233&4294967295,M=V+(I<<17&4294967295|I>>>15),I=S+(R^M&(V^R))+D[11]+2304563134&4294967295,S=M+(I<<22&4294967295|I>>>10),I=R+(V^S&(M^V))+D[12]+1804603682&4294967295,R=S+(I<<7&4294967295|I>>>25),I=V+(M^R&(S^M))+D[13]+4254626195&4294967295,V=R+(I<<12&4294967295|I>>>20),I=M+(S^V&(R^S))+D[14]+2792965006&4294967295,M=V+(I<<17&4294967295|I>>>15),I=S+(R^M&(V^R))+D[15]+1236535329&4294967295,S=M+(I<<22&4294967295|I>>>10),I=R+(M^V&(S^M))+D[1]+4129170786&4294967295,R=S+(I<<5&4294967295|I>>>27),I=V+(S^M&(R^S))+D[6]+3225465664&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^S&(V^R))+D[11]+643717713&4294967295,M=V+(I<<14&4294967295|I>>>18),I=S+(V^R&(M^V))+D[0]+3921069994&4294967295,S=M+(I<<20&4294967295|I>>>12),I=R+(M^V&(S^M))+D[5]+3593408605&4294967295,R=S+(I<<5&4294967295|I>>>27),I=V+(S^M&(R^S))+D[10]+38016083&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^S&(V^R))+D[15]+3634488961&4294967295,M=V+(I<<14&4294967295|I>>>18),I=S+(V^R&(M^V))+D[4]+3889429448&4294967295,S=M+(I<<20&4294967295|I>>>12),I=R+(M^V&(S^M))+D[9]+568446438&4294967295,R=S+(I<<5&4294967295|I>>>27),I=V+(S^M&(R^S))+D[14]+3275163606&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^S&(V^R))+D[3]+4107603335&4294967295,M=V+(I<<14&4294967295|I>>>18),I=S+(V^R&(M^V))+D[8]+1163531501&4294967295,S=M+(I<<20&4294967295|I>>>12),I=R+(M^V&(S^M))+D[13]+2850285829&4294967295,R=S+(I<<5&4294967295|I>>>27),I=V+(S^M&(R^S))+D[2]+4243563512&4294967295,V=R+(I<<9&4294967295|I>>>23),I=M+(R^S&(V^R))+D[7]+1735328473&4294967295,M=V+(I<<14&4294967295|I>>>18),I=S+(V^R&(M^V))+D[12]+2368359562&4294967295,S=M+(I<<20&4294967295|I>>>12),I=R+(S^M^V)+D[5]+4294588738&4294967295,R=S+(I<<4&4294967295|I>>>28),I=V+(R^S^M)+D[8]+2272392833&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^S)+D[11]+1839030562&4294967295,M=V+(I<<16&4294967295|I>>>16),I=S+(M^V^R)+D[14]+4259657740&4294967295,S=M+(I<<23&4294967295|I>>>9),I=R+(S^M^V)+D[1]+2763975236&4294967295,R=S+(I<<4&4294967295|I>>>28),I=V+(R^S^M)+D[4]+1272893353&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^S)+D[7]+4139469664&4294967295,M=V+(I<<16&4294967295|I>>>16),I=S+(M^V^R)+D[10]+3200236656&4294967295,S=M+(I<<23&4294967295|I>>>9),I=R+(S^M^V)+D[13]+681279174&4294967295,R=S+(I<<4&4294967295|I>>>28),I=V+(R^S^M)+D[0]+3936430074&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^S)+D[3]+3572445317&4294967295,M=V+(I<<16&4294967295|I>>>16),I=S+(M^V^R)+D[6]+76029189&4294967295,S=M+(I<<23&4294967295|I>>>9),I=R+(S^M^V)+D[9]+3654602809&4294967295,R=S+(I<<4&4294967295|I>>>28),I=V+(R^S^M)+D[12]+3873151461&4294967295,V=R+(I<<11&4294967295|I>>>21),I=M+(V^R^S)+D[15]+530742520&4294967295,M=V+(I<<16&4294967295|I>>>16),I=S+(M^V^R)+D[2]+3299628645&4294967295,S=M+(I<<23&4294967295|I>>>9),I=R+(M^(S|~V))+D[0]+4096336452&4294967295,R=S+(I<<6&4294967295|I>>>26),I=V+(S^(R|~M))+D[7]+1126891415&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~S))+D[14]+2878612391&4294967295,M=V+(I<<15&4294967295|I>>>17),I=S+(V^(M|~R))+D[5]+4237533241&4294967295,S=M+(I<<21&4294967295|I>>>11),I=R+(M^(S|~V))+D[12]+1700485571&4294967295,R=S+(I<<6&4294967295|I>>>26),I=V+(S^(R|~M))+D[3]+2399980690&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~S))+D[10]+4293915773&4294967295,M=V+(I<<15&4294967295|I>>>17),I=S+(V^(M|~R))+D[1]+2240044497&4294967295,S=M+(I<<21&4294967295|I>>>11),I=R+(M^(S|~V))+D[8]+1873313359&4294967295,R=S+(I<<6&4294967295|I>>>26),I=V+(S^(R|~M))+D[15]+4264355552&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~S))+D[6]+2734768916&4294967295,M=V+(I<<15&4294967295|I>>>17),I=S+(V^(M|~R))+D[13]+1309151649&4294967295,S=M+(I<<21&4294967295|I>>>11),I=R+(M^(S|~V))+D[4]+4149444226&4294967295,R=S+(I<<6&4294967295|I>>>26),I=V+(S^(R|~M))+D[11]+3174756917&4294967295,V=R+(I<<10&4294967295|I>>>22),I=M+(R^(V|~S))+D[2]+718787259&4294967295,M=V+(I<<15&4294967295|I>>>17),I=S+(V^(M|~R))+D[9]+3951481745&4294967295,U.g[0]=U.g[0]+R&4294967295,U.g[1]=U.g[1]+(M+(I<<21&4294967295|I>>>11))&4294967295,U.g[2]=U.g[2]+M&4294967295,U.g[3]=U.g[3]+V&4294967295}s.prototype.u=function(U,R){R===void 0&&(R=U.length);for(var S=R-this.blockSize,D=this.B,M=this.h,V=0;V<R;){if(M==0)for(;V<=S;)o(this,U,V),V+=this.blockSize;if(typeof U=="string"){for(;V<R;)if(D[M++]=U.charCodeAt(V++),M==this.blockSize){o(this,D),M=0;break}}else for(;V<R;)if(D[M++]=U[V++],M==this.blockSize){o(this,D),M=0;break}}this.h=M,this.o+=R},s.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var R=1;R<U.length-8;++R)U[R]=0;var S=8*this.o;for(R=U.length-8;R<U.length;++R)U[R]=S&255,S/=256;for(this.u(U),U=Array(16),R=S=0;4>R;++R)for(var D=0;32>D;D+=8)U[S++]=this.g[R]>>>D&255;return U};function u(U,R){var S=d;return Object.prototype.hasOwnProperty.call(S,U)?S[U]:S[U]=R(U)}function h(U,R){this.h=R;for(var S=[],D=!0,M=U.length-1;0<=M;M--){var V=U[M]|0;D&&V==R||(S[M]=V,D=!1)}this.g=S}var d={};function p(U){return-128<=U&&128>U?u(U,function(R){return new h([R|0],0>R?-1:0)}):new h([U|0],0>U?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return T;if(0>U)return O(g(-U));for(var R=[],S=1,D=0;U>=S;D++)R[D]=U/S|0,S*=4294967296;return new h(R,0)}function E(U,R){if(U.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(U.charAt(0)=="-")return O(E(U.substring(1),R));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var S=g(Math.pow(R,8)),D=T,M=0;M<U.length;M+=8){var V=Math.min(8,U.length-M),I=parseInt(U.substring(M,M+V),R);8>V?(V=g(Math.pow(R,V)),D=D.j(V).add(g(I))):(D=D.j(S),D=D.add(g(I)))}return D}var T=p(0),w=p(1),N=p(16777216);i=h.prototype,i.m=function(){if(q(this))return-O(this).m();for(var U=0,R=1,S=0;S<this.g.length;S++){var D=this.i(S);U+=(0<=D?D:4294967296+D)*R,R*=4294967296}return U},i.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(P(this))return"0";if(q(this))return"-"+O(this).toString(U);for(var R=g(Math.pow(U,6)),S=this,D="";;){var M=de(S,R).g;S=G(S,M.j(R));var V=((0<S.g.length?S.g[0]:S.h)>>>0).toString(U);if(S=M,P(S))return V+D;for(;6>V.length;)V="0"+V;D=V+D}},i.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function P(U){if(U.h!=0)return!1;for(var R=0;R<U.g.length;R++)if(U.g[R]!=0)return!1;return!0}function q(U){return U.h==-1}i.l=function(U){return U=G(this,U),q(U)?-1:P(U)?0:1};function O(U){for(var R=U.g.length,S=[],D=0;D<R;D++)S[D]=~U.g[D];return new h(S,~U.h).add(w)}i.abs=function(){return q(this)?O(this):this},i.add=function(U){for(var R=Math.max(this.g.length,U.g.length),S=[],D=0,M=0;M<=R;M++){var V=D+(this.i(M)&65535)+(U.i(M)&65535),I=(V>>>16)+(this.i(M)>>>16)+(U.i(M)>>>16);D=I>>>16,V&=65535,I&=65535,S[M]=I<<16|V}return new h(S,S[S.length-1]&-2147483648?-1:0)};function G(U,R){return U.add(O(R))}i.j=function(U){if(P(this)||P(U))return T;if(q(this))return q(U)?O(this).j(O(U)):O(O(this).j(U));if(q(U))return O(this.j(O(U)));if(0>this.l(N)&&0>U.l(N))return g(this.m()*U.m());for(var R=this.g.length+U.g.length,S=[],D=0;D<2*R;D++)S[D]=0;for(D=0;D<this.g.length;D++)for(var M=0;M<U.g.length;M++){var V=this.i(D)>>>16,I=this.i(D)&65535,Fe=U.i(M)>>>16,Ge=U.i(M)&65535;S[2*D+2*M]+=I*Ge,ee(S,2*D+2*M),S[2*D+2*M+1]+=V*Ge,ee(S,2*D+2*M+1),S[2*D+2*M+1]+=I*Fe,ee(S,2*D+2*M+1),S[2*D+2*M+2]+=V*Fe,ee(S,2*D+2*M+2)}for(D=0;D<R;D++)S[D]=S[2*D+1]<<16|S[2*D];for(D=R;D<2*R;D++)S[D]=0;return new h(S,0)};function ee(U,R){for(;(U[R]&65535)!=U[R];)U[R+1]+=U[R]>>>16,U[R]&=65535,R++}function W(U,R){this.g=U,this.h=R}function de(U,R){if(P(R))throw Error("division by zero");if(P(U))return new W(T,T);if(q(U))return R=de(O(U),R),new W(O(R.g),O(R.h));if(q(R))return R=de(U,O(R)),new W(O(R.g),R.h);if(30<U.g.length){if(q(U)||q(R))throw Error("slowDivide_ only works with positive integers.");for(var S=w,D=R;0>=D.l(U);)S=le(S),D=le(D);var M=ge(S,1),V=ge(D,1);for(D=ge(D,2),S=ge(S,2);!P(D);){var I=V.add(D);0>=I.l(U)&&(M=M.add(S),V=I),D=ge(D,1),S=ge(S,1)}return R=G(U,M.j(R)),new W(M,R)}for(M=T;0<=U.l(R);){for(S=Math.max(1,Math.floor(U.m()/R.m())),D=Math.ceil(Math.log(S)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),V=g(S),I=V.j(R);q(I)||0<I.l(U);)S-=D,V=g(S),I=V.j(R);P(V)&&(V=w),M=M.add(V),U=G(U,I)}return new W(M,U)}i.A=function(U){return de(this,U).h},i.and=function(U){for(var R=Math.max(this.g.length,U.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)&U.i(D);return new h(S,this.h&U.h)},i.or=function(U){for(var R=Math.max(this.g.length,U.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)|U.i(D);return new h(S,this.h|U.h)},i.xor=function(U){for(var R=Math.max(this.g.length,U.g.length),S=[],D=0;D<R;D++)S[D]=this.i(D)^U.i(D);return new h(S,this.h^U.h)};function le(U){for(var R=U.g.length+1,S=[],D=0;D<R;D++)S[D]=U.i(D)<<1|U.i(D-1)>>>31;return new h(S,U.h)}function ge(U,R){var S=R>>5;R%=32;for(var D=U.g.length-S,M=[],V=0;V<D;V++)M[V]=0<R?U.i(V+S)>>>R|U.i(V+S+1)<<32-R:U.i(V+S);return new h(M,U.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,uw=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ls=h}).apply(typeof N0<"u"?N0:typeof self<"u"?self:typeof window<"u"?window:{});var sh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cw,eu,hw,gh,Zm,fw,dw,mw;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof sh=="object"&&sh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var H=c[A];if(!(H in v))break e;v=v[H]}c=c[c.length-1],A=v[c],y=y(A),y!=A&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,A=!1,H={next:function(){if(!A&&v<c.length){var K=v++;return{value:y(K,c[K]),done:!1}}return A=!0,{done:!0,value:void 0}}};return H[Symbol.iterator]=function(){return H},H}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},d=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function T(c,y,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var H=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(H,A),c.apply(y,H)}}return function(){return c.apply(y,arguments)}}function w(c,y,v){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:T,w.apply(null,arguments)}function N(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function P(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,H,K){for(var se=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)se[ze-2]=arguments[ze];return y.prototype[H].apply(A,se)}}function q(c){const y=c.length;if(0<y){const v=Array(y);for(let A=0;A<y;A++)v[A]=c[A];return v}return[]}function O(c,y){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(p(A)){const H=c.length||0,K=A.length||0;c.length=H+K;for(let se=0;se<K;se++)c[H+se]=A[se]}else c.push(A)}}class G{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function ee(c){return/^[\s\xa0]*$/.test(c)}function W(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var le=W().indexOf("Gecko")!=-1&&!(W().toLowerCase().indexOf("webkit")!=-1&&W().indexOf("Edge")==-1)&&!(W().indexOf("Trident")!=-1||W().indexOf("MSIE")!=-1)&&W().indexOf("Edge")==-1;function ge(c,y,v){for(const A in c)y.call(v,c[A],A,c)}function U(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function R(c){const y={};for(const v in c)y[v]=c[v];return y}const S="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,y){let v,A;for(let H=1;H<arguments.length;H++){A=arguments[H];for(v in A)c[v]=A[v];for(let K=0;K<S.length;K++)v=S[K],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function M(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function V(c){d.setTimeout(()=>{throw c},0)}function I(){var c=Le;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Fe{constructor(){this.h=this.g=null}add(y,v){const A=Ge.get();A.set(y,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ge=new G(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,pe=!1,Le=new Fe,k=()=>{const c=d.Promise.resolve(void 0);_e=()=>{c.then(ne)}};var ne=()=>{for(var c;c=I();){try{c.h.call(c.g)}catch(v){V(v)}var y=Ge;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}pe=!1};function fe(){this.s=this.s,this.C=this.C}fe.prototype.s=!1,fe.prototype.ma=function(){this.s||(this.s=!0,this.N())},fe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function oe(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}oe.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};d.addEventListener("test",v,y),d.removeEventListener("test",v,y)}catch{}return c}();function Ae(c,y){if(oe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(le){e:{try{de(y.nodeName);var H=!0;break e}catch{}H=!1}H||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ie[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ae.aa.h.call(this)}}P(Ae,oe);var Ie={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),je=0;function et(c,y,v,A,H){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!A,this.ha=H,this.key=++je,this.da=this.fa=!1}function ie(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function we(c){this.src=c,this.g={},this.h=0}we.prototype.add=function(c,y,v,A,H){var K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);var se=it(c,y,A,H);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new et(y,this.src,K,!!A,H),y.fa=v,c.push(y)),y};function Ne(c,y){var v=y.type;if(v in c.g){var A=c.g[v],H=Array.prototype.indexOf.call(A,y,void 0),K;(K=0<=H)&&Array.prototype.splice.call(A,H,1),K&&(ie(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function it(c,y,v,A){for(var H=0;H<c.length;++H){var K=c[H];if(!K.da&&K.listener==y&&K.capture==!!v&&K.ha==A)return H}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),at={};function Di(c,y,v,A,H){if(Array.isArray(y)){for(var K=0;K<y.length;K++)Di(c,y[K],v,A,H);return null}return v=Pu(v),c&&c[lt]?c.K(y,v,g(A)?!!A.capture:!1,H):ko(c,y,v,!1,A,H)}function ko(c,y,v,A,H,K){if(!y)throw Error("Invalid event type");var se=g(H)?!!H.capture:!!H,ze=Po(c);if(ze||(c[yt]=ze=new we(c)),v=ze.add(y,v,A,se,K),v.proxy)return v;if(A=ga(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ae||(H=se),H===void 0&&(H=!1),c.addEventListener(y.toString(),A,H);else if(c.attachEvent)c.attachEvent(va(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function ga(){function c(v){return y.call(c.src,c.listener,v)}const y=Ef;return c}function ya(c,y,v,A,H){if(Array.isArray(y))for(var K=0;K<y.length;K++)ya(c,y[K],v,A,H);else A=g(A)?!!A.capture:!!A,v=Pu(v),c&&c[lt]?(c=c.i,y=String(y).toString(),y in c.g&&(K=c.g[y],v=it(K,v,A,H),-1<v&&(ie(K[v]),Array.prototype.splice.call(K,v,1),K.length==0&&(delete c.g[y],c.h--)))):c&&(c=Po(c))&&(y=c.g[y.toString()],c=-1,y&&(c=it(y,v,A,H)),(v=-1<c?y[c]:null)&&Ts(v))}function Ts(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[lt])Ne(y.i,c);else{var v=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(v,A,c.capture):y.detachEvent?y.detachEvent(va(v),A):y.addListener&&y.removeListener&&y.removeListener(A),(v=Po(y))?(Ne(v,c),v.h==0&&(v.src=null,y[yt]=null)):ie(c)}}}function va(c){return c in at?at[c]:at[c]="on"+c}function Ef(c,y){if(c.da)c=!0;else{y=new Ae(y,this);var v=c.listener,A=c.ha||c.src;c.fa&&Ts(c),c=v.call(A,y)}return c}function Po(c){return c=c[yt],c instanceof we?c:null}var cn="__closure_events_fn_"+(1e9*Math.random()>>>0);function Pu(c){return typeof c=="function"?c:(c[cn]||(c[cn]=function(y){return c.handleEvent(y)}),c[cn])}function xt(){fe.call(this),this.i=new we(this),this.M=this,this.F=null}P(xt,fe),xt.prototype[lt]=!0,xt.prototype.removeEventListener=function(c,y,v,A){ya(this,c,y,v,A)};function kt(c,y){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new oe(y,c);else if(y instanceof oe)y.target=y.target||c;else{var H=y;y=new oe(A,c),D(y,H)}if(H=!0,v)for(var K=v.length-1;0<=K;K--){var se=y.g=v[K];H=Oi(se,A,!0,y)&&H}if(se=y.g=c,H=Oi(se,A,!0,y)&&H,H=Oi(se,A,!1,y)&&H,v)for(K=0;K<v.length;K++)se=y.g=v[K],H=Oi(se,A,!1,y)&&H}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],A=0;A<v.length;A++)ie(v[A]);delete c.g[y],c.h--}}this.F=null},xt.prototype.K=function(c,y,v,A){return this.i.add(String(c),y,!1,v,A)},xt.prototype.L=function(c,y,v,A){return this.i.add(String(c),y,!0,v,A)};function Oi(c,y,v,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var H=!0,K=0;K<y.length;++K){var se=y[K];if(se&&!se.da&&se.capture==v){var ze=se.listener,Ct=se.ha||se.src;se.fa&&Ne(c.i,se),H=ze.call(Ct,A)!==!1&&H}}return H&&!A.defaultPrevented}function Uu(c,y,v){if(typeof c=="function")v&&(c=w(c,v));else if(c&&typeof c.handleEvent=="function")c=w(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:d.setTimeout(c,y||0)}function Uo(c){c.g=Uu(()=>{c.g=null,c.i&&(c.i=!1,Uo(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Tf extends fe{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Uo(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(c){fe.call(this),this.h=c,this.g={}}P(ws,fe);var _r=[];function Xt(c){ge(c.g,function(y,v){this.g.hasOwnProperty(v)&&Ts(y)},c),c.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Xt(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Lo=d.JSON.stringify,oi=d.JSON.parse,sn=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function jo(){}jo.prototype.h=null;function Lu(c){return c.h||(c.h=c.i())}function ju(){}var li={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Er(){oe.call(this,"d")}P(Er,oe);function Yn(){oe.call(this,"c")}P(Yn,oe);var Rn={},Tr=null;function _a(){return Tr=Tr||new xt}Rn.La="serverreachability";function zo(c){oe.call(this,Rn.La,c)}P(zo,oe);function wr(c){const y=_a();kt(y,new zo(y))}Rn.STAT_EVENT="statevent";function Ea(c,y){oe.call(this,Rn.STAT_EVENT,c),this.stat=y}P(Ea,oe);function vt(c){const y=_a();kt(y,new Ea(y,c))}Rn.Ma="timingevent";function zu(c,y){oe.call(this,Rn.Ma,c),this.size=y}P(zu,oe);function br(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},y)}function Ar(){this.g=!0}Ar.prototype.xa=function(){this.g=!1};function Bu(c,y,v,A,H,K){c.info(function(){if(c.g)if(K)for(var se="",ze=K.split("&"),Ct=0;Ct<ze.length;Ct++){var Be=ze[Ct].split("=");if(1<Be.length){var Lt=Be[0];Be=Be[1];var Nt=Lt.split("_");se=2<=Nt.length&&Nt[1]=="type"?se+(Lt+"="+Be+"&"):se+(Lt+"=redacted&")}}else se=null;else se=K;return"XMLHTTP REQ ("+A+") [attempt "+H+"]: "+y+`
`+v+`
`+se})}function qu(c,y,v,A,H,K,se){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+H+"]: "+y+`
`+v+`
`+K+" "+se})}function Sr(c,y,v,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+Pt(c,v)+(A?" "+A:"")})}function ui(c,y){c.info(function(){return"TIMEOUT: "+y})}Ar.prototype.info=function(){};function Pt(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var H=A[1];if(Array.isArray(H)&&!(1>H.length)){var K=H[0];if(K!="noop"&&K!="stop"&&K!="close")for(var se=1;se<H.length;se++)H[se]=""}}}}return Lo(v)}catch{return y}}var It={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Mi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bs;function Ta(){}P(Ta,jo),Ta.prototype.g=function(){return new XMLHttpRequest},Ta.prototype.i=function(){return{}},bs=new Ta;function ci(c,y,v,A){this.j=c,this.i=y,this.l=v,this.R=A||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Bo}function Bo(){this.i=null,this.g="",this.h=!1}var Rr={},As={};function Xn(c,y,v){c.L=1,c.v=xs(dt(y)),c.m=v,c.P=!0,Vi(c,null)}function Vi(c,y){c.F=Date.now(),ut(c),c.A=dt(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),Ui(v.i,"t",A),c.C=0,v=c.j.J,c.h=new Bo,c.g=nc(c.j,v?y:null,!c.m),0<c.O&&(c.M=new Tf(w(c.Y,c,c.g),c.O)),y=c.U,v=c.g,A=c.ca;var H="readystatechange";Array.isArray(H)||(H&&(_r[0]=H.toString()),H=_r);for(var K=0;K<H.length;K++){var se=Di(v,H[K],A||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?R(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),wr(),Bu(c.i,c.u,c.A,c.l,c.R,c.m)}ci.prototype.ca=function(c){c=c.target;const y=this.M;y&&Dn(c)==3?y.j():this.Y(c)},ci.prototype.Y=function(c){try{if(c==this.g)e:{const Nt=Dn(this.g);var y=this.g.Ba();const Bi=this.g.Z();if(!(3>Nt)&&(Nt!=3||this.g&&(this.h.h||this.g.oa()||Qu(this.g)))){this.J||Nt!=4||y==7||(y==8||0>=Bi?wr(3):wr(2)),wa(this);var v=this.g.Z();this.X=v;t:if(xr(this)){var A=Qu(this.g);c="";var H=A.length,K=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){hn(this),yn(this);var se="";break t}this.h.i=new d.TextDecoder}for(y=0;y<H;y++)this.h.h=!0,c+=this.h.i.decode(A[y],{stream:!(K&&y==H-1)});A.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,qu(this.i,this.u,this.A,this.l,this.R,Nt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,Ct=this.g;if((ze=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ee(ze)){var Be=ze;break t}}Be=null}if(v=Be)Sr(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,vn(this,v);else{this.o=!1,this.s=3,vt(12),hn(this),yn(this);break e}}if(this.P){v=!0;let Ht;for(;!this.J&&this.C<se.length;)if(Ht=Ir(this,se),Ht==As){Nt==4&&(this.s=4,vt(14),v=!1),Sr(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Rr){this.s=4,vt(15),Sr(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else Sr(this.i,this.l,Ht,null),vn(this,Ht);if(xr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||se.length!=0||this.h.h||(this.s=1,vt(16),v=!1),this.o=this.o&&v,!v)Sr(this.i,this.l,se,"[Invalid Chunked Response]"),hn(this),yn(this);else if(0<se.length&&!this.W){this.W=!0;var Lt=this.j;Lt.g==this&&Lt.ba&&!Lt.M&&(Lt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Vs(Lt),Lt.M=!0,vt(11))}}else Sr(this.i,this.l,se,null),vn(this,se);Nt==4&&hn(this),this.o&&!this.J&&(Nt==4?Ju(this.j,this):(this.o=!1,ut(this)))}else xf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),hn(this),yn(this)}}}catch{}finally{}};function xr(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Ir(c,y){var v=c.C,A=y.indexOf(`
`,v);return A==-1?As:(v=Number(y.substring(v,A)),isNaN(v)?Rr:(A+=1,A+v>y.length?As:(y=y.slice(A,A+v),c.C=A+v,y)))}ci.prototype.cancel=function(){this.J=!0,hn(this)};function ut(c){c.S=Date.now()+c.I,qo(c,c.I)}function qo(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=br(w(c.ba,c),y)}function wa(c){c.B&&(d.clearTimeout(c.B),c.B=null)}ci.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ui(this.i,this.A),this.L!=2&&(wr(),vt(17)),hn(this),this.s=2,yn(this)):qo(this,this.S-c)};function yn(c){c.j.G==0||c.J||Ju(c.j,c)}function hn(c){wa(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,Xt(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function vn(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Cr(v.h,c))){if(!c.K&&Cr(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var H=A;if(H[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Oa(v),Na(v);else break e;Jo(v),vt(18)}}else v.za=H[1],0<v.za-v.T&&37500>H[2]&&v.F&&v.v==0&&!v.C&&(v.C=br(w(v.Za,v),6e3));if(1>=Hu(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else zi(v,11)}else if((c.K||v.g==c)&&Oa(v),!ee(y))for(H=v.Da.g.parse(y),y=0;y<H.length;y++){let Be=H[y];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const Lt=Be[3];Lt!=null&&(v.la=Lt,v.j.info("VER="+v.la));const Nt=Be[4];Nt!=null&&(v.Aa=Nt,v.j.info("SVER="+v.Aa));const Bi=Be[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(A=1.5*Bi,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const Ht=c.g;if(Ht){const yi=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(yi){var K=A.h;K.g||yi.indexOf("spdy")==-1&&yi.indexOf("quic")==-1&&yi.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(Nr(K,K.h),K.h=null))}if(A.D){const tl=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;tl&&(A.ya=tl,$e(A.I,A.D,tl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var se=c;if(A.qa=tc(A,A.J?A.ia:null,A.W),se.K){xn(A.h,se);var ze=se,Ct=A.L;Ct&&(ze.I=Ct),ze.B&&(wa(ze),ut(ze)),A.g=se}else Wu(A);0<v.i.length&&Da(v)}else Be[0]!="stop"&&Be[0]!="close"||zi(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?zi(v,7):Wo(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}wr(4)}catch{}}var wf=class{constructor(c,y){this.g=c,this.map=y}};function Ho(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Fo(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Hu(c){return c.h?1:c.g?c.g.size:0}function Cr(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Nr(c,y){c.g?c.g.add(y):c.h=y}function xn(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Ho.prototype.cancel=function(){if(this.i=an(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function an(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return q(c.i)}function Fu(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,A=0;A<v;A++)y.push(c[A]);return y}y=[],v=0;for(A in c)y[v++]=c[A];return y}function bf(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const A in c)y[v++]=A;return y}}}function Ss(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=bf(c),A=Fu(c),H=A.length,K=0;K<H;K++)y.call(void 0,A[K],v&&v[K],c)}var Go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),H=null;if(0<=A){var K=c[v].substring(0,A);H=c[v].substring(A+1)}else K=c[v];y(K,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function ki(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ki){this.h=c.h,Dr(this,c.j),this.o=c.o,this.g=c.g,Rs(this,c.s),this.l=c.l;var y=c.i,v=new hi;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Aa(this,v),this.m=c.m}else c&&(y=String(c).match(Go))?(this.h=!1,Dr(this,y[1]||"",!0),this.o=Or(y[2]||""),this.g=Or(y[3]||"",!0),Rs(this,y[4]),this.l=Or(y[5]||"",!0),Aa(this,y[6]||"",!0),this.m=Or(y[7]||"")):(this.h=!1,this.i=new hi(null,this.h))}ki.prototype.toString=function(){var c=[],y=this.j;y&&c.push(In(y,$o,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(In(y,$o,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(In(v,v.charAt(0)=="/"?Ko:Gu,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",In(v,Rf)),c.join("")};function dt(c){return new ki(c)}function Dr(c,y,v){c.j=v?Or(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Rs(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Aa(c,y,v){y instanceof hi?(c.i=y,Qo(c.i,c.h)):(v||(y=In(y,Sf)),c.i=new hi(y,c.h))}function $e(c,y,v){c.i.set(y,v)}function xs(c){return $e(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Or(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function In(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Af),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Af(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var $o=/[#\/\?@]/g,Gu=/[#\?:]/g,Ko=/[#\?]/g,Sf=/[#\?@]/g,Rf=/#/g;function hi(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Cn(c){c.g||(c.g=new Map,c.h=0,c.i&&ba(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=hi.prototype,i.add=function(c,y){Cn(this),this.i=null,c=Li(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Sa(c,y){Cn(c),y=Li(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Pi(c,y){return Cn(c),y=Li(c,y),c.g.has(y)}i.forEach=function(c,y){Cn(this),this.g.forEach(function(v,A){v.forEach(function(H){c.call(y,H,A,this)},this)},this)},i.na=function(){Cn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let A=0;A<y.length;A++){const H=c[A];for(let K=0;K<H.length;K++)v.push(y[A])}return v},i.V=function(c){Cn(this);let y=[];if(typeof c=="string")Pi(this,c)&&(y=y.concat(this.g.get(Li(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Cn(this),this.i=null,c=Li(this,c),Pi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Ui(c,y,v){Sa(c,y),0<v.length&&(c.i=null,c.g.set(Li(c,y),q(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var A=y[v];const K=encodeURIComponent(String(A)),se=this.V(A);for(A=0;A<se.length;A++){var H=K;se[A]!==""&&(H+="="+encodeURIComponent(String(se[A]))),c.push(H)}}return this.i=c.join("&")};function Li(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Qo(c,y){y&&!c.j&&(Cn(c),c.i=null,c.g.forEach(function(v,A){var H=A.toLowerCase();A!=H&&(Sa(this,A),Ui(this,H,v))},c)),c.j=y}function $u(c,y){const v=new Ar;if(d.Image){const A=new Image;A.onload=N(Nn,v,"TestLoadImage: loaded",!0,y,A),A.onerror=N(Nn,v,"TestLoadImage: error",!1,y,A),A.onabort=N(Nn,v,"TestLoadImage: abort",!1,y,A),A.ontimeout=N(Nn,v,"TestLoadImage: timeout",!1,y,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Is(c,y){const v=new Ar,A=new AbortController,H=setTimeout(()=>{A.abort(),Nn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(K=>{clearTimeout(H),K.ok?Nn(v,"TestPingServer: ok",!0,y):Nn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(H),Nn(v,"TestPingServer: error",!1,y)})}function Nn(c,y,v,A,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),A(v)}catch{}}function Cs(){this.g=new sn}function fi(c,y,v){const A=v||"";try{Ss(c,function(H,K){let se=H;g(H)&&(se=Lo(H)),y.push(A+K+"="+encodeURIComponent(se))})}catch(H){throw y.push(A+"type="+encodeURIComponent("_badmap")),H}}function Mr(c){this.l=c.Ub||null,this.j=c.eb||!1}P(Mr,jo),Mr.prototype.g=function(){return new ji(this.l,this.j)},Mr.prototype.i=function(c){return function(){return c}}({});function ji(c,y){xt.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}P(ji,xt),i=ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,mi(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||d).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,di(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,mi(this)),this.g&&(this.readyState=3,mi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Yo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Yo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?di(this):mi(this),this.readyState==3&&Yo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,di(this))},i.Qa=function(c){this.g&&(this.response=c,di(this))},i.ga=function(){this.g&&di(this)};function di(c){c.readyState=4,c.l=null,c.j=null,c.v=null,mi(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function mi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Xo(c){let y="";return ge(c,function(v,A){y+=A,y+=":",y+=v,y+=`\r
`}),y}function Ut(c,y,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Xo(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):$e(c,y,v))}function Ye(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}P(Ye,xt);var Ra=/^https?$/i,Ns=["POST","PUT"];i=Ye.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bs.g(),this.v=this.o?Lu(this.o):Lu(bs),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(K){Ku(this,K);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var H in A)v.set(H,A[H]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const K of A.keys())v.set(K,A.get(K));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(K=>K.toLowerCase()=="content-type"),H=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ns,y,void 0))||A||H||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,se]of v)this.g.setRequestHeader(K,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(K){Ku(this,K)}};function Ku(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,xa(c),pi(c)}function xa(c){c.A||(c.A=!0,kt(c,"complete"),kt(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,kt(this,"complete"),kt(this,"abort"),pi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pi(this,!0)),Ye.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ia(this):this.bb())},i.bb=function(){Ia(this)};function Ia(c){if(c.h&&typeof h<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Uu(c.Ea,0,c);else if(kt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var A;if(A=se===0){var H=String(c.D).match(Go)[1]||null;!H&&d.self&&d.self.location&&(H=d.self.location.protocol.slice(0,-1)),A=!Ra.test(H?H.toLowerCase():"")}v=A}if(v)kt(c,"complete"),kt(c,"success");else{c.m=6;try{var K=2<Dn(c)?c.g.statusText:""}catch{K=""}c.l=K+" ["+c.Z()+"]",xa(c)}}finally{pi(c)}}}}function pi(c,y){if(c.g){Ds(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||kt(c,"ready");try{v.onreadystatechange=A}catch{}}}function Ds(c){c.I&&(d.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),oi(y)}};function Qu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(c){const y={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ee(c[A]))continue;var v=M(c[A]);const H=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const K=y[H]||[];y[H]=K,K.push(v)}U(y,function(A){return A.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ca(c){this.Aa=0,this.i=[],this.j=new Ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,c),this.cb=Os("retryDelaySeedMs",1e4,c),this.Wa=Os("forwardChannelMaxRetries",2,c),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ho(c&&c.concurrentRequestLimit),this.Da=new Cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ca.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,A){vt(0),this.W=c,this.H=y||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=tc(this,null,this.W),Da(this)};function Wo(c){if(Yu(c),c.G==3){var y=c.U++,v=dt(c.I);if($e(v,"SID",c.K),$e(v,"RID",y),$e(v,"TYPE","terminate"),Ms(c,v),y=new ci(c,c.j,y),y.L=2,y.v=xs(dt(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&d.Image&&(new Image().src=y.v,v=!0),v||(y.g=nc(y.j,null),y.g.ea(y.v)),y.F=Date.now(),ut(y)}ec(c)}function Na(c){c.g&&(Vs(c),c.g.cancel(),c.g=null)}function Yu(c){Na(c),c.u&&(d.clearTimeout(c.u),c.u=null),Oa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Da(c){if(!Fo(c.h)&&!c.s){c.s=!0;var y=c.Ga;_e||k(),pe||(_e(),pe=!0),Le.add(y,c),c.B=0}}function If(c,y){return Hu(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=br(w(c.Ga,c,y),el(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const H=new ci(this,this.j,c);let K=this.o;if(this.S&&(K?(K=R(K),D(K,this.S)):K=this.S),this.m!==null||this.O||(H.H=K,K=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Xu(this,H,y),v=dt(this.I),$e(v,"RID",c),$e(v,"CVER",22),this.D&&$e(v,"X-HTTP-Session-Id",this.D),Ms(this,v),K&&(this.O?y="headers="+encodeURIComponent(String(Xo(K)))+"&"+y:this.m&&Ut(v,this.m,K)),Nr(this.h,H),this.Ua&&$e(v,"TYPE","init"),this.P?($e(v,"$req",y),$e(v,"SID","null"),H.T=!0,Xn(H,v,null)):Xn(H,v,y),this.G=2}}else this.G==3&&(c?Zo(this,c):this.i.length==0||Fo(this.h)||Zo(this))};function Zo(c,y){var v;y?v=y.l:v=c.U++;const A=dt(c.I);$e(A,"SID",c.K),$e(A,"RID",v),$e(A,"AID",c.T),Ms(c,A),c.m&&c.o&&Ut(A,c.m,c.o),v=new ci(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=Xu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nr(c.h,v),Xn(v,A,y)}function Ms(c,y){c.H&&ge(c.H,function(v,A){$e(y,A,v)}),c.l&&Ss({},function(v,A){$e(y,A,v)})}function Xu(c,y,v){v=Math.min(c.i.length,v);var A=c.l?w(c.l.Na,c.l,c):null;e:{var H=c.i;let K=-1;for(;;){const se=["count="+v];K==-1?0<v?(K=H[0].g,se.push("ofs="+K)):K=0:se.push("ofs="+K);let ze=!0;for(let Ct=0;Ct<v;Ct++){let Be=H[Ct].g;const Lt=H[Ct].map;if(Be-=K,0>Be)K=Math.max(0,H[Ct].g-100),ze=!1;else try{fi(Lt,se,"req"+Be+"_")}catch{A&&A(Lt)}}if(ze){A=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,A}function Wu(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;_e||k(),pe||(_e(),pe=!0),Le.add(y,c),c.v=0}}function Jo(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=br(w(c.Fa,c),el(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Zu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=br(w(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),Na(this),Zu(this))};function Vs(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Zu(c){c.g=new ci(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=dt(c.qa);$e(y,"RID","rpc"),$e(y,"SID",c.K),$e(y,"AID",c.T),$e(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&$e(y,"TO",c.ja),$e(y,"TYPE","xmlhttp"),Ms(c,y),c.m&&c.o&&Ut(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=xs(dt(y)),v.m=null,v.P=!0,Vi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Na(this),Jo(this),vt(19))};function Oa(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function Ju(c,y){var v=null;if(c.g==y){Oa(c),Vs(c),c.g=null;var A=2}else if(Cr(c.h,y))v=y.D,xn(c.h,y),A=1;else return;if(c.G!=0){if(y.o)if(A==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var H=c.B;A=_a(),kt(A,new zu(A,v)),Da(c)}else Wu(c);else if(H=y.s,H==3||H==0&&0<y.X||!(A==1&&If(c,y)||A==2&&Jo(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),H){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function el(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function zi(c,y){if(c.j.info("Error code "+y),y==2){var v=w(c.fb,c),A=c.Xa;const H=!A;A=new ki(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Dr(A,"https"),xs(A),H?$u(A.toString(),v):Is(A.toString(),v)}else vt(2);c.G=0,c.l&&c.l.sa(y),ec(c),Yu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function ec(c){if(c.G=0,c.ka=[],c.l){const y=an(c.h);(y.length!=0||c.i.length!=0)&&(O(c.ka,y),O(c.ka,c.i),c.h.i.length=0,q(c.i),c.i.length=0),c.l.ra()}}function tc(c,y,v){var A=v instanceof ki?dt(v):new ki(v);if(A.g!="")y&&(A.g=y+"."+A.g),Rs(A,A.s);else{var H=d.location;A=H.protocol,y=y?y+"."+H.hostname:H.hostname,H=+H.port;var K=new ki(null);A&&Dr(K,A),y&&(K.g=y),H&&Rs(K,H),v&&(K.l=v),A=K}return v=c.D,y=c.ya,v&&y&&$e(A,v,y),$e(A,"VER",c.la),Ms(c,A),A}function nc(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Ye(new Mr({eb:v})):new Ye(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function ic(){}i=ic.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function Ma(){}Ma.prototype.g=function(c,y){return new on(c,y)};function on(c,y){xt.call(this),this.g=new Ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!ee(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!ee(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new gi(this)}P(on,xt),on.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Wo(this.g)},on.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Lo(c),c=v);y.i.push(new wf(y.Ya++,c)),y.G==3&&Da(y)},on.prototype.N=function(){this.g.l=null,delete this.j,Wo(this.g),delete this.g,on.aa.N.call(this)};function rc(c){Er.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}P(rc,Er);function sc(){Yn.call(this),this.status=1}P(sc,Yn);function gi(c){this.g=c}P(gi,ic),gi.prototype.ua=function(){kt(this.g,"a")},gi.prototype.ta=function(c){kt(this.g,new rc(c))},gi.prototype.sa=function(c){kt(this.g,new sc)},gi.prototype.ra=function(){kt(this.g,"b")},Ma.prototype.createWebChannel=Ma.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,mw=function(){return new Ma},dw=function(){return _a()},fw=Rn,Zm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},It.NO_ERROR=0,It.TIMEOUT=8,It.HTTP_ERROR=6,gh=It,Mi.COMPLETE="complete",hw=Mi,ju.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",xt.prototype.listen=xt.prototype.K,eu=ju,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,cw=Ye}).apply(typeof sh<"u"?sh:typeof self<"u"?self:typeof window<"u"?window:{});const D0="@firebase/firestore",O0="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let No="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sa=new Kh("@firebase/firestore");function oo(){return sa.logLevel}function ce(i,...e){if(sa.logLevel<=ke.DEBUG){const n=e.map(Bp);sa.debug(`Firestore (${No}): ${i}`,...n)}}function mr(i,...e){if(sa.logLevel<=ke.ERROR){const n=e.map(Bp);sa.error(`Firestore (${No}): ${i}`,...n)}}function _o(i,...e){if(sa.logLevel<=ke.WARN){const n=e.map(Bp);sa.warn(`Firestore (${No}): ${i}`,...n)}}function Bp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function be(i="Unexpected state"){const e=`FIRESTORE (${No}) INTERNAL ASSERTION FAILED: `+i;throw mr(e),new Error(e)}function Xe(i,e){i||be()}function xe(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends ai{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(en.UNAUTHENTICATED))}shutdown(){}}class dN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mN{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Xe(this.o===void 0);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new cr,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},d=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>d(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?d(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new cr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Xe(typeof s.accessToken=="string"),new pw(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Xe(e===null||typeof e=="string"),new en(e)}}class pN{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=en.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class gN{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new pN(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yN{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,Fn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Xe(this.o===void 0);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new M0(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Xe(typeof n.token=="string"),this.R=n.token,new M0(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vN(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vN(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(i,e){return i<e?-1:i>e?1:0}function Jm(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=gw(),h=_N(u.encode(V0(i,n)),u.encode(V0(e,n)));return h!==0?h:Oe(s,o)}}n+=s>65535?2:1}return Oe(i.length,e.length)}function V0(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function _N(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Oe(i[n],e[n]);return Oe(i.length,e.length)}function Eo(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=-62135596800,P0=1e6;class Mt{static now(){return Mt.fromMillis(Date.now())}static fromDate(e){return Mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*P0);return new Mt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ue(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<k0)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/P0}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-k0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Mt(0,0))}static max(){return new Se(new Mt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U0="__name__";class bi{constructor(e,n,s){n===void 0?n=0:n>e.length&&be(),s===void 0?s=e.length-n:s>e.length-n&&be(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return bi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof bi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=bi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=bi.isNumericId(e),o=bi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?bi.extractNumericId(e).compare(bi.extractNumericId(n)):Jm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ls.fromString(e.substring(4,e.length-2))}}class st extends bi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new st(n)}static emptyPath(){return new st([])}}const EN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends bi{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return EN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===U0}static keyField(){return new Qt([U0])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const d=e[o];if(d==="\\"){if(o+1===e.length)throw new ue(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else d==="`"?(h=!h,o++):d!=="."||h?(s+=d,o++):(u(),o++)}if(u(),h)throw new ue(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(st.fromString(e))}static fromName(e){return new ve(st.fromString(e).popFirst(5))}static empty(){return new ve(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pu=-1;function TN(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Mt(n+1,0):new Mt(n,s));return new hs(o,ve.empty(),e)}function wN(i){return new hs(i.readTime,i.key,pu)}class hs{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new hs(Se.min(),ve.empty(),pu)}static max(){return new hs(Se.max(),ve.empty(),pu)}}function bN(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Oe(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class SN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Do(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==AN)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&be(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new J((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof J?n:J.resolve(n)}catch(n){return J.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):J.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):J.reject(n)}static resolve(e){return new J((n,s)=>{n(e)})}static reject(e){return new J((n,s)=>{s(e)})}static waitFor(e){return new J((n,s)=>{let o=0,u=0,h=!1;e.forEach(d=>{++o,d.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=J.resolve(!1);for(const s of e)n=n.next(o=>o?J.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new J((s,o)=>{const u=e.length,h=new Array(u);let d=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++d,d===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new J((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function RN(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Oo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.oe(s),this._e=s=>n.writeSequenceNumber(s))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Wh.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qp=-1;function Zh(i){return i==null}function Nh(i){return i===0&&1/i==-1/0}function xN(i){return typeof i=="number"&&Number.isInteger(i)&&!Nh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vw="";function IN(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=L0(e)),e=CN(i.get(n),e);return L0(e)}function CN(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case vw:n+="";break;default:n+=u}}return n}function L0(i){return i+vw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function _s(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function _w(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ft(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ah(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ah(this.root,e,this.comparator,!1)}getReverseIterator(){return new ah(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ah(this.root,e,this.comparator,!0)}}class ah{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw be();const e=this.left.check();if(e!==this.right.check())throw be();return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw be()}get value(){throw be()}get color(){throw be()}get left(){throw be()}get right(){throw be()}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z0(this.data.getIterator())}getIteratorFrom(e){return new z0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class z0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new An([])}unionWith(e){let n=new Vt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new An(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Eo(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ew("Invalid base64 string: "+u):u}}(e);return new Yt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Yt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Yt.EMPTY_BYTE_STRING=new Yt("");const NN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fs(i){if(Xe(!!i),typeof i=="string"){let e=0;const n=NN.exec(i);if(Xe(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Et(i.seconds),nanos:Et(i.nanos)}}function Et(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ds(i){return typeof i=="string"?Yt.fromBase64String(i):Yt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="server_timestamp",ww="__type__",bw="__previous_value__",Aw="__local_write_time__";function Hp(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[ww])===null||n===void 0?void 0:n.stringValue)===Tw}function Jh(i){const e=i.mapValue.fields[bw];return Hp(e)?Jh(e):e}function gu(i){const e=fs(i.mapValue.fields[Aw].timestampValue);return new Mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,s,o,u,h,d,p,g){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=d,this.longPollingOptions=p,this.useFetchStreams=g}}const Dh="(default)";class yu{constructor(e,n){this.projectId=e,this.database=n||Dh}static empty(){return new yu("","")}get isDefaultDatabase(){return this.database===Dh}isEqual(e){return e instanceof yu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw="__type__",ON="__max__",oh={mapValue:{}},Rw="__vector__",Oh="value";function ms(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Hp(i)?4:VN(i)?9007199254740991:MN(i)?10:11:be()}function Ci(i,e){if(i===e)return!0;const n=ms(i);if(n!==ms(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return gu(i).isEqual(gu(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=fs(o.timestampValue),d=fs(u.timestampValue);return h.seconds===d.seconds&&h.nanos===d.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return ds(o.bytesValue).isEqual(ds(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Et(o.geoPointValue.latitude)===Et(u.geoPointValue.latitude)&&Et(o.geoPointValue.longitude)===Et(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Et(o.integerValue)===Et(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=Et(o.doubleValue),d=Et(u.doubleValue);return h===d?Nh(h)===Nh(d):isNaN(h)&&isNaN(d)}return!1}(i,e);case 9:return Eo(i.arrayValue.values||[],e.arrayValue.values||[],Ci);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},d=u.mapValue.fields||{};if(j0(h)!==j0(d))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(d[p]===void 0||!Ci(h[p],d[p])))return!1;return!0}(i,e);default:return be()}}function vu(i,e){return(i.values||[]).find(n=>Ci(n,e))!==void 0}function To(i,e){if(i===e)return 0;const n=ms(i),s=ms(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(i.booleanValue,e.booleanValue);case 2:return function(u,h){const d=Et(u.integerValue||u.doubleValue),p=Et(h.integerValue||h.doubleValue);return d<p?-1:d>p?1:d===p?0:isNaN(d)?isNaN(p)?0:-1:1}(i,e);case 3:return B0(i.timestampValue,e.timestampValue);case 4:return B0(gu(i),gu(e));case 5:return Jm(i.stringValue,e.stringValue);case 6:return function(u,h){const d=ds(u),p=ds(h);return d.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const d=u.split("/"),p=h.split("/");for(let g=0;g<d.length&&g<p.length;g++){const E=Oe(d[g],p[g]);if(E!==0)return E}return Oe(d.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const d=Oe(Et(u.latitude),Et(h.latitude));return d!==0?d:Oe(Et(u.longitude),Et(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return q0(i.arrayValue,e.arrayValue);case 10:return function(u,h){var d,p,g,E;const T=u.fields||{},w=h.fields||{},N=(d=T[Oh])===null||d===void 0?void 0:d.arrayValue,P=(p=w[Oh])===null||p===void 0?void 0:p.arrayValue,q=Oe(((g=N==null?void 0:N.values)===null||g===void 0?void 0:g.length)||0,((E=P==null?void 0:P.values)===null||E===void 0?void 0:E.length)||0);return q!==0?q:q0(N,P)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===oh.mapValue&&h===oh.mapValue)return 0;if(u===oh.mapValue)return 1;if(h===oh.mapValue)return-1;const d=u.fields||{},p=Object.keys(d),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let T=0;T<p.length&&T<E.length;++T){const w=Jm(p[T],E[T]);if(w!==0)return w;const N=To(d[p[T]],g[E[T]]);if(N!==0)return N}return Oe(p.length,E.length)}(i.mapValue,e.mapValue);default:throw be()}}function B0(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Oe(i,e);const n=fs(i),s=fs(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function q0(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=To(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function wo(i){return ep(i)}function ep(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=fs(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ds(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ep(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ep(n.fields[h])}`;return o+"}"}(i.mapValue):be()}function yh(i){switch(ms(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(i);return e?16+yh(e):16;case 5:return 2*i.stringValue.length;case 6:return ds(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+yh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return _s(s.fields,(u,h)=>{o+=u.length+yh(h)}),o}(i.mapValue);default:throw be()}}function H0(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function tp(i){return!!i&&"integerValue"in i}function Fp(i){return!!i&&"arrayValue"in i}function F0(i){return!!i&&"nullValue"in i}function G0(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function vh(i){return!!i&&"mapValue"in i}function MN(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{})[Sw])===null||n===void 0?void 0:n.stringValue)===Rw}function su(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return _s(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=su(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=su(i.arrayValue.values[n]);return e}return Object.assign({},i)}function VN(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===ON}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!vh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=su(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((h,d)=>{if(!n.isImmediateParentOf(d)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=d.popLast()}h?s[d.lastSegment()]=su(h):o.push(d.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());vh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ci(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];vh(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){_s(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new mn(su(this.value))}}function xw(i){const e=[];return _s(i.fields,(n,s)=>{const o=new Qt([n]);if(vh(s)){const u=xw(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new An(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,n,s,o,u,h,d){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=d}static newInvalidDocument(e){return new tn(e,0,Se.min(),Se.min(),Se.min(),mn.empty(),0)}static newFoundDocument(e,n,s,o){return new tn(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new tn(e,2,n,Se.min(),Se.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new tn(e,3,n,Se.min(),Se.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e,n){this.position=e,this.inclusive=n}}function $0(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=To(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function K0(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ci(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _u{constructor(e,n="asc"){this.field=e,this.dir=n}}function kN(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{}class Rt extends Iw{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UN(e,n,s):n==="array-contains"?new zN(e,s):n==="in"?new BN(e,s):n==="not-in"?new qN(e,s):n==="array-contains-any"?new HN(e,s):new Rt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new LN(e,s):new jN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(To(n,this.value)):n!==null&&ms(this.value)===ms(n)&&this.matchesComparison(To(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return be()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends Iw{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new ri(e,n)}matches(e){return Cw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function Cw(i){return i.op==="and"}function Nw(i){return PN(i)&&Cw(i)}function PN(i){for(const e of i.filters)if(e instanceof ri)return!1;return!0}function np(i){if(i instanceof Rt)return i.field.canonicalString()+i.op.toString()+wo(i.value);if(Nw(i))return i.filters.map(e=>np(e)).join(",");{const e=i.filters.map(n=>np(n)).join(",");return`${i.op}(${e})`}}function Dw(i,e){return i instanceof Rt?function(s,o){return o instanceof Rt&&s.op===o.op&&s.field.isEqual(o.field)&&Ci(s.value,o.value)}(i,e):i instanceof ri?function(s,o){return o instanceof ri&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,d)=>u&&Dw(h,o.filters[d]),!0):!1}(i,e):void be()}function Ow(i){return i instanceof Rt?function(n){return`${n.field.canonicalString()} ${n.op} ${wo(n.value)}`}(i):i instanceof ri?function(n){return n.op.toString()+" {"+n.getFilters().map(Ow).join(" ,")+"}"}(i):"Filter"}class UN extends Rt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class LN extends Rt{constructor(e,n){super(e,"in",n),this.keys=Mw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class jN extends Rt{constructor(e,n){super(e,"not-in",n),this.keys=Mw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Mw(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class zN extends Rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Fp(n)&&vu(n.arrayValue,this.value)}}class BN extends Rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&vu(this.value.arrayValue,n)}}class qN extends Rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(vu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!vu(this.value.arrayValue,n)}}class HN extends Rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Fp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>vu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FN{constructor(e,n=null,s=[],o=[],u=null,h=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=d,this.le=null}}function Q0(i,e=null,n=[],s=[],o=null,u=null,h=null){return new FN(i,e,n,s,o,u,h)}function Gp(i){const e=xe(i);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>np(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),Zh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>wo(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>wo(s)).join(",")),e.le=n}return e.le}function $p(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!kN(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Dw(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!K0(i.startAt,e.startAt)&&K0(i.endAt,e.endAt)}function ip(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n=null,s=[],o=[],u=null,h="F",d=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=d,this.endAt=p,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function GN(i,e,n,s,o,u,h,d){return new Mo(i,e,n,s,o,u,h,d)}function ef(i){return new Mo(i)}function Y0(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function Vw(i){return i.collectionGroup!==null}function au(i){const e=xe(i);if(e.he===null){e.he=[];const n=new Set;for(const u of e.explicitOrderBy)e.he.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let d=new Vt(Qt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(d=d.add(g.field))})}),d})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.he.push(new _u(u,s))}),n.has(Qt.keyField().canonicalString())||e.he.push(new _u(Qt.keyField(),s))}return e.he}function Ri(i){const e=xe(i);return e.Pe||(e.Pe=$N(e,au(i))),e.Pe}function $N(i,e){if(i.limitType==="F")return Q0(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new _u(o.field,u)});const n=i.endAt?new Mh(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Mh(i.startAt.position,i.startAt.inclusive):null;return Q0(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function rp(i,e){const n=i.filters.concat([e]);return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),n,i.limit,i.limitType,i.startAt,i.endAt)}function Vh(i,e,n){return new Mo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function tf(i,e){return $p(Ri(i),Ri(e))&&i.limitType===e.limitType}function kw(i){return`${Gp(Ri(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Ow(o)).join(", ")}]`),Zh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>wo(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>wo(o)).join(",")),`Target(${s})`}(Ri(i))}; limitType=${i.limitType})`}function nf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of au(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,d,p){const g=$0(h,d,p);return h.inclusive?g<=0:g<0}(s.startAt,au(s),o)||s.endAt&&!function(h,d,p){const g=$0(h,d,p);return h.inclusive?g>=0:g>0}(s.endAt,au(s),o))}(i,e)}function KN(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Pw(i){return(e,n)=>{let s=!1;for(const o of au(i)){const u=QN(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function QN(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,h,d){const p=h.data.field(u),g=d.data.field(u);return p!==null&&g!==null?To(p,g):be()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return be()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){_s(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return _w(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN=new ft(ve.comparator);function pr(){return YN}const Uw=new ft(ve.comparator);function tu(...i){let e=Uw;for(const n of i)e=e.insert(n.key,n);return e}function Lw(i){let e=Uw;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ta(){return ou()}function jw(){return ou()}function ou(){return new ma(i=>i.toString(),(i,e)=>i.isEqual(e))}const XN=new ft(ve.comparator),WN=new Vt(ve.comparator);function Pe(...i){let e=WN;for(const n of i)e=e.add(n);return e}const ZN=new Vt(Oe);function JN(){return ZN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kp(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Nh(e)?"-0":e}}function zw(i){return{integerValue:""+i}}function e2(i,e){return xN(e)?zw(e):Kp(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf{constructor(){this._=void 0}}function t2(i,e,n){return i instanceof Eu?function(o,u){const h={fields:{[ww]:{stringValue:Tw},[Aw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Hp(u)&&(u=Jh(u)),u&&(h.fields[bw]=u),{mapValue:h}}(n,e):i instanceof Tu?qw(i,e):i instanceof wu?Hw(i,e):function(o,u){const h=Bw(o,u),d=X0(h)+X0(o.Ie);return tp(h)&&tp(o.Ie)?zw(d):Kp(o.serializer,d)}(i,e)}function n2(i,e,n){return i instanceof Tu?qw(i,e):i instanceof wu?Hw(i,e):n}function Bw(i,e){return i instanceof kh?function(s){return tp(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Eu extends rf{}class Tu extends rf{constructor(e){super(),this.elements=e}}function qw(i,e){const n=Fw(e);for(const s of i.elements)n.some(o=>Ci(o,s))||n.push(s);return{arrayValue:{values:n}}}class wu extends rf{constructor(e){super(),this.elements=e}}function Hw(i,e){let n=Fw(e);for(const s of i.elements)n=n.filter(o=>!Ci(o,s));return{arrayValue:{values:n}}}class kh extends rf{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function X0(i){return Et(i.integerValue||i.doubleValue)}function Fw(i){return Fp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i2{constructor(e,n){this.field=e,this.transform=n}}function r2(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof Tu&&o instanceof Tu||s instanceof wu&&o instanceof wu?Eo(s.elements,o.elements,Ci):s instanceof kh&&o instanceof kh?Ci(s.Ie,o.Ie):s instanceof Eu&&o instanceof Eu}(i.transform,e.transform)}class s2{constructor(e,n){this.version=e,this.transformResults=n}}class $n{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $n}static exists(e){return new $n(void 0,e)}static updateTime(e){return new $n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function _h(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class sf{}function Gw(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new Qp(i.key,$n.none()):new Du(i.key,i.data,$n.none());{const n=i.data,s=mn.empty();let o=new Vt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new Es(i.key,s,new An(o.toArray()),$n.none())}}function a2(i,e,n){i instanceof Du?function(o,u,h){const d=o.value.clone(),p=Z0(o.fieldTransforms,u,h.transformResults);d.setAll(p),u.convertToFoundDocument(h.version,d).setHasCommittedMutations()}(i,e,n):i instanceof Es?function(o,u,h){if(!_h(o.precondition,u))return void u.convertToUnknownDocument(h.version);const d=Z0(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll($w(o)),p.setAll(d),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function lu(i,e,n,s){return i instanceof Du?function(u,h,d,p){if(!_h(u.precondition,h))return d;const g=u.value.clone(),E=J0(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof Es?function(u,h,d,p){if(!_h(u.precondition,h))return d;const g=J0(u.fieldTransforms,p,h),E=h.data;return E.setAll($w(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),d===null?null:d.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(T=>T.field))}(i,e,n,s):function(u,h,d){return _h(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):d}(i,e,n)}function o2(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=Bw(s.transform,o||null);u!=null&&(n===null&&(n=mn.empty()),n.set(s.field,u))}return n||null}function W0(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Eo(s,o,(u,h)=>r2(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Du extends sf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Es extends sf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function $w(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Z0(i,e,n){const s=new Map;Xe(i.length===n.length);for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,d=e.data.field(u.field);s.set(u.field,n2(h,d,n[o]))}return s}function J0(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,t2(u,h,e))}return s}class Qp extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class l2 extends sf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&a2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=lu(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=jw();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let d=this.applyToLocalView(h,u.mutatedFields);d=n.has(o.key)?null:d;const p=Gw(h,d);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Pe())}isEqual(e){return this.batchId===e.batchId&&Eo(this.mutations,e.mutations,(n,s)=>W0(n,s))&&Eo(this.baseMutations,e.baseMutations,(n,s)=>W0(n,s))}}class Yp{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Xe(e.mutations.length===s.length);let o=function(){return XN}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new Yp(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var St,He;function f2(i){switch(i){case X.OK:return be();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0;default:return be()}}function Kw(i){if(i===void 0)return mr("GRPC error has no .code"),X.UNKNOWN;switch(i){case St.OK:return X.OK;case St.CANCELLED:return X.CANCELLED;case St.UNKNOWN:return X.UNKNOWN;case St.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case St.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case St.INTERNAL:return X.INTERNAL;case St.UNAVAILABLE:return X.UNAVAILABLE;case St.UNAUTHENTICATED:return X.UNAUTHENTICATED;case St.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case St.NOT_FOUND:return X.NOT_FOUND;case St.ALREADY_EXISTS:return X.ALREADY_EXISTS;case St.PERMISSION_DENIED:return X.PERMISSION_DENIED;case St.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case St.ABORTED:return X.ABORTED;case St.OUT_OF_RANGE:return X.OUT_OF_RANGE;case St.UNIMPLEMENTED:return X.UNIMPLEMENTED;case St.DATA_LOSS:return X.DATA_LOSS;default:return be()}}(He=St||(St={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d2=new ls([4294967295,4294967295],0);function eE(i){const e=gw().encode(i),n=new uw;return n.update(e),new Uint8Array(n.digest())}function tE(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ls([n,s],0),new ls([o,u],0)]}class Xp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new nu(`Invalid padding: ${n}`);if(s<0)throw new nu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new nu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new nu(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ls.fromNumber(this.Ee)}Ae(e,n,s){let o=e.add(n.multiply(ls.fromNumber(s)));return o.compare(d2)===1&&(o=new ls([o.getBits(0),o.getBits(1)],0)),o.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const n=eE(e),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);if(!this.Re(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new Xp(u,o,n);return s.forEach(d=>h.insert(d)),h}insert(e){if(this.Ee===0)return;const n=eE(e),[s,o]=tE(n);for(let u=0;u<this.hashCount;u++){const h=this.Ae(s,o,u);this.Ve(h)}}Ve(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class nu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Ou.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new af(Se.min(),o,new ft(Oe),pr(),Pe())}}class Ou{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Ou(s,n,Pe(),Pe(),Pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh{constructor(e,n,s,o){this.me=e,this.removedTargetIds=n,this.key=s,this.fe=o}}class Qw{constructor(e,n){this.targetId=e,this.ge=n}}class Yw{constructor(e,n,s=Yt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class nE{constructor(){this.pe=0,this.ye=iE(),this.we=Yt.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Pe(),n=Pe(),s=Pe();return this.ye.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:be()}}),new Ou(this.we,this.Se,e,n,s)}Me(){this.be=!1,this.ye=iE()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Xe(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class m2{constructor(e){this.ke=e,this.qe=new Map,this.Qe=pr(),this.$e=lh(),this.Ue=lh(),this.Ke=new ft(Oe)}We(e){for(const n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(const n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{const s=this.He(n);switch(e.state){case 0:this.Je(n)&&s.Ce(e.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(e.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(n);break;case 3:this.Je(n)&&(s.Le(),s.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),s.Ce(e.resumeToken));break;default:be()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((s,o)=>{this.Je(o)&&n(o)})}Ze(e){const n=e.targetId,s=e.ge.count,o=this.Xe(n);if(o){const u=o.target;if(ip(u))if(s===0){const h=new ve(u.path);this.ze(n,h,tn.newNoDocument(h,Se.min()))}else Xe(s===1);else{const h=this.et(n);if(h!==s){const d=this.tt(e),p=d?this.nt(d,e,h):1;if(p!==0){this.Ye(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,g)}}}}}tt(e){const n=e.ge.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,d;try{h=ds(s).toUint8Array()}catch(p){if(p instanceof Ew)return _o("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{d=new Xp(h,o,u)}catch(p){return _o(p instanceof nu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return d.Ee===0?null:d}nt(e,n,s){return n.ge.count===s-this.st(e,n.targetId)?0:2}st(e,n){const s=this.ke.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.ke.it(),d=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(d)||(this.ze(n,u,null),o++)}),o}ot(e){const n=new Map;this.qe.forEach((u,h)=>{const d=this.Xe(h);if(d){if(u.current&&ip(d.target)){const p=new ve(d.target.path);this._t(p).has(h)||this.ut(h,p)||this.ze(h,p,tn.newNoDocument(p,e))}u.ve&&(n.set(h,u.Fe()),u.Me())}});let s=Pe();this.Ue.forEach((u,h)=>{let d=!0;h.forEachWhile(p=>{const g=this.Xe(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)}),d&&(s=s.add(u))}),this.Qe.forEach((u,h)=>h.setReadTime(e));const o=new af(e,n,this.Ke,this.Qe,s);return this.Qe=pr(),this.$e=lh(),this.Ue=lh(),this.Ke=new ft(Oe),o}Ge(e,n){if(!this.Je(e))return;const s=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,s),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ue=this.Ue.insert(n.key,this.ct(n.key).add(e))}ze(e,n,s){if(!this.Je(e))return;const o=this.He(e);this.ut(e,n)?o.xe(n,1):o.Oe(n),this.Ue=this.Ue.insert(n,this.ct(n).delete(e)),this.Ue=this.Ue.insert(n,this.ct(n).add(e)),s&&(this.Qe=this.Qe.insert(n,s))}removeTarget(e){this.qe.delete(e)}et(e){const n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new nE,this.qe.set(e,n)),n}ct(e){let n=this.Ue.get(e);return n||(n=new Vt(Oe),this.Ue=this.Ue.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new Vt(Oe),this.$e=this.$e.insert(e,n)),n}Je(e){const n=this.Xe(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){const n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new nE),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}}function lh(){return new ft(ve.comparator)}function iE(){return new ft(ve.comparator)}const p2={asc:"ASCENDING",desc:"DESCENDING"},g2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},y2={and:"AND",or:"OR"};class v2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function sp(i,e){return i.useProto3Json||Zh(e)?e:{value:e}}function Ph(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Xw(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function _2(i,e){return Ph(i,e.toTimestamp())}function xi(i){return Xe(!!i),Se.fromTimestamp(function(n){const s=fs(n);return new Mt(s.seconds,s.nanos)}(i))}function Wp(i,e){return ap(i,e).canonicalString()}function ap(i,e){const n=function(o){return new st(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function Ww(i){const e=st.fromString(i);return Xe(nb(e)),e}function op(i,e){return Wp(i.databaseId,e.path)}function Mm(i,e){const n=Ww(e);if(n.get(1)!==i.databaseId.projectId)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new ue(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(Jw(n))}function Zw(i,e){return Wp(i.databaseId,e)}function E2(i){const e=Ww(i);return e.length===4?st.emptyPath():Jw(e)}function lp(i){return new st(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Jw(i){return Xe(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function rE(i,e,n){return{name:op(i,e),fields:n.value.mapValue.fields}}function T2(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:be()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Xe(E===void 0||typeof E=="string"),Yt.fromBase64String(E||"")):(Xe(E===void 0||E instanceof Buffer||E instanceof Uint8Array),Yt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,d=h&&function(g){const E=g.code===void 0?X.UNKNOWN:Kw(g.code);return new ue(E,g.message||"")}(h);n=new Yw(s,o,u,d||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Mm(i,s.document.name),u=xi(s.document.updateTime),h=s.document.createTime?xi(s.document.createTime):Se.min(),d=new mn({mapValue:{fields:s.document.fields}}),p=tn.newFoundDocument(o,u,h,d),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Eh(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Mm(i,s.document),u=s.readTime?xi(s.readTime):Se.min(),h=tn.newNoDocument(o,u),d=s.removedTargetIds||[];n=new Eh([],d,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Mm(i,s.document),u=s.removedTargetIds||[];n=new Eh([],u,o,null)}else{if(!("filter"in e))return be();{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new h2(o,u),d=s.targetId;n=new Qw(d,h)}}return n}function w2(i,e){let n;if(e instanceof Du)n={update:rE(i,e.key,e.value)};else if(e instanceof Qp)n={delete:op(i,e.key)};else if(e instanceof Es)n={update:rE(i,e.key,e.data),updateMask:D2(e.fieldMask)};else{if(!(e instanceof l2))return be();n={verify:op(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const d=h.transform;if(d instanceof Eu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Tu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof wu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof kh)return{fieldPath:h.field.canonicalString(),increment:d.Ie};throw be()}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:_2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:be()}(i,e.precondition)),n}function b2(i,e){return i&&i.length>0?(Xe(e!==void 0),i.map(n=>function(o,u){let h=o.updateTime?xi(o.updateTime):xi(u);return h.isEqual(Se.min())&&(h=xi(u)),new s2(h,o.transformResults||[])}(n,e))):[]}function A2(i,e){return{documents:[Zw(i,e.path)]}}function S2(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=Zw(i,o);const u=function(g){if(g.length!==0)return tb(ri.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(w){return{field:uo(w.field),direction:I2(w.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const d=sp(i,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{ht:n,parent:o}}function R2(i){let e=E2(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Xe(s===1);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(T){const w=eb(T);return w instanceof ri&&Nw(w)?w.getFilters():[w]}(n.where));let h=[];n.orderBy&&(h=function(T){return T.map(w=>function(P){return new _u(co(P.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(P.direction))}(w))}(n.orderBy));let d=null;n.limit&&(d=function(T){let w;return w=typeof T=="object"?T.value:T,Zh(w)?null:w}(n.limit));let p=null;n.startAt&&(p=function(T){const w=!!T.before,N=T.values||[];return new Mh(N,w)}(n.startAt));let g=null;return n.endAt&&(g=function(T){const w=!T.before,N=T.values||[];return new Mh(N,w)}(n.endAt)),GN(e,o,h,u,d,"F",p,g)}function x2(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return be()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function eb(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return Rt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return Rt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return Rt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return Rt.create(h,"!=",{nullValue:"NULL_VALUE"});default:return be()}}(i):i.fieldFilter!==void 0?function(n){return Rt.create(co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return be()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return ri.create(n.compositeFilter.filters.map(s=>eb(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return be()}}(n.compositeFilter.op))}(i):be()}function I2(i){return p2[i]}function C2(i){return g2[i]}function N2(i){return y2[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Qt.fromServerFormat(i.fieldPath)}function tb(i){return i instanceof Rt?function(n){if(n.op==="=="){if(G0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(F0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(F0(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:C2(n.op),value:n.value}}}(i):i instanceof ri?function(n){const s=n.getFilters().map(o=>tb(o));return s.length===1?s[0]:{compositeFilter:{op:N2(n.op),filters:s}}}(i):be()}function D2(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nb(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e,n,s,o,u=Se.min(),h=Se.min(),d=Yt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=d,this.expectedCount=p}withSequenceNumber(e){return new ss(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ss(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.Tt=e}}function M2(i){const e=R2({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2{constructor(){this.Tn=new k2}addToCollectionParentIndex(e,n){return this.Tn.add(n),J.resolve()}getCollectionParents(e,n){return J.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return J.resolve()}deleteFieldIndex(e,n){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,n){return J.resolve()}getDocumentsMatchingTarget(e,n){return J.resolve(null)}getIndexType(e,n){return J.resolve(0)}getFieldIndexes(e,n){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,n){return J.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return J.resolve(hs.min())}updateCollectionGroup(e,n,s){return J.resolve()}updateIndexEntries(e,n){return J.resolve()}}class k2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Vt(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Vt(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ib=41943040;class dn{static withCacheSize(e){return new dn(e,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */dn.DEFAULT_COLLECTION_PERCENTILE=10,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dn.DEFAULT=new dn(ib,dn.DEFAULT_COLLECTION_PERCENTILE,dn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dn.DISABLED=new dn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new bo(0)}static Kn(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aE="LruGarbageCollector",P2=1048576;function oE([i,e],[n,s]){const o=Oe(i,n);return o===0?Oe(e,s):o}class U2{constructor(e){this.Hn=e,this.buffer=new Vt(oE),this.Jn=0}Yn(){return++this.Jn}Zn(e){const n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();oE(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class L2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){ce(aE,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Oo(n)?ce(aE,"Ignoring IndexedDB error during garbage collection: ",n):await Do(n)}await this.er(3e5)})}}class j2{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return J.resolve(Wh.ae);const s=new U2(n);return this.tr.forEachTarget(e,o=>s.Zn(o.sequenceNumber)).next(()=>this.tr.rr(e,o=>s.Zn(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.tr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(sE)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),sE):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let s,o,u,h,d,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(T=>(T>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o))).next(T=>(s=T,d=Date.now(),this.removeTargets(e,s,n))).next(T=>(u=T,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(T=>(g=Date.now(),oo()<=ke.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(d-h)+`ms
	Removed ${u} targets in `+(p-d)+`ms
	Removed ${T} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:T})))}}function z2(i,e){return new j2(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2{constructor(){this.changes=new ma(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?J.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&lu(s.mutation,o,An.empty(),Mt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Pe()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Pe()){const o=ta();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=tu();return u.forEach((d,p)=>{h=h.insert(d,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ta();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Pe()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,d)=>{n.set(h,d)})})}computeViews(e,n,s,o){let u=pr();const h=ou(),d=function(){return ou()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof Es)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),lu(E.mutation,g,E.mutation.getFieldMask(),Mt.now())):h.set(g.key,An.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var T;return d.set(g,new q2(E,(T=h.get(g))!==null&&T!==void 0?T:null))}),d))}recalculateAndSaveOverlays(e,n){const s=ou();let o=new ft((h,d)=>h-d),u=Pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const d of h)d.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||An.empty();E=d.applyToLocalView(g,E),s.set(p,E);const T=(o.get(d.batchId)||Pe()).add(p);o=o.insert(d.batchId,T)})}).next(()=>{const h=[],d=o.getReverseIterator();for(;d.hasNext();){const p=d.getNext(),g=p.key,E=p.value,T=jw();E.forEach(w=>{if(!u.has(w)){const N=Gw(n.get(w),s.get(w));N!==null&&T.set(w,N),u=u.add(w)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,T))}return J.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Vw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):J.resolve(ta());let d=pu,p=u;return h.next(g=>J.forEach(g,(E,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),u.get(E)?J.resolve():this.remoteDocumentCache.getEntry(e,E).next(w=>{p=p.insert(E,w)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,Pe())).next(E=>({batchId:d,changes:Lw(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=tu();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=tu();return this.indexManager.getCollectionParents(e,u).next(d=>J.forEach(d,p=>{const g=function(T,w){return new Mo(w,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((T,w)=>{h=h.insert(T,w)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,tn.newInvalidDocument(E)))});let d=tu();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&lu(E.mutation,g,An.empty(),Mt.now()),nf(n,g)&&(d=d.insert(p,g))}),d})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return J.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:xi(o.createTime)}}(n)),J.resolve()}getNamedQuery(e,n){return J.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(o){return{name:o.name,query:M2(o.bundledQuery),readTime:xi(o.readTime)}}(n)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(){this.overlays=new ft(ve.comparator),this.Rr=new Map}getOverlay(e,n){return J.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ta();return J.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.Et(e,n,u)}),J.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Rr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Rr.delete(s)),J.resolve()}getOverlaysForCollection(e,n,s){const o=ta(),u=n.length+1,h=new ve(n.child("")),d=this.overlays.getIteratorFrom(h);for(;d.hasNext();){const p=d.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ft((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ta(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const d=ta(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>d.set(g,E)),!(d.size()>=o)););return J.resolve(d)}Et(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.Rr.get(o.largestBatchId).delete(s.key);this.Rr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new c2(n,s));let u=this.Rr.get(n);u===void 0&&(u=Pe(),this.Rr.set(n,u)),this.Rr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=Yt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.Vr=new Vt(qt.mr),this.gr=new Vt(qt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){const s=new qt(e,n);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.wr(new qt(e,n))}Sr(e,n){e.forEach(s=>this.removeReference(s,n))}br(e){const n=new ve(new st([])),s=new qt(n,e),o=new qt(n,e+1),u=[];return this.gr.forEachInRange([s,o],h=>{this.wr(h),u.push(h.key)}),u}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const n=new ve(new st([])),s=new qt(n,e),o=new qt(n,e+1);let u=Pe();return this.gr.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new qt(e,0),s=this.Vr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class qt{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return ve.comparator(e.key,n.key)||Oe(e.Cr,n.Cr)}static pr(e,n){return Oe(e.Cr,n.Cr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new Vt(qt.mr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new u2(u,n,s,o);this.mutationQueue.push(h);for(const d of o)this.Mr=this.Mr.add(new qt(d.key,u)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,n){return J.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Nr(s),u=o<0?0:o;return J.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qp:this.Fr-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new qt(n,0),o=new qt(n,Number.POSITIVE_INFINITY),u=[];return this.Mr.forEachInRange([s,o],h=>{const d=this.Or(h.Cr);u.push(d)}),J.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Oe);return n.forEach(o=>{const u=new qt(o,0),h=new qt(o,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([u,h],d=>{s=s.add(d.Cr)})}),J.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new qt(new ve(u),0);let d=new Vt(Oe);return this.Mr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(d=d.add(p.Cr)),!0)},h),J.resolve(this.Br(d))}Br(e){const n=[];return e.forEach(s=>{const o=this.Or(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Xe(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return J.forEach(n.mutations,o=>{const u=new qt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Mr=s})}qn(e){}containsKey(e,n){const s=new qt(n,0),o=this.Mr.firstAfterOrEqual(s);return J.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e){this.kr=e,this.docs=function(){return new ft(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.kr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return J.resolve(s?s.document.mutableCopy():tn.newInvalidDocument(n))}getEntries(e,n){let s=pr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():tn.newInvalidDocument(o))}),J.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=pr();const h=n.path,d=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(d);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||bN(wN(E),s)<=0||(o.has(E.key)||nf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return J.resolve(u)}getAllFromCollectionGroup(e,n,s,o){be()}qr(e,n){return J.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Y2(this)}getSize(e){return J.resolve(this.size)}}class Y2 extends B2{constructor(e){super(),this.Ir=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Ir.addEntry(e,o)):this.Ir.removeEntry(s)}),J.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(e){this.persistence=e,this.Qr=new ma(n=>Gp(n),$p),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.$r=0,this.Ur=new Zp,this.targetCount=0,this.Kr=bo.Un()}forEachTarget(e,n){return this.Qr.forEach((s,o)=>n(o)),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.$r&&(this.$r=n),J.resolve()}zn(e){this.Qr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Kr=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,J.resolve()}updateTargetData(e,n){return this.zn(n),J.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Ur.br(n.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.Qr.forEach((h,d)=>{d.sequenceNumber<=n&&s.get(d.targetId)===null&&(this.Qr.delete(h),u.push(this.removeMatchingKeysForTargetId(e,d.targetId)),o++)}),J.waitFor(u).next(()=>o)}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,n){const s=this.Qr.get(n)||null;return J.resolve(s)}addMatchingKeys(e,n,s){return this.Ur.yr(n,s),J.resolve()}removeMatchingKeys(e,n,s){this.Ur.Sr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),J.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.Ur.br(n),J.resolve()}getMatchingKeysForTargetId(e,n){const s=this.Ur.vr(n);return J.resolve(s)}containsKey(e,n){return J.resolve(this.Ur.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new Wh(0),this.zr=!1,this.zr=!0,this.jr=new $2,this.referenceDelegate=e(this),this.Hr=new X2(this),this.indexManager=new V2,this.remoteDocumentCache=function(o){return new Q2(o)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new O2(n),this.Yr=new F2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new G2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Wr[e.toKey()];return s||(s=new K2(n,this.referenceDelegate),this.Wr[e.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new W2(this.Gr.next());return this.referenceDelegate.Zr(),s(o).next(u=>this.referenceDelegate.Xr(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}ei(e,n){return J.or(Object.values(this.Wr).map(s=>()=>s.containsKey(e,n)))}}class W2 extends SN{constructor(e){super(),this.currentSequenceNumber=e}}class Jp{constructor(e){this.persistence=e,this.ti=new Zp,this.ni=null}static ri(e){return new Jp(e)}get ii(){if(this.ni)return this.ni;throw be()}addReference(e,n,s){return this.ti.addReference(s,n),this.ii.delete(s.toString()),J.resolve()}removeReference(e,n,s){return this.ti.removeReference(s,n),this.ii.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),J.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(o=>this.ii.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.ii.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.ii,s=>{const o=ve.fromPath(s);return this.si(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(s=>{s?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return J.or([()=>J.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}}class Uh{constructor(e,n){this.persistence=e,this.oi=new ma(s=>IN(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=z2(this,n)}static ri(e,n){return new Uh(e,n)}Zr(){}Xr(e){return J.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){const n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}sr(e){let n=0;return this.rr(e,s=>{n++}).next(()=>n)}rr(e,n){return J.forEach(this.oi,(s,o)=>this.ar(e,s,o).next(u=>u?J.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.qr(e,h=>this.ar(e,h,n).next(d=>{d||(s++,u.removeEntry(h,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,n,s){return this.oi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),J.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=yh(e.data.value)),n}ar(e,n,s){return J.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.oi.get(n);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eg{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Hi=s,this.Ji=o}static Yi(e,n){let s=Pe(),o=Pe();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new eg(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return Ox()?8:RN(rn())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.rs(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ss(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Z2;return this._s(e,n,h).next(d=>{if(u.result=d,this.Xi)return this.us(e,n,h,d.size)})}).next(()=>u.result)}us(e,n,s,o){return s.documentReadCount<this.es?(oo()<=ke.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),J.resolve()):(oo()<=ke.DEBUG&&ce("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ts*o?(oo()<=ke.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ri(n))):J.resolve())}rs(e,n){if(Y0(n))return J.resolve(null);let s=Ri(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Vh(n,null,"F"),s=Ri(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Pe(...u);return this.ns.getDocuments(e,h).next(d=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.cs(n,d);return this.ls(n,g,h,p.readTime)?this.rs(e,Vh(n,null,"F")):this.hs(e,g,n,p)}))})))}ss(e,n,s,o){return Y0(n)||o.isEqual(Se.min())?J.resolve(null):this.ns.getDocuments(e,s).next(u=>{const h=this.cs(n,u);return this.ls(n,h,s,o)?J.resolve(null):(oo()<=ke.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.hs(e,h,n,TN(o,pu)).next(d=>d))})}cs(e,n){let s=new Vt(Pw(e));return n.forEach((o,u)=>{nf(e,u)&&(s=s.add(u))}),s}ls(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}_s(e,n,s){return oo()<=ke.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(n)),this.ns.getDocumentsMatchingQuery(e,n,hs.min(),s)}hs(e,n,s,o){return this.ns.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg="LocalStore",eD=3e8;class tD{constructor(e,n,s,o){this.persistence=e,this.Ps=n,this.serializer=o,this.Ts=new ft(Oe),this.Is=new ma(u=>Gp(u),$p),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(s)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new H2(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}}function nD(i,e,n,s){return new tD(i,e,n,s)}async function sb(i,e){const n=xe(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.As(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],d=[];let p=Pe();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){d.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Rs:g,removedBatchIds:h,addedBatchIds:d}))})})}function iD(i,e){const n=xe(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.ds.newChangeBuffer({trackRemovals:!0});return function(d,p,g,E){const T=g.batch,w=T.keys();let N=J.resolve();return w.forEach(P=>{N=N.next(()=>E.getEntry(p,P)).next(q=>{const O=g.docVersions.get(P);Xe(O!==null),q.version.compareTo(O)<0&&(T.applyToRemoteDocument(q,g),q.isValidDocument()&&(q.setReadTime(g.commitVersion),E.addEntry(q)))})}),N.next(()=>d.mutationQueue.removeMutationBatch(p,T))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(d){let p=Pe();for(let g=0;g<d.mutationResults.length;++g)d.mutationResults[g].transformResults.length>0&&(p=p.add(d.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ab(i){const e=xe(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function rD(i,e){const n=xe(i),s=e.snapshotVersion;let o=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.ds.newChangeBuffer({trackRemovals:!0});o=n.Ts;const d=[];e.targetChanges.forEach((E,T)=>{const w=o.get(T);if(!w)return;d.push(n.Hr.removeMatchingKeys(u,E.removedDocuments,T).next(()=>n.Hr.addMatchingKeys(u,E.addedDocuments,T)));let N=w.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(T)!==null?N=N.withResumeToken(Yt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(N=N.withResumeToken(E.resumeToken,s)),o=o.insert(T,N),function(q,O,G){return q.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-q.snapshotVersion.toMicroseconds()>=eD?!0:G.addedDocuments.size+G.modifiedDocuments.size+G.removedDocuments.size>0}(w,N,E)&&d.push(n.Hr.updateTargetData(u,N))});let p=pr(),g=Pe();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),d.push(sD(u,h,e.documentUpdates).next(E=>{p=E.Vs,g=E.fs})),!s.isEqual(Se.min())){const E=n.Hr.getLastRemoteSnapshotVersion(u).next(T=>n.Hr.setTargetsMetadata(u,u.currentSequenceNumber,s));d.push(E)}return J.waitFor(d).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Ts=o,u))}function sD(i,e,n){let s=Pe(),o=Pe();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=pr();return n.forEach((d,p)=>{const g=u.get(d);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(d)),p.isNoDocument()&&p.version.isEqual(Se.min())?(e.removeEntry(d,p.readTime),h=h.insert(d,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(d,p)):ce(tg,"Ignoring outdated watch update for ",d,". Current version:",g.version," Watch version:",p.version)}),{Vs:h,fs:o}})}function aD(i,e){const n=xe(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=qp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function oD(i,e){const n=xe(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Hr.getTargetData(s,e).next(u=>u?(o=u,J.resolve(o)):n.Hr.allocateTargetId(s).next(h=>(o=new ss(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Hr.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Ts.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(s.targetId,s),n.Is.set(e,s.targetId)),s})}async function up(i,e,n){const s=xe(i),o=s.Ts.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Oo(h))throw h;ce(tg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Ts=s.Ts.remove(e),s.Is.delete(o.target)}function lE(i,e,n){const s=xe(i);let o=Se.min(),u=Pe();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const T=xe(p),w=T.Is.get(E);return w!==void 0?J.resolve(T.Ts.get(w)):T.Hr.getTargetData(g,E)}(s,h,Ri(e)).next(d=>{if(d)return o=d.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(h,d.targetId).next(p=>{u=p})}).next(()=>s.Ps.getDocumentsMatchingQuery(h,e,n?o:Se.min(),n?u:Pe())).next(d=>(lD(s,KN(e),d),{documents:d,gs:u})))}function lD(i,e,n){let s=i.Es.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.Es.set(e,s)}class uE{constructor(){this.activeTargetIds=JN()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class uD{constructor(){this.ho=new uE,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,s){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new uE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="ConnectivityMonitor";class hE{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){ce(cE,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){ce(cE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uh=null;function cp(){return uh===null?uh=function(){return 268435456+Math.round(2147483648*Math.random())}():uh++,"0x"+uh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vm="RestConnection",hD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class fD{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${s}/databases/${o}`,this.wo=this.databaseId.database===Dh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}So(e,n,s,o,u){const h=cp(),d=this.bo(e,n.toUriEncodedString());ce(Vm,`Sending RPC '${e}' ${h}:`,d,s);const p={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(p,o,u),this.vo(e,d,p,s).then(g=>(ce(Vm,`Received RPC '${e}' ${h}: `,g),g),g=>{throw _o(Vm,`RPC '${e}' ${h} failed with error: `,g,"url: ",d,"request:",s),g})}Co(e,n,s,o,u,h){return this.So(e,n,s,o,u)}Do(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+No}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}bo(e,n){const s=hD[e];return`${this.po}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jt="WebChannelConnection";class mD extends fD{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,s,o){const u=cp();return new Promise((h,d)=>{const p=new cw;p.setWithCredentials(!0),p.listenOnce(hw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case gh.NO_ERROR:const E=p.getResponseJson();ce(Jt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case gh.TIMEOUT:ce(Jt,`RPC '${e}' ${u} timed out`),d(new ue(X.DEADLINE_EXCEEDED,"Request time out"));break;case gh.HTTP_ERROR:const T=p.getStatus();if(ce(Jt,`RPC '${e}' ${u} failed with status:`,T,"response text:",p.getResponseText()),T>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const N=w==null?void 0:w.error;if(N&&N.status&&N.message){const P=function(O){const G=O.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(G)>=0?G:X.UNKNOWN}(N.status);d(new ue(P,N.message))}else d(new ue(X.UNKNOWN,"Server responded with status "+p.getStatus()))}else d(new ue(X.UNAVAILABLE,"Connection failed."));break;default:be()}}finally{ce(Jt,`RPC '${e}' ${u} completed.`)}});const g=JSON.stringify(o);ce(Jt,`RPC '${e}' ${u} sending request:`,o),p.send(n,"POST",g,s,15)})}Wo(e,n,s){const o=cp(),u=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=mw(),d=dw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Do(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(Jt,`Creating RPC '${e}' stream ${o}: ${E}`,p);const T=h.createWebChannel(E,p);let w=!1,N=!1;const P=new dD({Fo:O=>{N?ce(Jt,`Not sending because RPC '${e}' stream ${o} is closed:`,O):(w||(ce(Jt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),w=!0),ce(Jt,`RPC '${e}' stream ${o} sending:`,O),T.send(O))},Mo:()=>T.close()}),q=(O,G,ee)=>{O.listen(G,W=>{try{ee(W)}catch(de){setTimeout(()=>{throw de},0)}})};return q(T,eu.EventType.OPEN,()=>{N||(ce(Jt,`RPC '${e}' stream ${o} transport opened.`),P.Qo())}),q(T,eu.EventType.CLOSE,()=>{N||(N=!0,ce(Jt,`RPC '${e}' stream ${o} transport closed`),P.Uo())}),q(T,eu.EventType.ERROR,O=>{N||(N=!0,_o(Jt,`RPC '${e}' stream ${o} transport errored:`,O),P.Uo(new ue(X.UNAVAILABLE,"The operation could not be completed")))}),q(T,eu.EventType.MESSAGE,O=>{var G;if(!N){const ee=O.data[0];Xe(!!ee);const W=ee,de=(W==null?void 0:W.error)||((G=W[0])===null||G===void 0?void 0:G.error);if(de){ce(Jt,`RPC '${e}' stream ${o} received error:`,de);const le=de.status;let ge=function(S){const D=St[S];if(D!==void 0)return Kw(D)}(le),U=de.message;ge===void 0&&(ge=X.INTERNAL,U="Unknown error status: "+le+" with message "+de.message),N=!0,P.Uo(new ue(ge,U)),T.close()}else ce(Jt,`RPC '${e}' stream ${o} received:`,ee),P.Ko(ee)}}),q(d,fw.STAT_EVENT,O=>{O.stat===Zm.PROXY?ce(Jt,`RPC '${e}' stream ${o} detected buffering proxy`):O.stat===Zm.NOPROXY&&ce(Jt,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{P.$o()},0),P}}function km(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function of(i){return new v2(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Ti=e,this.timerId=n,this.Go=s,this.zo=o,this.jo=u,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const n=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,o,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="PersistentStream";class lb{constructor(e,n,s,o,u,h,d,p){this.Ti=e,this.n_=s,this.r_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=d,this.listener=p,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new ob(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,n){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(mr(n.toString()),mr("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(n)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.i_===n&&this.V_(s,o)},s=>{e(()=>{const o=new ue(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(o)})})}V_(e,n){const s=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(o=>{s(()=>this.m_(o))}),this.stream.onMessage(o=>{s(()=>++this.__==1?this.g_(o):this.onNext(o))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return ce(fE,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(ce(fE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class pD extends lb{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const n=T2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Se.min():h.readTime?xi(h.readTime):Se.min()}(e);return this.listener.p_(n,s)}y_(e){const n={};n.database=lp(this.serializer),n.addTarget=function(u,h){let d;const p=h.target;if(d=ip(p)?{documents:A2(u,p)}:{query:S2(u,p).ht},d.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){d.resumeToken=Xw(u,h.resumeToken);const g=sp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}else if(h.snapshotVersion.compareTo(Se.min())>0){d.readTime=Ph(u,h.snapshotVersion.toTimestamp());const g=sp(u,h.expectedCount);g!==null&&(d.expectedCount=g)}return d}(this.serializer,e);const s=x2(this.serializer,e);s&&(n.labels=s),this.I_(n)}w_(e){const n={};n.database=lp(this.serializer),n.removeTarget=e,this.I_(n)}}class gD extends lb{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,Xe(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Xe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const n=b2(e.writeResults,e.commitTime),s=xi(e.commitTime);return this.listener.v_(s,n)}C_(){const e={};e.database=lp(this.serializer),this.I_(e)}b_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>w2(this.serializer,s))};this.I_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yD{}class vD extends yD{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.F_=!1}M_(){if(this.F_)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,s,o){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.So(e,ap(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new ue(X.UNKNOWN,u.toString())})}Co(e,n,s,o,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.Co(e,ap(n,s),o,h,d,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(X.UNKNOWN,h.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class _D{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(mr(n),this.N_=!1):ce("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aa="RemoteStore";class ED{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=u,this.z_.To(h=>{s.enqueueAndForget(async()=>{pa(this)&&(ce(aa,"Restarting streams for network reachability change."),await async function(p){const g=xe(p);g.W_.add(4),await Mu(g),g.j_.set("Unknown"),g.W_.delete(4),await lf(g)}(this))})}),this.j_=new _D(s,o)}}async function lf(i){if(pa(i))for(const e of i.G_)await e(!0)}async function Mu(i){for(const e of i.G_)await e(!1)}function ub(i,e){const n=xe(i);n.K_.has(e.targetId)||(n.K_.set(e.targetId,e),sg(n)?rg(n):Vo(n).c_()&&ig(n,e))}function ng(i,e){const n=xe(i),s=Vo(n);n.K_.delete(e),s.c_()&&cb(n,e),n.K_.size===0&&(s.c_()?s.P_():pa(n)&&n.j_.set("Unknown"))}function ig(i,e){if(i.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(i).y_(e)}function cb(i,e){i.H_.Ne(e),Vo(i).w_(e)}function rg(i){i.H_=new m2({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>i.K_.get(e)||null,it:()=>i.datastore.serializer.databaseId}),Vo(i).start(),i.j_.B_()}function sg(i){return pa(i)&&!Vo(i).u_()&&i.K_.size>0}function pa(i){return xe(i).W_.size===0}function hb(i){i.H_=void 0}async function TD(i){i.j_.set("Online")}async function wD(i){i.K_.forEach((e,n)=>{ig(i,e)})}async function bD(i,e){hb(i),sg(i)?(i.j_.q_(e),rg(i)):i.j_.set("Unknown")}async function AD(i,e,n){if(i.j_.set("Online"),e instanceof Yw&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const d of u.targetIds)o.K_.has(d)&&(await o.remoteSyncer.rejectListen(d,h),o.K_.delete(d),o.H_.removeTarget(d))}(i,e)}catch(s){ce(aa,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Lh(i,s)}else if(e instanceof Eh?i.H_.We(e):e instanceof Qw?i.H_.Ze(e):i.H_.je(e),!n.isEqual(Se.min()))try{const s=await ab(i.localStore);n.compareTo(s)>=0&&await function(u,h){const d=u.H_.ot(h);return d.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.K_.get(g);E&&u.K_.set(g,E.withResumeToken(p.resumeToken,h))}}),d.targetMismatches.forEach((p,g)=>{const E=u.K_.get(p);if(!E)return;u.K_.set(p,E.withResumeToken(Yt.EMPTY_BYTE_STRING,E.snapshotVersion)),cb(u,p);const T=new ss(E.target,p,g,E.sequenceNumber);ig(u,T)}),u.remoteSyncer.applyRemoteEvent(d)}(i,n)}catch(s){ce(aa,"Failed to raise snapshot:",s),await Lh(i,s)}}async function Lh(i,e,n){if(!Oo(e))throw e;i.W_.add(1),await Mu(i),i.j_.set("Offline"),n||(n=()=>ab(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(aa,"Retrying IndexedDB access"),await n(),i.W_.delete(1),await lf(i)})}function fb(i,e){return e().catch(n=>Lh(i,n,e))}async function uf(i){const e=xe(i),n=ps(e);let s=e.U_.length>0?e.U_[e.U_.length-1].batchId:qp;for(;SD(e);)try{const o=await aD(e.localStore,s);if(o===null){e.U_.length===0&&n.P_();break}s=o.batchId,RD(e,o)}catch(o){await Lh(e,o)}db(e)&&mb(e)}function SD(i){return pa(i)&&i.U_.length<10}function RD(i,e){i.U_.push(e);const n=ps(i);n.c_()&&n.S_&&n.b_(e.mutations)}function db(i){return pa(i)&&!ps(i).u_()&&i.U_.length>0}function mb(i){ps(i).start()}async function xD(i){ps(i).C_()}async function ID(i){const e=ps(i);for(const n of i.U_)e.b_(n.mutations)}async function CD(i,e,n){const s=i.U_.shift(),o=Yp.from(s,e,n);await fb(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await uf(i)}async function ND(i,e){e&&ps(i).S_&&await async function(s,o){if(function(h){return f2(h)&&h!==X.ABORTED}(o.code)){const u=s.U_.shift();ps(s).h_(),await fb(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await uf(s)}}(i,e),db(i)&&mb(i)}async function dE(i,e){const n=xe(i);n.asyncQueue.verifyOperationInProgress(),ce(aa,"RemoteStore received new credentials");const s=pa(n);n.W_.add(3),await Mu(n),s&&n.j_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),await lf(n)}async function DD(i,e){const n=xe(i);e?(n.W_.delete(2),await lf(n)):e||(n.W_.add(2),await Mu(n),n.j_.set("Unknown"))}function Vo(i){return i.J_||(i.J_=function(n,s,o){const u=xe(n);return u.M_(),new pD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:TD.bind(null,i),No:wD.bind(null,i),Lo:bD.bind(null,i),p_:AD.bind(null,i)}),i.G_.push(async e=>{e?(i.J_.h_(),sg(i)?rg(i):i.j_.set("Unknown")):(await i.J_.stop(),hb(i))})),i.J_}function ps(i){return i.Y_||(i.Y_=function(n,s,o){const u=xe(n);return u.M_(),new gD(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{xo:()=>Promise.resolve(),No:xD.bind(null,i),Lo:ND.bind(null,i),D_:ID.bind(null,i),v_:CD.bind(null,i)}),i.G_.push(async e=>{e?(i.Y_.h_(),await uf(i)):(await i.Y_.stop(),i.U_.length>0&&(ce(aa,`Stopping write stream with ${i.U_.length} pending writes`),i.U_=[]))})),i.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,d=new ag(e,n,h,o,u);return d.start(s),d}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function og(i,e){if(mr("AsyncQueue",`${e}: ${i}`),Oo(i))return new ue(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=tu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.Z_=new ft(ve.comparator)}track(e){const n=e.doc.key,s=this.Z_.get(n);s?e.type!==0&&s.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&s.type!==1?this.Z_=this.Z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Z_=this.Z_.remove(n):e.type===1&&s.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):be():this.Z_=this.Z_.insert(n,e)}X_(){const e=[];return this.Z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ao{constructor(e,n,s,o,u,h,d,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=d,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(d=>{h.push({type:0,doc:d})}),new Ao(e,n,go.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tf(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class MD{constructor(){this.queries=pE(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,s){const o=xe(n),u=o.queries;o.queries=pE(),u.forEach((h,d)=>{for(const p of d.ta)p.onError(s)})})(this,new ue(X.ABORTED,"Firestore shutting down"))}}function pE(){return new ma(i=>kw(i),tf)}async function lg(i,e){const n=xe(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.na()&&e.ra()&&(s=2):(u=new OD,s=e.ra()?0:1);try{switch(s){case 0:u.ea=await n.onListen(o,!0);break;case 1:u.ea=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const d=og(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(d)}n.queries.set(o,u),u.ta.push(e),e.sa(n.onlineState),u.ea&&e.oa(u.ea)&&cg(n)}async function ug(i,e){const n=xe(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.ta.indexOf(e);h>=0&&(u.ta.splice(h,1),u.ta.length===0?o=e.ra()?0:1:!u.na()&&e.ra()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function VD(i,e){const n=xe(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const d of h.ta)d.oa(o)&&(s=!0);h.ea=o}}s&&cg(n)}function kD(i,e,n){const s=xe(i),o=s.queries.get(e);if(o)for(const u of o.ta)u.onError(n);s.queries.delete(e)}function cg(i){i.ia.forEach(e=>{e.next()})}var hp,gE;(gE=hp||(hp={}))._a="default",gE.Cache="cache";class hg{constructor(e,n,s){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Ao(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;const s=n!=="Offline";return(!this.options.Ta||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;const n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=Ao.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==hp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pb{constructor(e){this.key=e}}class gb{constructor(e){this.key=e}}class PD{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Pe(),this.mutatedKeys=Pe(),this.ya=Pw(e),this.wa=new go(this.ya)}get Sa(){return this.fa}ba(e,n){const s=n?n.Da:new mE,o=n?n.wa:this.wa;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,d=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,T)=>{const w=o.get(E),N=nf(this.query,T)?T:null,P=!!w&&this.mutatedKeys.has(w.key),q=!!N&&(N.hasLocalMutations||this.mutatedKeys.has(N.key)&&N.hasCommittedMutations);let O=!1;w&&N?w.data.isEqual(N.data)?P!==q&&(s.track({type:3,doc:N}),O=!0):this.va(w,N)||(s.track({type:2,doc:N}),O=!0,(p&&this.ya(N,p)>0||g&&this.ya(N,g)<0)&&(d=!0)):!w&&N?(s.track({type:0,doc:N}),O=!0):w&&!N&&(s.track({type:1,doc:w}),O=!0,(p||g)&&(d=!0)),O&&(N?(h=h.add(N),u=q?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{wa:h,Da:s,ls:d,mutatedKeys:u}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const h=e.Da.X_();h.sort((E,T)=>function(N,P){const q=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return be()}};return q(N)-q(P)}(E.type,T.type)||this.ya(E.doc,T.doc)),this.Ca(s),o=o!=null&&o;const d=n&&!o?this.Fa():[],p=this.pa.size===0&&this.current&&!o?1:0,g=p!==this.ga;return this.ga=p,h.length!==0||g?{snapshot:new Ao(this.query,e.wa,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:d}:{Ma:d}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new mE,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Pe(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const n=[];return e.forEach(s=>{this.pa.has(s)||n.push(new gb(s))}),this.pa.forEach(s=>{e.has(s)||n.push(new pb(s))}),n}Oa(e){this.fa=e.gs,this.pa=Pe();const n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return Ao.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const fg="SyncEngine";class UD{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class LD{constructor(e){this.key=e,this.Ba=!1}}class jD{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.La={},this.ka=new ma(d=>kw(d),tf),this.qa=new Map,this.Qa=new Set,this.$a=new ft(ve.comparator),this.Ua=new Map,this.Ka=new Zp,this.Wa={},this.Ga=new Map,this.za=bo.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function zD(i,e,n=!0){const s=wb(i);let o;const u=s.ka.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.Na()):o=await yb(s,e,n,!0),o}async function BD(i,e){const n=wb(i);await yb(n,e,!0,!1)}async function yb(i,e,n,s){const o=await oD(i.localStore,Ri(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let d;return s&&(d=await qD(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&ub(i.remoteStore,o),d}async function qD(i,e,n,s,o){i.Ha=(T,w,N)=>async function(q,O,G,ee){let W=O.view.ba(G);W.ls&&(W=await lE(q.localStore,O.query,!1).then(({documents:U})=>O.view.ba(U,W)));const de=ee&&ee.targetChanges.get(O.targetId),le=ee&&ee.targetMismatches.get(O.targetId)!=null,ge=O.view.applyChanges(W,q.isPrimaryClient,de,le);return vE(q,O.targetId,ge.Ma),ge.snapshot}(i,T,w,N);const u=await lE(i.localStore,e,!0),h=new PD(e,u.gs),d=h.ba(u.documents),p=Ou.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(d,i.isPrimaryClient,p);vE(i,n,g.Ma);const E=new UD(e,n,h);return i.ka.set(e,E),i.qa.has(n)?i.qa.get(n).push(e):i.qa.set(n,[e]),g.snapshot}async function HD(i,e,n){const s=xe(i),o=s.ka.get(e),u=s.qa.get(o.targetId);if(u.length>1)return s.qa.set(o.targetId,u.filter(h=>!tf(h,e))),void s.ka.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await up(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&ng(s.remoteStore,o.targetId),fp(s,o.targetId)}).catch(Do)):(fp(s,o.targetId),await up(s.localStore,o.targetId,!0))}async function FD(i,e){const n=xe(i),s=n.ka.get(e),o=n.qa.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),ng(n.remoteStore,s.targetId))}async function GD(i,e,n){const s=ZD(i);try{const o=await function(h,d){const p=xe(h),g=Mt.now(),E=d.reduce((N,P)=>N.add(P.key),Pe());let T,w;return p.persistence.runTransaction("Locally write mutations","readwrite",N=>{let P=pr(),q=Pe();return p.ds.getEntries(N,E).next(O=>{P=O,P.forEach((G,ee)=>{ee.isValidDocument()||(q=q.add(G))})}).next(()=>p.localDocuments.getOverlayedDocuments(N,P)).next(O=>{T=O;const G=[];for(const ee of d){const W=o2(ee,T.get(ee.key).overlayedDocument);W!=null&&G.push(new Es(ee.key,W,xw(W.value.mapValue),$n.exists(!0)))}return p.mutationQueue.addMutationBatch(N,g,G,d)}).next(O=>{w=O;const G=O.applyToLocalDocumentSet(T,q);return p.documentOverlayCache.saveOverlays(N,O.batchId,G)})}).then(()=>({batchId:w.batchId,changes:Lw(T)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,d,p){let g=h.Wa[h.currentUser.toKey()];g||(g=new ft(Oe)),g=g.insert(d,p),h.Wa[h.currentUser.toKey()]=g}(s,o.batchId,n),await Vu(s,o.changes),await uf(s.remoteStore)}catch(o){const u=og(o,"Failed to persist write");n.reject(u)}}async function vb(i,e){const n=xe(i);try{const s=await rD(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Ua.get(u);h&&(Xe(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?h.Ba=!0:o.modifiedDocuments.size>0?Xe(h.Ba):o.removedDocuments.size>0&&(Xe(h.Ba),h.Ba=!1))}),await Vu(n,s,e)}catch(s){await Do(s)}}function yE(i,e,n){const s=xe(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.ka.forEach((u,h)=>{const d=h.view.sa(e);d.snapshot&&o.push(d.snapshot)}),function(h,d){const p=xe(h);p.onlineState=d;let g=!1;p.queries.forEach((E,T)=>{for(const w of T.ta)w.sa(d)&&(g=!0)}),g&&cg(p)}(s.eventManager,e),o.length&&s.La.p_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function $D(i,e,n){const s=xe(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Ua.get(e),u=o&&o.key;if(u){let h=new ft(ve.comparator);h=h.insert(u,tn.newNoDocument(u,Se.min()));const d=Pe().add(u),p=new af(Se.min(),new Map,new ft(Oe),h,d);await vb(s,p),s.$a=s.$a.remove(u),s.Ua.delete(e),dg(s)}else await up(s.localStore,e,!1).then(()=>fp(s,e,n)).catch(Do)}async function KD(i,e){const n=xe(i),s=e.batch.batchId;try{const o=await iD(n.localStore,e);Eb(n,s,null),_b(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Vu(n,o)}catch(o){await Do(o)}}async function QD(i,e,n){const s=xe(i);try{const o=await function(h,d){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,d).next(T=>(Xe(T!==null),E=T.keys(),p.mutationQueue.removeMutationBatch(g,T))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,d)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);Eb(s,e,n),_b(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Vu(s,o)}catch(o){await Do(o)}}function _b(i,e){(i.Ga.get(e)||[]).forEach(n=>{n.resolve()}),i.Ga.delete(e)}function Eb(i,e,n){const s=xe(i);let o=s.Wa[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Wa[s.currentUser.toKey()]=o}}function fp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.qa.get(e))i.ka.delete(s),n&&i.La.Ja(s,n);i.qa.delete(e),i.isPrimaryClient&&i.Ka.br(e).forEach(s=>{i.Ka.containsKey(s)||Tb(i,s)})}function Tb(i,e){i.Qa.delete(e.path.canonicalString());const n=i.$a.get(e);n!==null&&(ng(i.remoteStore,n),i.$a=i.$a.remove(e),i.Ua.delete(n),dg(i))}function vE(i,e,n){for(const s of n)s instanceof pb?(i.Ka.addReference(s.key,e),YD(i,s)):s instanceof gb?(ce(fg,"Document no longer in limbo: "+s.key),i.Ka.removeReference(s.key,e),i.Ka.containsKey(s.key)||Tb(i,s.key)):be()}function YD(i,e){const n=e.key,s=n.path.canonicalString();i.$a.get(n)||i.Qa.has(s)||(ce(fg,"New document in limbo: "+n),i.Qa.add(s),dg(i))}function dg(i){for(;i.Qa.size>0&&i.$a.size<i.maxConcurrentLimboResolutions;){const e=i.Qa.values().next().value;i.Qa.delete(e);const n=new ve(st.fromString(e)),s=i.za.next();i.Ua.set(s,new LD(n)),i.$a=i.$a.insert(n,s),ub(i.remoteStore,new ss(Ri(ef(n.path)),s,"TargetPurposeLimboResolution",Wh.ae))}}async function Vu(i,e,n){const s=xe(i),o=[],u=[],h=[];s.ka.isEmpty()||(s.ka.forEach((d,p)=>{h.push(s.Ha(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:(E=n==null?void 0:n.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){o.push(g);const T=eg.Yi(p.targetId,g);u.push(T)}}))}),await Promise.all(h),s.La.p_(o),await async function(p,g){const E=xe(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>J.forEach(g,w=>J.forEach(w.Hi,N=>E.persistence.referenceDelegate.addReference(T,w.targetId,N)).next(()=>J.forEach(w.Ji,N=>E.persistence.referenceDelegate.removeReference(T,w.targetId,N)))))}catch(T){if(!Oo(T))throw T;ce(tg,"Failed to update sequence numbers: "+T)}for(const T of g){const w=T.targetId;if(!T.fromCache){const N=E.Ts.get(w),P=N.snapshotVersion,q=N.withLastLimboFreeSnapshotVersion(P);E.Ts=E.Ts.insert(w,q)}}}(s.localStore,u))}async function XD(i,e){const n=xe(i);if(!n.currentUser.isEqual(e)){ce(fg,"User change. New user:",e.toKey());const s=await sb(n.localStore,e);n.currentUser=e,function(u,h){u.Ga.forEach(d=>{d.forEach(p=>{p.reject(new ue(X.CANCELLED,h))})}),u.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Vu(n,s.Rs)}}function WD(i,e){const n=xe(i),s=n.Ua.get(e);if(s&&s.Ba)return Pe().add(s.key);{let o=Pe();const u=n.qa.get(e);if(!u)return o;for(const h of u){const d=n.ka.get(h);o=o.unionWith(d.view.Sa)}return o}}function wb(i){const e=xe(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=vb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=WD.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=$D.bind(null,e),e.La.p_=VD.bind(null,e.eventManager),e.La.Ja=kD.bind(null,e.eventManager),e}function ZD(i){const e=xe(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KD.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QD.bind(null,e),e}class jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=of(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,n){return null}nu(e,n){return null}eu(e){return nD(this.persistence,new J2,e.initialUser,this.serializer)}Xa(e){return new rb(Jp.ri,this.serializer)}Za(e){return new uD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}jh.provider={build:()=>new jh};class JD extends jh{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Xe(this.persistence.referenceDelegate instanceof Uh);const s=this.persistence.referenceDelegate.garbageCollector;return new L2(s,e.asyncQueue,n)}Xa(e){const n=this.cacheSizeBytes!==void 0?dn.withCacheSize(this.cacheSizeBytes):dn.DEFAULT;return new rb(s=>Uh.ri(s,n),this.serializer)}}class dp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>yE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=XD.bind(null,this.syncEngine),await DD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new MD}()}createDatastore(e){const n=of(e.databaseInfo.databaseId),s=function(u){return new mD(u)}(e.databaseInfo);return function(u,h,d,p){return new vD(u,h,d,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,d){return new ED(s,o,u,h,d)}(this.localStore,this.datastore,e.asyncQueue,n=>yE(this.syncEngine,n,0),function(){return hE.D()?new hE:new cD}())}createSyncEngine(e,n){return function(o,u,h,d,p,g,E){const T=new jD(o,u,h,d,p,g);return E&&(T.ja=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=xe(o);ce(aa,"RemoteStore shutting down."),u.W_.add(5),await Mu(u),u.z_.shutdown(),u.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}dp.provider={build:()=>new dp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):mr("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gs="FirestoreClient";class eO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=en.UNAUTHENTICATED,this.clientId=yw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(gs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(gs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=og(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Pm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(gs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await sb(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function _E(i,e){i.asyncQueue.verifyOperationInProgress();const n=await tO(i);ce(gs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>dE(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>dE(e.remoteStore,o)),i._onlineComponents=e}async function tO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(gs,"Using user provided OfflineComponentProvider");try{await Pm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===X.FAILED_PRECONDITION||o.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await Pm(i,new jh)}}else ce(gs,"Using default OfflineComponentProvider"),await Pm(i,new JD(void 0));return i._offlineComponents}async function bb(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(gs,"Using user provided OnlineComponentProvider"),await _E(i,i._uninitializedComponentsProvider._online)):(ce(gs,"Using default OnlineComponentProvider"),await _E(i,new dp))),i._onlineComponents}function nO(i){return bb(i).then(e=>e.syncEngine)}async function zh(i){const e=await bb(i),n=e.eventManager;return n.onListen=zD.bind(null,e.syncEngine),n.onUnlisten=HD.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=BD.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=FD.bind(null,e.syncEngine),n}function iO(i,e,n={}){const s=new cr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new mg({next:w=>{E.su(),h.enqueueAndForget(()=>ug(u,T));const N=w.docs.has(d);!N&&w.fromCache?g.reject(new ue(X.UNAVAILABLE,"Failed to get document because the client is offline.")):N&&w.fromCache&&p&&p.source==="server"?g.reject(new ue(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new hg(ef(d.path),E,{includeMetadataChanges:!0,Ta:!0});return lg(u,T)}(await zh(i),i.asyncQueue,e,n,s)),s.promise}function rO(i,e,n={}){const s=new cr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,d,p,g){const E=new mg({next:w=>{E.su(),h.enqueueAndForget(()=>ug(u,T)),w.fromCache&&p.source==="server"?g.reject(new ue(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),T=new hg(d,E,{includeMetadataChanges:!0,Ta:!0});return lg(u,T)}(await zh(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sb(i,e,n){if(!n)throw new ue(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function sO(i,e,n,s){if(e===!0&&s===!0)throw new ue(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function TE(i){if(!ve.isDocumentKey(i))throw new ue(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function wE(i){if(ve.isDocumentKey(i))throw new ue(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function cf(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":be()}function pn(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new ue(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=cf(i);throw new ue(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}function aO(i,e){if(e<=0)throw new ue(X.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firestore.googleapis.com",bE=!0;class AE{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rb,this.ssl=bE}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:bE;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=ib;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<P2)throw new ue(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Ab((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new ue(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class hf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fN;switch(s.type){case"firstParty":return new gN(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=EE.get(n);s&&(ce("ComponentProvider","Removing Datastore"),EE.delete(n),s.terminate())}(this),Promise.resolve()}}function oO(i,e,n,s={}){var o;const u=(i=pn(i,hf))._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:i._getEmulatorOptions()}),d=`${e}:${n}`;u.host!==Rb&&u.host!==d&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},u),{host:d,ssl:!1,emulatorOptions:s});if(!cs(p,h)&&(i._setSettings(p),s.mockUserToken)){let g,E;if(typeof s.mockUserToken=="string")g=s.mockUserToken,E=en.MOCK_USER;else{g=Rx(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new ue(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new en(T)}i._authCredentials=new dN(new pw(g,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new vr(this.firestore,e,this._query)}}class nn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new us(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nn(this.firestore,e,this._key)}}class us extends vr{constructor(e,n,s){super(e,n,ef(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nn(this.firestore,null,new ve(e))}withConverter(e){return new us(this.firestore,e,this._path)}}function uu(i,e,...n){if(i=Tt(i),Sb("collection","path",e),i instanceof hf){const s=st.fromString(e,...n);return wE(s),new us(i,null,s)}{if(!(i instanceof nn||i instanceof us))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return wE(s),new us(i.firestore,null,s)}}function yo(i,e,...n){if(i=Tt(i),arguments.length===1&&(e=yw.newId()),Sb("doc","path",e),i instanceof hf){const s=st.fromString(e,...n);return TE(s),new nn(i,null,new ve(s))}{if(!(i instanceof nn||i instanceof us))throw new ue(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(st.fromString(e,...n));return TE(s),new nn(i.firestore,i instanceof us?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new ob(this,"async_queue_retry"),this.Su=()=>{const s=km();s&&ce(SE,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=e;const n=km();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const n=km();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const n=new cr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Oo(e))throw e;ce(SE,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const n=this.bu.then(()=>(this.pu=!0,e().catch(s=>{this.gu=s,this.pu=!1;const o=function(h){let d=h.message||"";return h.stack&&(d=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),d}(s);throw mr("INTERNAL UNHANDLED ERROR: ",o),s}).then(s=>(this.pu=!1,s))));return this.bu=n,n}enqueueAfterDelay(e,n,s){this.Du(),this.wu.indexOf(e)>-1&&(n=0);const o=ag.createAndSchedule(this,e,n,s,u=>this.Fu(u));return this.fu.push(o),o}Du(){this.gu&&be()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const n=this.fu.indexOf(e);this.fu.splice(n,1)}}function xE(i){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(i,["next","error","complete"])}class gr extends hf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new RE,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function IE(i,e){const n=typeof i=="object"?i:Np(),s=typeof i=="string"?i:Dh,o=fa(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=Ax("firestore");u&&oO(o,...u)}return o}function ff(i){if(i._terminated)throw new ue(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||lO(i),i._firestoreClient}function lO(i){var e,n,s;const o=i._freezeSettings(),u=function(d,p,g,E){return new DN(d,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Ab(E.experimentalLongPollingOptions),E.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new eO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(d){const p=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e){this._byteString=e}static fromBase64String(e){try{return new So(Yt.fromBase64String(e))}catch(n){throw new ue(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new So(Yt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new ue(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new ue(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new ue(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uO=/^__.*__$/;class cO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Es(e,this.data,this.fieldMask,n,this.fieldTransforms):new Du(e,this.data,n,this.fieldTransforms)}}class xb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Es(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Ib(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw be()}}class yg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Bu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new yg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.$u(e),o}Uu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.ku({path:s,Qu:!1});return o.Bu(),o}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return Bh(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Ib(this.Lu)&&uO.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class hO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||of(e)}ju(e,n,s,o=!1){return new yg({Lu:e,methodName:n,zu:s,path:Qt.emptyPath(),Qu:!1,Gu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pf(i){const e=i._freezeSettings(),n=of(i._databaseId);return new hO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Cb(i,e,n,s,o,u={}){const h=i.ju(u.merge||u.mergeFields?2:0,e,n,o);_g("Data must be an object, but it was:",h,s);const d=Nb(s,h);let p,g;if(u.merge)p=new An(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const T of u.mergeFields){const w=mp(e,T,n);if(!h.contains(w))throw new ue(X.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Ob(E,w)||E.push(w)}p=new An(E),g=h.fieldTransforms.filter(T=>p.covers(T.field))}else p=null,g=h.fieldTransforms;return new cO(new mn(d),p,g)}class gf extends mf{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof gf}}class vg extends mf{_toFieldTransform(e){return new i2(e.path,new Eu)}isEqual(e){return e instanceof vg}}function fO(i,e,n,s){const o=i.ju(1,e,n);_g("Data must be an object, but it was:",o,s);const u=[],h=mn.empty();_s(s,(p,g)=>{const E=Eg(e,p,n);g=Tt(g);const T=o.Uu(E);if(g instanceof gf)u.push(E);else{const w=ku(g,T);w!=null&&(u.push(E),h.set(E,w))}});const d=new An(u);return new xb(h,d,o.fieldTransforms)}function dO(i,e,n,s,o,u){const h=i.ju(1,e,n),d=[mp(e,s,n)],p=[o];if(u.length%2!=0)throw new ue(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<u.length;w+=2)d.push(mp(e,u[w])),p.push(u[w+1]);const g=[],E=mn.empty();for(let w=d.length-1;w>=0;--w)if(!Ob(g,d[w])){const N=d[w];let P=p[w];P=Tt(P);const q=h.Uu(N);if(P instanceof gf)g.push(N);else{const O=ku(P,q);O!=null&&(g.push(N),E.set(N,O))}}const T=new An(g);return new xb(E,T,h.fieldTransforms)}function mO(i,e,n,s=!1){return ku(n,i.ju(s?4:3,e))}function ku(i,e){if(Db(i=Tt(i)))return _g("Unsupported field value:",e,i),Nb(i,e);if(i instanceof mf)return function(s,o){if(!Ib(o.Lu))throw o.Wu(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Wu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const d of s){let p=ku(d,o.Ku(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Tt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return e2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Mt.fromDate(s);return{timestampValue:Ph(o.serializer,u)}}if(s instanceof Mt){const u=new Mt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Ph(o.serializer,u)}}if(s instanceof pg)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof So)return{bytesValue:Xw(o.serializer,s._byteString)};if(s instanceof nn){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.Wu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:Wp(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof gg)return function(h,d){return{mapValue:{fields:{[Sw]:{stringValue:Rw},[Oh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw d.Wu("VectorValues must only contain numeric values.");return Kp(d.serializer,g)})}}}}}}(s,o);throw o.Wu(`Unsupported field value: ${cf(s)}`)}(i,e)}function Nb(i,e){const n={};return _w(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):_s(i,(s,o)=>{const u=ku(o,e.qu(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Db(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof Mt||i instanceof pg||i instanceof So||i instanceof nn||i instanceof mf||i instanceof gg)}function _g(i,e,n){if(!Db(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=cf(n);throw s==="an object"?e.Wu(i+" a custom object"):e.Wu(i+" "+s)}}function mp(i,e,n){if((e=Tt(e))instanceof df)return e._internalPath;if(typeof e=="string")return Eg(i,e);throw Bh("Field path arguments must be of type string or ",i,!1,void 0,n)}const pO=new RegExp("[~\\*/\\[\\]]");function Eg(i,e,n){if(e.search(pO)>=0)throw Bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new df(...e.split("."))._internalPath}catch{throw Bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function Bh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(X.INVALID_ARGUMENT,d+i+p)}function Ob(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mb{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new gO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Tg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class gO extends Mb{data(){return super.data()}}function Tg(i,e){return typeof e=="string"?Eg(i,e):e instanceof df?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new ue(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wg{}class bg extends wg{}function pp(i,e,...n){let s=[];e instanceof wg&&s.push(e),s=s.concat(n),function(u){const h=u.filter(p=>p instanceof Sg).length,d=u.filter(p=>p instanceof Ag).length;if(h>1||h>0&&d>0)throw new ue(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)i=o._apply(i);return i}class Ag extends bg{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Ag(e,n,s)}_apply(e){const n=this._parse(e);return kb(e._query,n),new vr(e.firestore,e.converter,rp(e._query,n))}_parse(e){const n=pf(e.firestore);return function(u,h,d,p,g,E,T){let w;if(g.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new ue(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){NE(T,E);const P=[];for(const q of T)P.push(CE(p,u,q));w={arrayValue:{values:P}}}else w=CE(p,u,T)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||NE(T,E),w=mO(d,h,T,E==="in"||E==="not-in");return Rt.create(g,E,w)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class Sg extends wg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Sg(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let h=o;const d=u.getFlattenedFilters();for(const p of d)kb(h,p),h=rp(h,p)}(e._query,n),new vr(e.firestore,e.converter,rp(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Rg extends bg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Rg(e,n)}_apply(e){const n=function(o,u,h){if(o.startAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new ue(X.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new _u(u,h)}(e._query,this._field,this._direction);return new vr(e.firestore,e.converter,function(o,u){const h=o.explicitOrderBy.concat([u]);return new Mo(o.path,o.collectionGroup,h,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function gp(i,e="asc"){const n=e,s=Tg("orderBy",i);return Rg._create(s,n)}class xg extends bg{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new xg(e,n,s)}_apply(e){return new vr(e.firestore,e.converter,Vh(e._query,this._limit,this._limitType))}}function yp(i){return aO("limit",i),xg._create("limit",i,"F")}function CE(i,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new ue(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Vw(e)&&n.indexOf("/")!==-1)throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ve.isDocumentKey(s))throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return H0(i,new ve(s))}if(n instanceof nn)return H0(i,n._key);throw new ue(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${cf(n)}.`)}function NE(i,e){if(!Array.isArray(i)||i.length===0)throw new ue(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function kb(i,e){const n=function(o,u){for(const h of o)for(const d of h.getFlattenedFilters())if(u.indexOf(d.op)>=0)return d.op;return null}(i.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class yO{convertValue(e,n="none"){switch(ms(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ds(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw be()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return _s(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Oh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>Et(h.doubleValue));return new gg(u)}convertGeoPoint(e){return new pg(Et(e.latitude),Et(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(gu(e));default:return null}}convertTimestamp(e){const n=fs(e);return new Mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Xe(nb(s));const o=new yu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||mr(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ub extends Mb{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Tg("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Th extends Ub{data(e={}){return super.data(e)}}class Lb{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new iu(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Th(this._firestore,this._userDataWriter,s.key,s,new iu(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new ue(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(d=>{const p=new Th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new iu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);return d.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(d=>u||d.type!==3).map(d=>{const p=new Th(o._firestore,o._userDataWriter,d.doc.key,d.doc,new iu(o._snapshot.mutatedKeys.has(d.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return d.type!==0&&(g=h.indexOf(d.doc.key),h=h.delete(d.doc.key)),d.type!==1&&(h=h.add(d.doc),E=h.indexOf(d.doc.key)),{type:vO(d.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return be()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(i){i=pn(i,nn);const e=pn(i.firestore,gr);return iO(ff(e),i._key).then(n=>Bb(e,i,n))}class Ig extends yO{constructor(e){super(),this.firestore=e}convertBytes(e){return new So(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new nn(this.firestore,null,n)}}function DE(i){i=pn(i,vr);const e=pn(i.firestore,gr),n=ff(e),s=new Ig(e);return Vb(i._query),rO(n,i._query).then(o=>new Lb(e,s,i,o))}function _O(i,e,n){i=pn(i,nn);const s=pn(i.firestore,gr),o=Pb(i.converter,e);return yf(s,[Cb(pf(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,$n.none())])}function EO(i,e,n,...s){i=pn(i,nn);const o=pn(i.firestore,gr),u=pf(o);let h;return h=typeof(e=Tt(e))=="string"||e instanceof df?dO(u,"updateDoc",i._key,e,n,s):fO(u,"updateDoc",i._key,e),yf(o,[h.toMutation(i._key,$n.exists(!0))])}function TO(i){return yf(pn(i.firestore,gr),[new Qp(i._key,$n.none())])}function zb(i,e){const n=pn(i.firestore,gr),s=yo(i),o=Pb(i.converter,e);return yf(n,[Cb(pf(i.firestore),"addDoc",s._key,o,i.converter!==null,{}).toMutation(s._key,$n.exists(!1))]).then(()=>s)}function wO(i,...e){var n,s,o;i=Tt(i);let u={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||xE(e[h])||(u=e[h],h++);const d={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(xE(e[h])){const T=e[h];e[h]=(n=T.next)===null||n===void 0?void 0:n.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,g,E;if(i instanceof nn)g=pn(i.firestore,gr),E=ef(i._key.path),p={next:T=>{e[h]&&e[h](Bb(g,i,T))},error:e[h+1],complete:e[h+2]};else{const T=pn(i,vr);g=pn(T.firestore,gr),E=T._query;const w=new Ig(g);p={next:N=>{e[h]&&e[h](new Lb(g,w,T,N))},error:e[h+1],complete:e[h+2]},Vb(i._query)}return function(w,N,P,q){const O=new mg(q),G=new hg(N,O,P);return w.asyncQueue.enqueueAndForget(async()=>lg(await zh(w),G)),()=>{O.su(),w.asyncQueue.enqueueAndForget(async()=>ug(await zh(w),G))}}(ff(g),E,d,p)}function yf(i,e){return function(s,o){const u=new cr;return s.asyncQueue.enqueueAndForget(async()=>GD(await nO(s),o,u)),u.promise}(ff(i),e)}function Bb(i,e,n){const s=n.docs.get(e._key),o=new Ig(i);return new Ub(i,o,e._key,s,new iu(n.hasPendingWrites,n.fromCache),e.converter)}function Cg(){return new vg("serverTimestamp")}(function(e,n=!0){(function(o){No=o})(Io),Ii(new ni("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),d=new gr(new mN(s.getProvider("auth-internal")),new yN(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new ue(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new yu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),d._setSettings(u),d},"PUBLIC").setMultipleInstances(!0)),Gn(D0,O0,e),Gn(D0,O0,"esm2017")})();const qb="@firebase/installations",Ng="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb=1e4,Fb=`w:${Ng}`,Gb="FIS_v2",bO="https://firebaseinstallations.googleapis.com/v1",AO=60*60*1e3,SO="installations",RO="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xO={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},oa=new ha(SO,RO,xO);function $b(i){return i instanceof ai&&i.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb({projectId:i}){return`${bO}/projects/${i}/installations`}function Qb(i){return{token:i.token,requestStatus:2,expiresIn:CO(i.expiresIn),creationTime:Date.now()}}async function Yb(i,e){const s=(await e.json()).error;return oa.create("request-failed",{requestName:i,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function Xb({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function IO(i,{refreshToken:e}){const n=Xb(i);return n.append("Authorization",NO(e)),n}async function Wb(i){const e=await i();return e.status>=500&&e.status<600?i():e}function CO(i){return Number(i.replace("s","000"))}function NO(i){return`${Gb} ${i}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DO({appConfig:i,heartbeatServiceProvider:e},{fid:n}){const s=Kb(i),o=Xb(i),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={fid:n,authVersion:Gb,appId:i.appId,sdkVersion:Fb},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Wb(()=>fetch(s,d));if(p.ok){const g=await p.json();return{fid:g.fid||n,registrationStatus:2,refreshToken:g.refreshToken,authToken:Qb(g.authToken)}}else throw await Yb("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zb(i){return new Promise(e=>{setTimeout(e,i)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OO(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=/^[cdef][\w-]{21}$/,vp="";function VO(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const n=kO(i);return MO.test(n)?n:vp}catch{return vp}}function kO(i){return OO(i).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vf(i){return`${i.appName}!${i.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=new Map;function eA(i,e){const n=vf(i);tA(n,e),PO(n,e)}function tA(i,e){const n=Jb.get(i);if(n)for(const s of n)s(e)}function PO(i,e){const n=UO();n&&n.postMessage({key:i,fid:e}),LO()}let na=null;function UO(){return!na&&"BroadcastChannel"in self&&(na=new BroadcastChannel("[Firebase] FID Change"),na.onmessage=i=>{tA(i.data.key,i.data.fid)}),na}function LO(){Jb.size===0&&na&&(na.close(),na=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jO="firebase-installations-database",zO=1,la="firebase-installations-store";let Um=null;function Dg(){return Um||(Um=ST(jO,zO,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(la)}}})),Um}async function qh(i,e){const n=vf(i),o=(await Dg()).transaction(la,"readwrite"),u=o.objectStore(la),h=await u.get(n);return await u.put(e,n),await o.done,(!h||h.fid!==e.fid)&&eA(i,e.fid),e}async function nA(i){const e=vf(i),s=(await Dg()).transaction(la,"readwrite");await s.objectStore(la).delete(e),await s.done}async function _f(i,e){const n=vf(i),o=(await Dg()).transaction(la,"readwrite"),u=o.objectStore(la),h=await u.get(n),d=e(h);return d===void 0?await u.delete(n):await u.put(d,n),await o.done,d&&(!h||h.fid!==d.fid)&&eA(i,d.fid),d}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Og(i){let e;const n=await _f(i.appConfig,s=>{const o=BO(s),u=qO(i,o);return e=u.registrationPromise,u.installationEntry});return n.fid===vp?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function BO(i){const e=i||{fid:VO(),registrationStatus:0};return iA(e)}function qO(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(oa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},s=HO(i,n);return{installationEntry:n,registrationPromise:s}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FO(i)}:{installationEntry:e}}async function HO(i,e){try{const n=await DO(i,e);return qh(i.appConfig,n)}catch(n){throw $b(n)&&n.customData.serverCode===409?await nA(i.appConfig):await qh(i.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FO(i){let e=await OE(i.appConfig);for(;e.registrationStatus===1;)await Zb(100),e=await OE(i.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await Og(i);return s||n}return e}function OE(i){return _f(i,e=>{if(!e)throw oa.create("installation-not-found");return iA(e)})}function iA(i){return GO(i)?{fid:i.fid,registrationStatus:0}:i}function GO(i){return i.registrationStatus===1&&i.registrationTime+Hb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $O({appConfig:i,heartbeatServiceProvider:e},n){const s=KO(i,n),o=IO(i,n),u=e.getImmediate({optional:!0});if(u){const g=await u.getHeartbeatsHeader();g&&o.append("x-firebase-client",g)}const h={installation:{sdkVersion:Fb,appId:i.appId}},d={method:"POST",headers:o,body:JSON.stringify(h)},p=await Wb(()=>fetch(s,d));if(p.ok){const g=await p.json();return Qb(g)}else throw await Yb("Generate Auth Token",p)}function KO(i,{fid:e}){return`${Kb(i)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mg(i,e=!1){let n;const s=await _f(i.appConfig,u=>{if(!rA(u))throw oa.create("not-registered");const h=u.authToken;if(!e&&XO(h))return u;if(h.requestStatus===1)return n=QO(i,e),u;{if(!navigator.onLine)throw oa.create("app-offline");const d=ZO(u);return n=YO(i,d),d}});return n?await n:s.authToken}async function QO(i,e){let n=await ME(i.appConfig);for(;n.authToken.requestStatus===1;)await Zb(100),n=await ME(i.appConfig);const s=n.authToken;return s.requestStatus===0?Mg(i,e):s}function ME(i){return _f(i,e=>{if(!rA(e))throw oa.create("not-registered");const n=e.authToken;return JO(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function YO(i,e){try{const n=await $O(i,e),s=Object.assign(Object.assign({},e),{authToken:n});return await qh(i.appConfig,s),n}catch(n){if($b(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await nA(i.appConfig);else{const s=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await qh(i.appConfig,s)}throw n}}function rA(i){return i!==void 0&&i.registrationStatus===2}function XO(i){return i.requestStatus===2&&!WO(i)}function WO(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+AO}function ZO(i){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},i),{authToken:e})}function JO(i){return i.requestStatus===1&&i.requestTime+Hb<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eM(i){const e=i,{installationEntry:n,registrationPromise:s}=await Og(e);return s?s.catch(console.error):Mg(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tM(i,e=!1){const n=i;return await nM(n),(await Mg(n,e)).token}async function nM(i){const{registrationPromise:e}=await Og(i);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iM(i){if(!i||!i.options)throw Lm("App Configuration");if(!i.name)throw Lm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!i.options[n])throw Lm(n);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Lm(i){return oa.create("missing-app-config-values",{valueName:i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sA="installations",rM="installations-internal",sM=i=>{const e=i.getProvider("app").getImmediate(),n=iM(e),s=fa(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},aM=i=>{const e=i.getProvider("app").getImmediate(),n=fa(e,sA).getImmediate();return{getId:()=>eM(n),getToken:o=>tM(n,o)}};function oM(){Ii(new ni(sA,sM,"PUBLIC")),Ii(new ni(rM,aM,"PRIVATE"))}oM();Gn(qb,Ng);Gn(qb,Ng,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hh="analytics",lM="firebase_id",uM="origin",cM=60*1e3,hM="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Vg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gn=new Kh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fM={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Sn=new ha("analytics","Analytics",fM);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(i){if(!i.startsWith(Vg)){const e=Sn.create("invalid-gtag-resource",{gtagURL:i});return gn.warn(e.message),""}return i}function aA(i){return Promise.all(i.map(e=>e.catch(n=>n)))}function mM(i,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(i,e)),n}function pM(i,e){const n=mM("firebase-js-sdk-policy",{createScriptURL:dM}),s=document.createElement("script"),o=`${Vg}?l=${i}&id=${e}`;s.src=n?n==null?void 0:n.createScriptURL(o):o,s.async=!0,document.head.appendChild(s)}function gM(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function yM(i,e,n,s,o,u){const h=s[o];try{if(h)await e[h];else{const p=(await aA(n)).find(g=>g.measurementId===o);p&&await e[p.appId]}}catch(d){gn.error(d)}i("config",o,u)}async function vM(i,e,n,s,o){try{let u=[];if(o&&o.send_to){let h=o.send_to;Array.isArray(h)||(h=[h]);const d=await aA(n);for(const p of h){const g=d.find(T=>T.measurementId===p),E=g&&e[g.appId];if(E)u.push(E);else{u=[];break}}}u.length===0&&(u=Object.values(e)),await Promise.all(u),i("event",s,o||{})}catch(u){gn.error(u)}}function _M(i,e,n,s){async function o(u,...h){try{if(u==="event"){const[d,p]=h;await vM(i,e,n,d,p)}else if(u==="config"){const[d,p]=h;await yM(i,e,n,s,d,p)}else if(u==="consent"){const[d,p]=h;i("consent",d,p)}else if(u==="get"){const[d,p,g]=h;i("get",d,p,g)}else if(u==="set"){const[d]=h;i("set",d)}else i(u,...h)}catch(d){gn.error(d)}}return o}function EM(i,e,n,s,o){let u=function(...h){window[s].push(arguments)};return window[o]&&typeof window[o]=="function"&&(u=window[o]),window[o]=_M(u,i,e,n),{gtagCore:u,wrappedGtag:window[o]}}function TM(i){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Vg)&&n.src.includes(i))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wM=30,bM=1e3;class AM{constructor(e={},n=bM){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const oA=new AM;function SM(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function RM(i){var e;const{appId:n,apiKey:s}=i,o={method:"GET",headers:SM(s)},u=hM.replace("{app-id}",n),h=await fetch(u,o);if(h.status!==200&&h.status!==304){let d="";try{const p=await h.json();!((e=p.error)===null||e===void 0)&&e.message&&(d=p.error.message)}catch{}throw Sn.create("config-fetch-failed",{httpStatus:h.status,responseMessage:d})}return h.json()}async function xM(i,e=oA,n){const{appId:s,apiKey:o,measurementId:u}=i.options;if(!s)throw Sn.create("no-app-id");if(!o){if(u)return{measurementId:u,appId:s};throw Sn.create("no-api-key")}const h=e.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new NM;return setTimeout(async()=>{d.abort()},cM),lA({appId:s,apiKey:o,measurementId:u},h,d,e)}async function lA(i,{throttleEndTimeMillis:e,backoffCount:n},s,o=oA){var u;const{appId:h,measurementId:d}=i;try{await IM(s,e)}catch(p){if(d)return gn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:h,measurementId:d};throw p}try{const p=await RM(i);return o.deleteThrottleMetadata(h),p}catch(p){const g=p;if(!CM(g)){if(o.deleteThrottleMetadata(h),d)return gn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${d} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:d};throw p}const E=Number((u=g==null?void 0:g.customData)===null||u===void 0?void 0:u.httpStatus)===503?t0(n,o.intervalMillis,wM):t0(n,o.intervalMillis),T={throttleEndTimeMillis:Date.now()+E,backoffCount:n+1};return o.setThrottleMetadata(h,T),gn.debug(`Calling attemptFetch again in ${E} millis`),lA(i,T,s,o)}}function IM(i,e){return new Promise((n,s)=>{const o=Math.max(e-Date.now(),0),u=setTimeout(n,o);i.addEventListener(()=>{clearTimeout(u),s(Sn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function CM(i){if(!(i instanceof ai)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class NM{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function DM(i,e,n,s,o){if(o&&o.global){i("event",n,s);return}else{const u=await e,h=Object.assign(Object.assign({},s),{send_to:u});i("event",n,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OM(){if(xp())try{await Ip()}catch(i){return gn.warn(Sn.create("indexeddb-unavailable",{errorInfo:i==null?void 0:i.toString()}).message),!1}else return gn.warn(Sn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MM(i,e,n,s,o,u,h){var d;const p=xM(i);p.then(N=>{n[N.measurementId]=N.appId,i.options.measurementId&&N.measurementId!==i.options.measurementId&&gn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${N.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(N=>gn.error(N)),e.push(p);const g=OM().then(N=>{if(N)return s.getId()}),[E,T]=await Promise.all([p,g]);TM(u)||pM(u,E.measurementId),o("js",new Date);const w=(d=h==null?void 0:h.config)!==null&&d!==void 0?d:{};return w[uM]="firebase",w.update=!0,T!=null&&(w[lM]=T),o("config",E.measurementId,w),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VM{constructor(e){this.app=e}_delete(){return delete cu[this.app.options.appId],Promise.resolve()}}let cu={},VE=[];const kE={};let jm="dataLayer",kM="gtag",PE,uA,UE=!1;function PM(){const i=[];if(Rp()&&i.push("This is a browser extension environment."),wT()||i.push("Cookies are not available."),i.length>0){const e=i.map((s,o)=>`(${o+1}) ${s}`).join(" "),n=Sn.create("invalid-analytics-context",{errorInfo:e});gn.warn(n.message)}}function UM(i,e,n){PM();const s=i.options.appId;if(!s)throw Sn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)gn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Sn.create("no-api-key");if(cu[s]!=null)throw Sn.create("already-exists",{id:s});if(!UE){gM(jm);const{wrappedGtag:u,gtagCore:h}=EM(cu,VE,kE,jm,kM);uA=u,PE=h,UE=!0}return cu[s]=MM(i,VE,kE,e,PE,jm,n),new VM(i)}function LM(i=Np()){i=Tt(i);const e=fa(i,Hh);return e.isInitialized()?e.getImmediate():jM(i)}function jM(i,e={}){const n=fa(i,Hh);if(n.isInitialized()){const o=n.getImmediate();if(cs(e,n.getOptions()))return o;throw Sn.create("already-initialized")}return n.initialize({options:e})}async function zM(){if(Rp()||!wT()||!xp())return!1;try{return await Ip()}catch{return!1}}function BM(i,e,n,s){i=Tt(i),DM(uA,cu[i.app.options.appId],e,n,s).catch(o=>gn.error(o))}const LE="@firebase/analytics",jE="0.10.12";function qM(){Ii(new ni(Hh,(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return UM(s,o,n)},"PUBLIC")),Ii(new ni("analytics-internal",i,"PRIVATE")),Gn(LE,jE),Gn(LE,jE,"esm2017");function i(e){try{const n=e.getProvider(Hh).getImmediate();return{logEvent:(s,o,u)=>BM(n,s,o,u)}}catch(n){throw Sn.create("interop-component-reg-failed",{reason:n})}}}qM();const HM=()=>({apiKey:window.FIREBASE_API_KEY||"",authDomain:"realms-of-war-f2eb5.firebaseapp.com",projectId:"realms-of-war-f2eb5",storageBucket:"realms-of-war-f2eb5.firebasestorage.app",messagingSenderId:"562743775258",appId:"1:562743775258:web:641dc1b274105f3ed781a3"});let ua,Hn,zE;try{const i=HM(),e=Km(i);ua=C0(e),Hn=IE(e),zE=zM().then(n=>n?LM(e):null)}catch(i){console.error("Firebase initialization error:",i);const e=Km({apiKey:"dummy-key",authDomain:"dummy.firebaseapp.com",projectId:"dummy-project",storageBucket:"dummy.appspot.com",messagingSenderId:"000000000000",appId:"1:000000000000:web:0000000000000000000000"});ua=C0(e),Hn=IE(e),zE=Promise.resolve(null)}const FM=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  .spinner-sm {
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 3px solid #fff;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
  }
`,GM=()=>{const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,d]=z.useState(!1),[p,g]=z.useState(!0),E="https://s3-alpha-sig.figma.com/img/976e/997d/435a69e3664787312a76ffcff224a585?Expires=1743379200&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=PJPPPI7fV0G7laZgSu4LJb2zkEDIV7R6gl81zXRcEpQYVvdwcGQ6p0IzGiMneKv9Ia1PnJwyTAmE9q~BeyJtfqliPHIofSyRws10A5R~AOfFg9r73dU1bgk3pij2NZ4NuV1QkorcUmT-WpgyjnSCcCg8txmITl48c8FTlGpX6Ou8FMMS6vZtsvuOT-BZ4MnT2PG9W6CbrcYHARofu9vL1oyBPz~0vNkIDoYFT83ZZtQD0Lq3zvo4uCVpRj0woOhwHVdJT6bUNDua6pBBJ-NUN13~StUV318OpvlETqac5tzFQTGNU-8qOY2N0UUDciMcd9RijIgSPe9X6JAaSwRdog__";z.useEffect(()=>{const w=new Image;w.src=E,w.onerror=()=>g(!1)},[]);const T=async w=>{w.preventDefault(),u(""),d(!0);try{await Q1(ua,i,n)}catch(N){u(N.message||"An error occurred during sign in"),console.error("Sign in error:",N),d(!1)}};return x.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden","data-bg-container":!0,style:{backgroundColor:"#093f3b",backgroundImage:p?`url('${E}')`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[x.jsx("style",{children:FM}),x.jsxs("nav",{className:"flex justify-between items-center absolute",style:{top:"57px",right:"50px",gap:"24px"},children:[x.jsx(rt,{to:"/#about",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"About us"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/#devlogs",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Devlogs"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx("a",{href:"https://patreon.com/realmsofwar",target:"_blank",rel:"noopener noreferrer",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Support us!"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/signup",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Sign Up"})]}),x.jsxs("div",{className:"rounded-[24px] flex flex-col absolute",style:{backgroundColor:"rgba(14, 50, 46, 0.89)",boxShadow:"inset 0 4px 4px rgba(0, 0, 0, 0.25)",width:"513px",height:"634px",left:"50%",top:"223px",transform:"translateX(-50%)"},children:[x.jsx("h1",{className:"text-white text-[40px] font-jersey text-center",style:{marginTop:"154px",filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"40px",width:"346px",alignSelf:"center"},children:"Sign in to your account"}),x.jsxs("form",{onSubmit:T,className:"flex flex-col mt-[45px]",style:{alignItems:"center"},children:[x.jsx("div",{className:"flex flex-col",children:x.jsx("input",{type:"email",value:i,onChange:w=>e(w.target.value),placeholder:"Email",className:"bg-white text-[#B0B0B0] px-6 rounded-[21px] text-[32px] font-jersey",style:{height:"50px",width:"346px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",paddingTop:"9px",paddingBottom:"9px"},required:!0,disabled:h})}),x.jsx("div",{className:"flex flex-col mt-[26px]",children:x.jsx("input",{type:"password",value:n,onChange:w=>s(w.target.value),placeholder:"Password",className:"bg-white text-[#B0B0B0] px-6 rounded-[21px] text-[32px] font-jersey",style:{height:"50px",width:"346px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",paddingTop:"9px",paddingBottom:"9px"},required:!0,disabled:h})}),o&&x.jsx("p",{className:"text-red-400 text-sm mt-2 text-center",children:o}),x.jsx("button",{type:"submit",className:"bg-[#FF7700] hover:bg-[#FF8800] text-white font-jersey text-[36px] rounded-[38px]",style:{width:"190px",height:"58.31px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"36px",marginTop:"31px"},disabled:h,children:h?x.jsx("div",{className:"spinner-sm"}):"Enter"})]}),x.jsxs("div",{className:"flex flex-col items-center",style:{marginTop:"auto",marginBottom:"75px"},children:[x.jsx("p",{className:"text-white text-[32px] font-jersey",style:{filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"32px",width:"321px",textAlign:"center"},children:"Don't have an account ?"}),x.jsx(rt,{to:"/signup",className:"text-white text-[32px] font-jersey underline",style:{filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"32px",textAlign:"center",marginTop:"3px",textDecoration:"underline"},children:"Create one"})]})]})]})},$M=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  .spinner-sm {
    border: 3px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 3px solid #fff;
    width: 24px;
    height: 24px;
    animation: spin 1s linear infinite;
  }
`,KM=()=>{const[i,e]=z.useState(""),[n,s]=z.useState(""),[o,u]=z.useState(""),[h,d]=z.useState(""),[p,g]=z.useState(""),[E,T]=z.useState(!1),[w,N]=z.useState(!0),P="https://s3-alpha-sig.figma.com/img/976e/997d/435a69e3664787312a76ffcff224a585?Expires=1743379200&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=PJPPPI7fV0G7laZgSu4LJb2zkEDIV7R6gl81zXRcEpQYVvdwcGQ6p0IzGiMneKv9Ia1PnJwyTAmE9q~BeyJtfqliPHIofSyRws10A5R~AOfFg9r73dU1bgk3pij2NZ4NuV1QkorcUmT-WpgyjnSCcCg8txmITl48c8FTlGpX6Ou8FMMS6vZtsvuOT-BZ4MnT2PG9W6CbrcYHARofu9vL1oyBPz~0vNkIDoYFT83ZZtQD0Lq3zvo4uCVpRj0woOhwHVdJT6bUNDua6pBBJ-NUN13~StUV318OpvlETqac5tzFQTGNU-8qOY2N0UUDciMcd9RijIgSPe9X6JAaSwRdog__";z.useEffect(()=>{const O=new Image;O.src=P,O.onerror=()=>N(!1)},[]);const q=async O=>{if(O.preventDefault(),g(""),T(!0),n!==o){g("Passwords do not match"),T(!1);return}try{const ee=(await K1(ua,i,n)).user;h&&ee&&(await X1(ee,{displayName:h}),await _O(yo(Hn,"users",ee.uid),{name:h,id:ee.uid,email:ee.email,createdAt:Cg(),gamesJoined:[],completedGames:[],isAdmin:!1}))}catch(G){g(G.message||"An error occurred during sign up"),console.error("Sign up error:",G),T(!1)}};return x.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden","data-bg-container":!0,style:{backgroundColor:"#093f3b",backgroundImage:w?`url('${P}')`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[x.jsx("style",{children:$M}),x.jsxs("nav",{className:"flex justify-between items-center absolute",style:{top:"57px",right:"50px",gap:"24px"},children:[x.jsx(rt,{to:"/#about",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"About us"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/#devlogs",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Devlogs"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx("a",{href:"https://patreon.com/realmsofwar",target:"_blank",rel:"noopener noreferrer",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Support us!"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/signin",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Sign In"})]}),x.jsxs("div",{className:"rounded-[24px] flex flex-col absolute",style:{backgroundColor:"rgba(14, 50, 46, 0.89)",boxShadow:"inset 0 4px 4px rgba(0, 0, 0, 0.25)",width:"513px",height:"787px",left:"50%",top:"223px",transform:"translateX(-50%)"},children:[x.jsx("h1",{className:"text-white text-[40px] font-jersey text-center",style:{marginTop:"154px",filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"40px",width:"309px",alignSelf:"center"},children:"Create your account"}),x.jsxs("form",{onSubmit:q,className:"flex flex-col mt-[45px]",style:{alignItems:"center"},children:[x.jsx("div",{className:"flex flex-col",children:x.jsx("input",{type:"email",value:i,onChange:O=>e(O.target.value),placeholder:"Email",className:"bg-white text-[#B0B0B0] px-6 rounded-[21px] text-[32px] font-jersey",style:{height:"50px",width:"346px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",paddingTop:"9px",paddingBottom:"9px"},required:!0,disabled:E})}),x.jsx("div",{className:"flex flex-col mt-[26px]",children:x.jsx("input",{type:"password",value:n,onChange:O=>s(O.target.value),placeholder:"Password",className:"bg-white text-[#B0B0B0] px-6 rounded-[21px] text-[32px] font-jersey",style:{height:"50px",width:"346px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",paddingTop:"9px",paddingBottom:"9px"},required:!0,disabled:E})}),x.jsx("div",{className:"flex flex-col mt-[26px]",children:x.jsx("input",{type:"password",value:o,onChange:O=>u(O.target.value),placeholder:"Confirm Password",className:"bg-white text-[#B0B0B0] px-6 rounded-[21px] text-[32px] font-jersey",style:{height:"50px",width:"346px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",paddingTop:"9px",paddingBottom:"9px"},required:!0,disabled:E})}),x.jsx("div",{className:"flex flex-col mt-[26px]",children:x.jsx("input",{type:"text",value:h,onChange:O=>d(O.target.value),placeholder:"Display Name",className:"bg-white text-[#B0B0B0] px-6 rounded-[21px] text-[32px] font-jersey",style:{height:"50px",width:"346px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",paddingTop:"9px",paddingBottom:"9px"},required:!0,disabled:E})}),p&&x.jsx("p",{className:"text-red-400 text-sm mt-2 text-center",children:p}),x.jsx("button",{type:"submit",className:"bg-[#FF7700] hover:bg-[#FF8800] text-white font-jersey text-[36px] rounded-[38px]",style:{width:"190px",height:"58.31px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"36px",marginTop:"31px"},disabled:E,children:E?x.jsx("div",{className:"spinner-sm"}):"Enter"})]}),x.jsxs("div",{className:"flex flex-col items-center",style:{marginTop:"auto",marginBottom:"60px"},children:[x.jsx("p",{className:"text-white text-[32px] font-jersey",style:{filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"32px",width:"321px",textAlign:"center"},children:"Already have an account?"}),x.jsx(rt,{to:"/signin",className:"text-white text-[32px] font-jersey underline",style:{filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))",lineHeight:"32px",textAlign:"center",marginTop:"3px",textDecoration:"underline"},children:"Sign in"})]})]})]})},QM=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes pulse {
    0% { opacity: 0.6; transform: scale(0.98); }
    50% { opacity: 1; transform: scale(1.02); }
    100% { opacity: 0.6; transform: scale(0.98); }
  }
  
  .spinner {
    border: 5px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 5px solid #fff;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
  }
  
  .pulse {
    animation: pulse 2s infinite ease-in-out;
  }
`,ao=()=>{const[i,e]=z.useState(null),[n,s]=z.useState(!1),[o,u]=z.useState([]),[h,d]=z.useState(""),[p,g]=z.useState("Player"),[E,T]=z.useState(!0),w=Au(),N=z.useRef(null),P="https://s3-alpha-sig.figma.com/img/976e/997d/435a69e3664787312a76ffcff224a585?Expires=1743379200&Key-Pair-Id=APKAQ4GOSFWCW27IBOMQ&Signature=PJPPPI7fV0G7laZgSu4LJb2zkEDIV7R6gl81zXRcEpQYVvdwcGQ6p0IzGiMneKv9Ia1PnJwyTAmE9q~BeyJtfqliPHIofSyRws10A5R~AOfFg9r73dU1bgk3pij2NZ4NuV1QkorcUmT-WpgyjnSCcCg8txmITl48c8FTlGpX6Ou8FMMS6vZtsvuOT-BZ4MnT2PG9W6CbrcYHARofu9vL1oyBPz~0vNkIDoYFT83ZZtQD0Lq3zvo4uCVpRj0woOhwHVdJT6bUNDua6pBBJ-NUN13~StUV318OpvlETqac5tzFQTGNU-8qOY2N0UUDciMcd9RijIgSPe9X6JAaSwRdog__",[q,O]=z.useState(!0),[G,ee]=z.useState(!0),[W,de]=z.useState(!1),[le,ge]=z.useState(!0),[U,R]=z.useState("Loading dashboard...");z.useEffect(()=>{if(G){const M=["Loading dashboard...","Preparing your game space...","Loading chat...","Getting everything ready...","Almost there..."];let V=0;const I=setInterval(()=>{R(M[V]),V=(V+1)%M.length},2e3);return()=>clearInterval(I)}},[G]),z.useEffect(()=>{const M=new Image;M.src=P,M.onerror=()=>T(!1),ee(!0),O(!0),ge(!0);const V=Lp(ua,async I=>{if(I){e(I);try{const Fe=yo(Hn,"users",I.uid),Ge=await jb(Fe);if(Ge.exists()){const re=Ge.data();if(s(re.isAdmin||!1),re.name)g(re.name);else if(I.displayName)g(I.displayName);else if(I.email){const _e=I.email.split("@")[0];g(_e)}}else if(I.displayName)g(I.displayName);else if(I.email){const re=I.email.split("@")[0];g(re)}O(!1),setTimeout(()=>{de(!0),setTimeout(()=>{ee(!1)},500)},1e3)}catch(Fe){console.error("Error fetching user data:",Fe),O(!1)}}else w("/signin")});return()=>V()},[w]),z.useEffect(()=>{if(i&&!q){ge(!0);const M=pp(uu(Hn,"chat"),gp("timestamp","desc"),yp(50)),V=wO(M,I=>{const Fe=[];I.forEach(Ge=>{Fe.push({id:Ge.id,...Ge.data()})}),u(Fe.reverse()),ge(!1),setTimeout(()=>{S()},100)});return()=>V()}},[i,q]);const S=()=>{var M;(M=N.current)==null||M.scrollIntoView({behavior:"smooth"})},D=async M=>{if(M.preventDefault(),!!h.trim())try{await zb(uu(Hn,"chat"),{text:h,userName:p,timestamp:Cg()}),d(""),S()}catch(V){console.error("Error sending message:",V)}};return G||q||!W?x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center bg-[#093f3b]",children:[x.jsx("style",{children:QM}),x.jsx("div",{className:"spinner mb-6"}),x.jsx("p",{className:"text-white text-2xl font-jersey mt-4 pulse",children:U})]}):x.jsxs("div",{className:"min-h-screen w-full relative overflow-hidden",style:{backgroundColor:"#093f3b",backgroundImage:E?`url('${P}')`:"none",backgroundSize:"cover",backgroundPosition:"center"},children:[x.jsxs("h1",{className:"text-white text-[40px] font-jersey absolute",style:{top:"44px",left:"50px",filter:"drop-shadow(0 4px 4px rgba(0, 0, 0, 0.25))"},children:["Welcome back, ",p]}),x.jsxs("nav",{className:"flex items-center absolute",style:{top:"37px",right:"50px"},children:[n&&x.jsxs(x.Fragment,{children:[x.jsx(rt,{to:"/admin",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md mx-12",children:"Admin"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"})]}),x.jsx(rt,{to:"/create",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md mx-12",children:"Create"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/join",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md mx-12",children:"Join"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/messages",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md mx-12",children:"Messages"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/profile",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md mx-12",children:"Profile"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/rules",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md mx-12",children:"Rules"})]}),x.jsxs("div",{className:"flex h-[calc(100vh-120px)] absolute",style:{top:"120px",left:0,right:0},children:[x.jsx("div",{className:"flex-grow h-full relative overflow-y-auto",style:{scrollbarWidth:"thin",scrollbarColor:"#366b66 #093f3b"},id:"gameListContainer",children:x.jsxs("div",{className:"absolute",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)",textAlign:"center",width:"600px"},children:[x.jsxs("p",{className:"text-white text-[40px] font-jersey mx-auto leading-[50px]",children:["You have no ongoing or joined games.",x.jsx("br",{}),"Create one or join a game"]}),x.jsx("button",{className:"bg-[#FF7700] hover:bg-[#FF8800] text-white text-[40px] font-jersey rounded-[38px] mx-auto block mt-[39px] transition-colors",style:{width:"220px",height:"71.16px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>w("/create"),children:"Create"}),x.jsx("button",{className:"bg-[#143f3b] hover:bg-[#1a4e49] text-white text-[40px] font-jersey rounded-[38px] mx-auto block mt-[22px] transition-colors",style:{width:"220px",height:"71.16px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)",display:"flex",alignItems:"center",justifyContent:"center"},onClick:()=>w("/join"),children:"Join"})]})}),x.jsx("div",{className:"relative w-[1px]",children:x.jsx("div",{className:"w-[1px] bg-white absolute top-0",style:{height:"calc(100%)",display:"none"},id:"verticalDivider",ref:M=>{if(M){const V=()=>{const Ge=document.getElementById("gameListContainer");Ge&&(M.style.display=Ge.scrollHeight>Ge.clientHeight?"block":"none")};V(),window.addEventListener("resize",V);const I=new MutationObserver(V),Fe=document.getElementById("gameListContainer");Fe&&I.observe(Fe,{childList:!0,subtree:!0,attributes:!0})}}})}),x.jsx("div",{className:"h-full pr-[50px] pl-[30px] pb-[30px]",style:{width:"528px"},children:x.jsxs("div",{className:"w-full h-full rounded-[13px] bg-[#0E342F] relative",style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:[x.jsx("div",{className:"overflow-y-auto px-[25px] py-[20px] flex flex-col justify-end",style:{height:"calc(100% - 80px)",scrollbarWidth:"thin",scrollbarColor:"#366b66 #0E342F"},children:le?x.jsxs("div",{className:"flex flex-col items-center justify-center h-full",children:[x.jsx("div",{className:"spinner mb-4",style:{width:"30px",height:"30px"}}),x.jsx("p",{className:"text-white text-xl font-jersey",children:"Loading chat..."})]}):o.length>0?x.jsxs(x.Fragment,{children:[o.map(M=>x.jsxs("div",{className:"mb-[15px]",children:[x.jsxs("p",{className:"text-white text-[20px] font-jersey drop-shadow-md",children:[M.userName,": ",M.text]}),x.jsx("div",{className:"w-full h-[1px] bg-white mt-[17px] opacity-70"})]},M.id)),x.jsx("div",{ref:N})]}):x.jsx("div",{className:"flex items-center justify-center h-full",children:x.jsx("p",{className:"text-white text-xl font-jersey",children:"No messages yet. Start the conversation!"})})}),x.jsx("div",{className:"absolute bottom-0 left-0 right-0 px-[25px] pb-[30px] pt-[10px] bg-[#0E342F] rounded-b-[13px]",children:x.jsxs("form",{onSubmit:D,className:"flex items-center w-full",children:[x.jsx("input",{type:"text",value:h,onChange:M=>d(M.target.value),placeholder:"Type a message...",className:"bg-[#D9D9D9] text-black text-[20px] font-jersey rounded-[6px] px-4 py-2 flex-grow",style:{height:"38px",boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},disabled:le}),x.jsx("button",{type:"submit",className:`${le?"bg-gray-500":"bg-[#FF7700] hover:bg-[#FF8800]"} text-white text-[20px] font-jersey rounded-[5px] ml-[15px] w-[98px] h-[38px] transition-colors`,style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},disabled:le,children:"Send"})]})})]})})]})]})};var hu={},Fl={},Gl={},BE;function YM(){if(BE)return Gl;BE=1,Object.defineProperty(Gl,"__esModule",{value:!0}),Gl.useUnityCanvasId=void 0;var i=Kn(),e=0,n="react-unity-webgl-canvas",s=function(o){if(o.id!==void 0)return o.id;var u=(0,i.useMemo)(function(){return[n,++e].join("-")},[]);return u};return Gl.useUnityCanvasId=s,Gl}var ir={},$l={},qE;function cA(){if(qE)return $l;qE=1,Object.defineProperty($l,"__esModule",{value:!0}),$l.UnityLoaderStatus=void 0;var i;return function(e){e.Idle="Idle",e.Loading="Loading",e.Loaded="Loaded",e.Error="Error"}(i||($l.UnityLoaderStatus=i={})),$l}var Kl={},HE;function kg(){return HE||(HE=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.isBrowserEnvironment=void 0,Kl.isBrowserEnvironment=typeof window<"u"&&typeof document<"u"),Kl}var FE;function XM(){if(FE)return ir;FE=1;var i=ir&&ir.__awaiter||function(h,d,p,g){function E(T){return T instanceof p?T:new p(function(w){w(T)})}return new(p||(p=Promise))(function(T,w){function N(O){try{q(g.next(O))}catch(G){w(G)}}function P(O){try{q(g.throw(O))}catch(G){w(G)}}function q(O){O.done?T(O.value):E(O.value).then(N,P)}q((g=g.apply(h,d||[])).next())})},e=ir&&ir.__generator||function(h,d){var p={label:0,sent:function(){if(T[0]&1)throw T[1];return T[1]},trys:[],ops:[]},g,E,T,w=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return w.next=N(0),w.throw=N(1),w.return=N(2),typeof Symbol=="function"&&(w[Symbol.iterator]=function(){return this}),w;function N(q){return function(O){return P([q,O])}}function P(q){if(g)throw new TypeError("Generator is already executing.");for(;w&&(w=0,q[0]&&(p=0)),p;)try{if(g=1,E&&(T=q[0]&2?E.return:q[0]?E.throw||((T=E.return)&&T.call(E),0):E.next)&&!(T=T.call(E,q[1])).done)return T;switch(E=0,T&&(q=[q[0]&2,T.value]),q[0]){case 0:case 1:T=q;break;case 4:return p.label++,{value:q[1],done:!1};case 5:p.label++,E=q[1],q=[0];continue;case 7:q=p.ops.pop(),p.trys.pop();continue;default:if(T=p.trys,!(T=T.length>0&&T[T.length-1])&&(q[0]===6||q[0]===2)){p=0;continue}if(q[0]===3&&(!T||q[1]>T[0]&&q[1]<T[3])){p.label=q[1];break}if(q[0]===6&&p.label<T[1]){p.label=T[1],T=q;break}if(T&&p.label<T[2]){p.label=T[2],p.ops.push(q);break}T[2]&&p.ops.pop(),p.trys.pop();continue}q=d.call(h,p)}catch(O){q=[6,O],E=0}finally{g=T=0}if(q[0]&5)throw q[1];return{value:q[0]?q[1]:void 0,done:!0}}};Object.defineProperty(ir,"__esModule",{value:!0}),ir.useUnityInstance=void 0;var n=Kn(),s=cA(),o=kg(),u=function(h,d,p,g){(0,n.useEffect)(function(){(function(){return i(void 0,void 0,void 0,function(){var E,T;return e(this,function(w){switch(w.label){case 0:if(o.isBrowserEnvironment===!1)return[2];if(h!==s.UnityLoaderStatus.Loaded||d===null)return g.setUnityInstance(null),g.setInitialisationError(null),[2];w.label=1;case 1:return w.trys.push([1,3,,4]),[4,window.createUnityInstance(d,p,g.setLoadingProgression)];case 2:return E=w.sent(),g.setUnityInstance(E),g.setInitialisationError(null),[3,4];case 3:return T=w.sent(),g.setUnityInstance(null),g.setInitialisationError(T),[3,4];case 4:return[2]}})})})()},[h,d,p,g])};return ir.useUnityInstance=u,ir}var Ql={},GE;function WM(){if(GE)return Ql;GE=1,Object.defineProperty(Ql,"__esModule",{value:!0}),Ql.useUnityArguments=void 0;var i=Kn(),e=function(n){return(0,i.useMemo)(function(){return{dataUrl:n.unityProvider.unityConfig.dataUrl,frameworkUrl:n.unityProvider.unityConfig.frameworkUrl,codeUrl:n.unityProvider.unityConfig.codeUrl,streamingAssetsUrl:n.unityProvider.unityConfig.streamingAssetsUrl,memoryUrl:n.unityProvider.unityConfig.memoryUrl,symbolsUrl:n.unityProvider.unityConfig.symbolsUrl,workerUrl:n.unityProvider.unityConfig.workerUrl,companyName:n.unityProvider.unityConfig.companyName,productName:n.unityProvider.unityConfig.productName,productVersion:n.unityProvider.unityConfig.productVersion,webglContextAttributes:n.unityProvider.unityConfig.webglContextAttributes||{},cacheControl:n.unityProvider.unityConfig.cacheControl||function(){return"must-revalidate"},devicePixelRatio:n.devicePixelRatio||1,autoSyncPersistentDataPath:n.autoSyncPersistentDataPath,matchWebGLToCanvasSize:typeof n.matchWebGLToCanvasSize=="boolean"?n.matchWebGLToCanvasSize:!0,disabledCanvasEvents:n.disabledCanvasEvents||["contextmenu","dragstart"],print:function(s){},printErr:function(s){}}},[])};return Ql.useUnityArguments=e,Ql}var Yl={},$E;function ZM(){if($E)return Yl;$E=1,Object.defineProperty(Yl,"__esModule",{value:!0}),Yl.useUnityLoader=void 0;var i=Kn(),e=kg(),n=cA(),s=function(o){var u=(0,i.useState)(n.UnityLoaderStatus.Loading),h=u[0],d=u[1];return(0,i.useEffect)(function(){if(e.isBrowserEnvironment!==!1){if(o.loaderUrl===null){d(n.UnityLoaderStatus.Idle);return}var p=window.document.querySelector('script[src="'.concat(o.loaderUrl,'"]'));p===null?(p=window.document.createElement("script"),p.type="text/javascript",p.src=o.loaderUrl,p.async=!0,p.setAttribute("data-status","loading"),window.document.body.appendChild(p),p.addEventListener("load",function(){return p==null?void 0:p.setAttribute("data-status","loaded")}),p.addEventListener("error",function(){return p==null?void 0:p.setAttribute("data-status","error")})):d(p.getAttribute("data-status")==="loaded"?n.UnityLoaderStatus.Loaded:n.UnityLoaderStatus.Error);var g=function(E){return d(E.type==="load"?n.UnityLoaderStatus.Loaded:n.UnityLoaderStatus.Error)};return p.addEventListener("load",g),p.addEventListener("error",g),function(){p!==null&&(p.removeEventListener("load",g),p.removeEventListener("error",g),window.document.body.removeChild(p))}}},[o.loaderUrl]),h};return Yl.useUnityLoader=s,Yl}var KE;function JM(){if(KE)return Fl;KE=1,Object.defineProperty(Fl,"__esModule",{value:!0}),Fl.Unity=void 0;var i=Kn(),e=Kn(),n=YM(),s=XM(),o=WM(),u=ZM(),h=(0,e.forwardRef)(function(d,p){var g=(0,e.useRef)(null),E=(0,n.useUnityCanvasId)(d),T=(0,o.useUnityArguments)(d),w=(0,u.useUnityLoader)(d.unityProvider.unityConfig);return(0,s.useUnityInstance)(w,g.current,T,d.unityProvider),(0,i.useImperativeHandle)(p,function(){return g.current}),(0,i.createElement)("canvas",{ref:g,id:E,style:d.style,className:d.className,tabIndex:d.tabIndex})});return Fl.Unity=h,Fl}var rr={},Xl={},QE;function hA(){if(QE)return Xl;QE=1,Object.defineProperty(Xl,"__esModule",{value:!0}),Xl.errorMessages=void 0;var i={genericNoUnityInstance:"No Unity Instance found.",requestFullscreenNoUnityInstance:"Unable to Set Fullscreen while Unity is not Instantiated.",requestPointerLockNoUnityInstanceOrCanvas:"Unable to Request Pointer Lock while Unity is not Instantiated or the Canvas is not found.",sendMessageNoUnityInstance:"Unable to Send Message while Unity is not Instantiated.",quitNoUnityInstance:"Unable to Quit Unity while Unity is not Instantiated.",screenshotNoUnityInstanceOrCanvas:"Unable to Take Screenshot while Unity is not Instantiated or Canvas is not available.",noEventListener:"Unable to find Event Listener in Event System for Event"};return Xl.errorMessages=i,Xl}var Js={},YE;function eV(){if(YE)return Js;YE=1;var i=Js&&Js.__spreadArray||function(d,p,g){if(g||arguments.length===2)for(var E=0,T=p.length,w;E<T;E++)(w||!(E in p))&&(w||(w=Array.prototype.slice.call(p,0,E)),w[E]=p[E]);return d.concat(w||Array.prototype.slice.call(p))};Object.defineProperty(Js,"__esModule",{value:!0}),Js.useEventSystem=void 0;var e=Kn(),n=hA(),s=kg(),o=[],u=function(d){for(var p=[],g=1;g<arguments.length;g++)p[g-1]=arguments[g];var E=void 0;return o.forEach(function(T){E=T.apply(void 0,i([d],p,!1))}),E};s.isBrowserEnvironment===!0&&(window.dispatchReactUnityEvent=u);var h=function(){var d=(0,e.useRef)([]),p=(0,e.useCallback)(function(T,w){d.current=i(i([],d.current,!0),[{eventName:T,callback:w}],!1)},[d]),g=(0,e.useCallback)(function(T,w){d.current=d.current.filter(function(N){return N.eventName!==T&&N.callback!==w})},[d]),E=(0,e.useCallback)(function(T){for(var w=[],N=1;N<arguments.length;N++)w[N-1]=arguments[N];var P=d.current.find(function(q){return q.eventName===T});if(typeof P>"u"){console.warn(n.errorMessages.noEventListener,{eventName:T});return}return P.callback.apply(P,w)},[d]);return(0,e.useEffect)(function(){return o.push(E),function(){o.splice(o.indexOf(E),1)}},[E]),{addEventListener:p,removeEventListener:g}};return Js.useEventSystem=h,Js}var Wl={},XE;function tV(){if(XE)return Wl;XE=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.useNullableState=void 0;var i=Kn(),e=function(n){return(0,i.useState)(n||null)};return Wl.useNullableState=e,Wl}var WE;function nV(){if(WE)return rr;WE=1;var i=rr&&rr.__awaiter||function(d,p,g,E){function T(w){return w instanceof g?w:new g(function(N){N(w)})}return new(g||(g=Promise))(function(w,N){function P(G){try{O(E.next(G))}catch(ee){N(ee)}}function q(G){try{O(E.throw(G))}catch(ee){N(ee)}}function O(G){G.done?w(G.value):T(G.value).then(P,q)}O((E=E.apply(d,p||[])).next())})},e=rr&&rr.__generator||function(d,p){var g={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},E,T,w,N=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return N.next=P(0),N.throw=P(1),N.return=P(2),typeof Symbol=="function"&&(N[Symbol.iterator]=function(){return this}),N;function P(O){return function(G){return q([O,G])}}function q(O){if(E)throw new TypeError("Generator is already executing.");for(;N&&(N=0,O[0]&&(g=0)),g;)try{if(E=1,T&&(w=O[0]&2?T.return:O[0]?T.throw||((w=T.return)&&w.call(T),0):T.next)&&!(w=w.call(T,O[1])).done)return w;switch(T=0,w&&(O=[O[0]&2,w.value]),O[0]){case 0:case 1:w=O;break;case 4:return g.label++,{value:O[1],done:!1};case 5:g.label++,T=O[1],O=[0];continue;case 7:O=g.ops.pop(),g.trys.pop();continue;default:if(w=g.trys,!(w=w.length>0&&w[w.length-1])&&(O[0]===6||O[0]===2)){g=0;continue}if(O[0]===3&&(!w||O[1]>w[0]&&O[1]<w[3])){g.label=O[1];break}if(O[0]===6&&g.label<w[1]){g.label=w[1],w=O;break}if(w&&g.label<w[2]){g.label=w[2],g.ops.push(O);break}w[2]&&g.ops.pop(),g.trys.pop();continue}O=p.call(d,g)}catch(G){O=[6,G],T=0}finally{E=w=0}if(O[0]&5)throw O[1];return{value:O[0]?O[1]:void 0,done:!0}}};Object.defineProperty(rr,"__esModule",{value:!0}),rr.useUnityContext=void 0;var n=Kn(),s=hA(),o=eV(),u=tV(),h=function(d){var p=(0,u.useNullableState)(),g=p[0],E=p[1],T=(0,n.useState)(0),w=T[0],N=T[1],P=(0,n.useState)(!1),q=P[0],O=P[1],G=(0,u.useNullableState)(),ee=G[0],W=G[1],de=(0,o.useEventSystem)(),le=(0,n.useRef)({setLoadingProgression:N,setInitialisationError:W,setUnityInstance:E,setIsLoaded:O,unityConfig:d}),ge=(0,n.useCallback)(function(V){if(g===null){console.warn(s.errorMessages.requestFullscreenNoUnityInstance);return}g.SetFullscreen(V===!0?1:0)},[g]),U=(0,n.useCallback)(function(){if(g===null||typeof g.Module.canvas>"u"){console.warn(s.errorMessages.requestPointerLockNoUnityInstanceOrCanvas);return}return g.Module.canvas.requestPointerLock()},[g]),R=(0,n.useCallback)(function(V,I,Fe){if(g===null){console.warn(s.errorMessages.sendMessageNoUnityInstance);return}g.SendMessage(V,I,Fe)},[g]),S=(0,n.useCallback)(function(V,I){if(g===null||typeof g.Module.canvas>"u"){console.warn(s.errorMessages.screenshotNoUnityInstanceOrCanvas);return}return g.Module.canvas.toDataURL(V,I)},[g]),D=(0,n.useCallback)(function(){return g===null?(console.warn(s.errorMessages.quitNoUnityInstance),Promise.reject()):g.Quit()},[g]),M=(0,n.useCallback)(function(){return i(void 0,void 0,void 0,function(){var V;return e(this,function(I){switch(I.label){case 0:return g===null||typeof g.Module.canvas>"u"?(console.warn(s.errorMessages.genericNoUnityInstance),[2,Promise.reject()]):(V=g.Module.canvas,document.body.appendChild(V),V.style.display="none",[4,D()]);case 1:return I.sent(),V.remove(),[2]}})})},[g]);return(0,n.useEffect)(function(){O(w===1)},[w]),{unityProvider:le.current,loadingProgression:w,initialisationError:ee,isLoaded:q,UNSAFE__unityInstance:g,requestFullscreen:ge,requestPointerLock:U,sendMessage:R,takeScreenshot:S,unload:D,UNSAFE__detachAndUnloadImmediate:M,addEventListener:de.addEventListener,removeEventListener:de.removeEventListener}};return rr.useUnityContext=h,rr}var ZE;function iV(){return ZE||(ZE=1,function(i){Object.defineProperty(i,"__esModule",{value:!0}),i.useUnityContext=i.Unity=void 0;var e=JM();Object.defineProperty(i,"Unity",{enumerable:!0,get:function(){return e.Unity}});var n=nV();Object.defineProperty(i,"useUnityContext",{enumerable:!0,get:function(){return n.useUnityContext}})}(hu)),hu}var JE=iV();if(typeof window<"u"){const i=Element.prototype.getBoundingClientRect;Element.prototype.getBoundingClientRect=function(){try{return i.apply(this)}catch{return new DOMRect(0,0,0,0)}},window.addEventListener("error",n=>{if(n.message&&n.message.includes("getBoundingClientRect"))return n.preventDefault(),n.stopPropagation(),!1},!0);const e=console.error;console.error=function(...n){if(!(n[0]&&typeof n[0]=="string"&&(n[0].includes("getBoundingClientRect")||n[0].includes("Invoking error handler"))))return e.apply(this,n)}}const eT=({width:i="100%",height:e="100%",onUnmount:n})=>{const s=z.useRef(null),[o,u]=z.useState(!1),[h,d]=z.useState(!1),p="/realms-of-war/",g=JE.useUnityContext({loaderUrl:`${p}build/mapeditor/Build.loader.js`,dataUrl:`${p}build/mapeditor/Build.data`,frameworkUrl:`${p}build/mapeditor/Build.framework.js`,codeUrl:`${p}build/mapeditor/Build.wasm`,webglContextAttributes:{preserveDrawingBuffer:!0}}),{unityProvider:E,isLoaded:T,loadingProgression:w}=g;return z.useEffect(()=>{u(!0);const N=setTimeout(()=>{d(!0)},300);return()=>{clearTimeout(N),u(!1),d(!1),typeof g.unload=="function"&&g.unload(),n&&n()}},[n]),z.useEffect(()=>{if(!s.current)return;const N=new ResizeObserver(()=>{s.current&&document.contains(s.current)&&(s.current.style.visibility="hidden",s.current.offsetHeight,s.current.style.visibility="visible")});return N.observe(s.current),()=>{N.disconnect()}},[s.current]),x.jsxs("div",{ref:s,style:{width:i,height:e,position:"relative",backgroundColor:"#0c1f1e"},id:"unity-container",className:"w-full h-full rounded-lg",children:[!T&&x.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:x.jsxs("div",{className:"text-center",children:[x.jsx("div",{className:"spinner mb-4"}),x.jsxs("p",{className:"text-white text-xl font-jersey",children:["Loading... (",Math.round(w*100),"%)"]})]})}),o&&h&&x.jsx(JE.Unity,{unityProvider:E,style:{visibility:T?"visible":"hidden",width:"100%",height:"100%",backgroundColor:"#0c1f1e"}})]})},tT=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes pulse {
    0% { opacity: 0.6; transform: scale(0.98); }
    50% { opacity: 1; transform: scale(1.02); }
    100% { opacity: 0.6; transform: scale(0.98); }
  }
  
  .spinner {
    border: 5px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 5px solid #fff;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
  }
  
  .pulse {
    animation: pulse 2s infinite ease-in-out;
  }
`,rV=()=>{const[i,e]=z.useState(null),[n,s]=z.useState(!1),[o,u]=z.useState(!0),[h,d]=z.useState("createMap"),[p,g]=z.useState([]),[E,T]=z.useState(!1),[w,N]=z.useState([]),[P,q]=z.useState(!1),[O,G]=z.useState(""),[ee,W]=z.useState(""),[de,le]=z.useState("Player"),ge=Au(),[U,R]=z.useState(!0),[S,D]=z.useState(!1),[M,V]=z.useState(!1),[I,Fe]=z.useState("Loading dashboard..."),[Ge,re]=z.useState(!1),[_e,pe]=z.useState(!1),Le=()=>{if(re(!1),pe(!0),window.gc)try{window.gc()}catch{console.log("Manual garbage collection not available")}console.clear&&console.clear(),setTimeout(()=>{pe(!1)},300)},k=ie=>{if(ie===h)return;W(""),G("");const we=h==="createMap"||h==="editMapTiles",Ne=ie==="createMap"||ie==="editMapTiles";if(_e){setTimeout(()=>k(ie),200);return}we&&Ge?(Le(),setTimeout(()=>{d(ie),Ne&&re(!0),ie==="mapList"?(V(!0),Ae().then(()=>V(!1))):ie==="userList"?(V(!0),ae().then(()=>V(!1))):ie==="clearAllData"&&et()},500)):(d(ie),Ne&&re(!0),ie==="mapList"?(V(!0),Ae().then(()=>V(!1))):ie==="userList"?(V(!0),ae().then(()=>V(!1))):ie==="clearAllData"&&et())},ne=async()=>{try{return await Promise.all([fe(),oe()]),new Promise(ie=>{setTimeout(()=>{u(!1),setTimeout(()=>{D(!0),R(!1),ie()},500)},1e3)})}catch(ie){throw console.error("Error loading initial data:",ie),W("There was a problem loading the dashboard. Please refresh the page."),u(!1),ie}};z.useEffect(()=>{const ie=Lp(ua,async we=>{if(R(!0),u(!0),!we){ge("/signin");return}e(we);try{const Ne=yo(Hn,"users",we.uid),it=await jb(Ne);if(it.exists()){const yt=it.data();if(s(yt.isAdmin||!1),yt.name)le(yt.name);else if(we.displayName)le(we.displayName);else if(we.email){const at=we.email.split("@")[0];le(at)}if(!yt.isAdmin){ge("/dashboard");return}await ne()}else{s(!1),ge("/dashboard");return}}catch(Ne){console.error("Error checking admin status:",Ne),ge("/dashboard");return}});return()=>ie()},[ge]),z.useEffect(()=>{let ie;return!o&&!S&&(ie=setTimeout(()=>{D(!0),R(!1)},1500)),()=>{ie&&clearTimeout(ie)}},[o,S]),z.useEffect(()=>{if(U){const ie=["Loading dashboard...","Preparing admin panel...","Loading user data...","Loading map data...","Almost ready..."];let we=0;const Ne=setInterval(()=>{Fe(ie[we]),we=(we+1)%ie.length},2e3);return()=>clearInterval(Ne)}},[U]);const fe=async()=>{try{const ie=uu(Hn,"users"),we=pp(ie,gp("createdAt","desc"),yp(50)),Ne=await DE(we),it=[];Ne.forEach(yt=>{const at=yt.data();it.push({id:yt.id,name:at.name||"Unknown",email:at.email||"No email",isAdmin:at.isAdmin||!1,createdAt:at.createdAt})}),g(it)}catch(ie){console.error("Error preloading users:",ie),W("Failed to load users. Please try again.")}},oe=async()=>{try{const ie=uu(Hn,"maps"),we=pp(ie,gp("createdAt","desc"),yp(20)),Ne=await DE(we),it=[];Ne.forEach(yt=>{const at=yt.data();it.push({id:yt.id,name:at.name||"Unnamed Map",description:at.description||"No description",imageUrl:at.imageUrl||"",width:at.width,height:at.height,createdAt:at.createdAt,createdBy:at.createdBy||"Unknown",mapData:at.mapData||null})}),N(it)}catch(ie){console.error("Error preloading maps:",ie),W("Failed to load maps. Please try again.")}},ae=async()=>{T(!0);try{await fe()}finally{T(!1)}},Ae=async()=>{q(!0);try{await oe()}finally{q(!1)}},Ie=async(ie,we)=>{try{await EO(yo(Hn,"users",ie),{isAdmin:!we}),G("User admin status toggled successfully"),ae()}catch(Ne){console.error("Error toggling admin status:",Ne),W("Failed to update user. Please try again.")}},lt=async(ie,we)=>{G(""),W(""),V(!0),document.body.style.cursor="wait";try{await zb(uu(Hn,"maps"),{imageUrl:"",createdAt:Cg(),createdBy:i.uid,mapData:we||null}),await Ae(),d("mapList")}catch(Ne){console.error("Error creating map:",Ne),W("Failed to create map. Please try again.")}finally{V(!1),document.body.style.cursor="default"}},je=async ie=>{if(confirm("Are you sure you want to delete this map? This action cannot be undone."))try{await TO(yo(Hn,"maps",ie)),G("Map deleted successfully"),Ae()}catch(we){console.error("Error deleting map:",we),W("Failed to delete map. Please try again.")}},et=()=>{confirm("WARNING: This will delete ALL data from the application. This action cannot be undone. Are you absolutely sure?")&&confirm("Last chance: This will PERMANENTLY DELETE all maps, users, and game data. Continue?")&&G("Clear all data functionality not yet implemented")};return z.useEffect(()=>{(h==="createMap"||h==="editMapTiles")&&re(!0)},[h]),z.useEffect(()=>{if(h==="createMap"){window.ReactUnityMapEditor={onMapSaved:we=>{console.log("Map data received from Unity:",we),V(!0),document.body.style.cursor="wait";try{const Ne=JSON.parse(we);lt(void 0,Ne).catch(it=>{console.error("Error saving map:",it),W("Failed to save map data from Unity"),document.body.style.cursor="default"})}catch(Ne){console.error("Error processing map data:",Ne),W("Failed to process map data from Unity"),V(!1),document.body.style.cursor="default"}}};const ie=we=>{console.log("Map data received via event:",we.detail),V(!0),document.body.style.cursor="wait";try{const{mapData:Ne}=we.detail,it=typeof Ne=="string"?JSON.parse(Ne):Ne;lt(void 0,it).catch(yt=>{console.error("Error saving map:",yt),W("Failed to save map data from Unity"),document.body.style.cursor="default"})}catch(Ne){console.error("Error processing map data:",Ne),W("Failed to process map data from Unity"),V(!1),document.body.style.cursor="default"}};return window.addEventListener("unity-map-saved",ie),()=>{window.removeEventListener("unity-map-saved",ie),document.body.style.cursor="default"}}},[h,i]),U||o||!S?x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center bg-[#093f3b]",children:[x.jsx("style",{children:tT}),x.jsx("div",{className:"spinner mb-6"}),x.jsx("p",{className:"text-white text-2xl font-jersey mt-4 pulse",children:I})]}):n?x.jsxs("div",{className:"min-h-screen w-full bg-[#093f3b]",children:[x.jsxs("h1",{className:"text-white text-[40px] font-jersey absolute",style:{top:"44px",left:"50px"},children:["Welcome back, ",de]}),x.jsxs("nav",{className:"flex items-center justify-end absolute",style:{top:"47px",right:"50px",gap:"40px"},children:[x.jsx(rt,{to:"/home",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Home"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/create",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Create"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/join",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Join"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/messages",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Messages"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/profile",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Profile"}),x.jsx("div",{className:"w-[1px] h-[38px] bg-white"}),x.jsx(rt,{to:"/rules",className:"text-white text-[24px] font-jersey hover:text-white drop-shadow-md",children:"Rules"})]}),x.jsxs("div",{className:"flex flex-col pt-32 px-16 pb-4 h-screen",children:[(O||ee)&&x.jsxs("div",{className:"absolute top-28 left-1/2 transform -translate-x-1/2 w-1/2 z-10",children:[ee&&x.jsx("div",{className:"bg-red-600/80 text-white p-3 rounded-lg mb-2 shadow-lg",children:x.jsx("p",{className:"font-jersey",children:ee})}),O&&x.jsx("div",{className:"bg-green-600/80 text-white p-3 rounded-lg shadow-lg",children:x.jsx("p",{className:"font-jersey",children:O})})]}),x.jsxs("div",{className:"w-full flex flex-col h-[calc(100vh-160px)]",children:[x.jsxs("div",{className:"flex",children:[x.jsx("button",{onClick:()=>k("createMap"),className:`text-white text-[24px] font-jersey py-3 px-8 rounded-t-lg focus:outline-none ${h==="createMap"?"bg-[#0E342F]":"bg-[#093f3b]"}`,children:"Create a Map"}),x.jsx("button",{onClick:()=>k("mapList"),className:`text-white text-[24px] font-jersey py-3 px-8 focus:outline-none ${h==="mapList"?"bg-[#0E342F]":"bg-[#093f3b]"}`,children:"Map List"}),x.jsx("button",{onClick:()=>k("editMapTiles"),className:`text-white text-[24px] font-jersey py-3 px-8 focus:outline-none ${h==="editMapTiles"?"bg-[#0E342F]":"bg-[#093f3b]"}`,children:"Edit Map Tiles"}),x.jsx("button",{onClick:()=>k("userList"),className:`text-white text-[24px] font-jersey py-3 px-8 focus:outline-none ${h==="userList"?"bg-[#0E342F]":"bg-[#093f3b]"}`,children:"User List"}),x.jsx("button",{onClick:()=>k("clearAllData"),className:`text-white text-[24px] font-jersey py-3 px-8 rounded-tr-lg focus:outline-none ${h==="clearAllData"?"bg-[#0E342F]":"bg-[#093f3b]"}`,children:"Clear All Data"})]}),x.jsxs("div",{className:"bg-[#0E342F] rounded-b-lg rounded-tr-lg p-4 flex-1 overflow-auto",children:[h==="createMap"&&x.jsxs("div",{className:"p-5 h-full relative",children:[M&&x.jsxs("div",{className:"absolute inset-0 bg-black z-10 flex flex-col items-center justify-center",children:[x.jsx("div",{className:"spinner mb-6",style:{width:"50px",height:"50px"}}),x.jsx("p",{className:"text-white text-2xl font-jersey mt-4 pulse",children:"Saving map..."})]}),x.jsx("div",{className:"h-full w-full",children:x.jsx("div",{className:"h-full w-full bg-[#0c1f1e] rounded-lg overflow-hidden flex",children:x.jsx(eT,{height:"100%",width:"100%",onUnmount:Le})})})]}),h==="mapList"&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-white text-2xl font-jersey",children:"Map List"}),x.jsx("button",{onClick:()=>{V(!0),Ae().then(()=>V(!1))},className:"bg-[#FF7700] hover:bg-[#FF8800] text-white px-4 py-2 rounded-[20px] font-jersey",style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:"Refresh"})]}),P||M?x.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[x.jsx("div",{className:"spinner mb-4",style:{width:"30px",height:"30px"}}),x.jsx("p",{className:"text-white",children:"Loading maps..."})]}):w.length>0?x.jsx("div",{className:"grid grid-cols-3 gap-4",children:w.map(ie=>{var we,Ne;return x.jsxs("div",{className:"bg-[#072a27] rounded-lg p-4",children:[x.jsx("h4",{className:"text-white text-xl mb-2",children:((we=ie.mapData)==null?void 0:we.mapName)||ie.name||"Unnamed Map"}),x.jsx("p",{className:"text-gray-300 mb-4 h-20 overflow-hidden",children:((Ne=ie.mapData)==null?void 0:Ne.mapDescription)||ie.description||"No description"}),x.jsxs("div",{className:"flex justify-between",children:[x.jsx("button",{className:"bg-[#FF7700] hover:bg-[#FF8800] text-white px-5 py-2 rounded-[20px] font-jersey",onClick:()=>k("editMapTiles"),style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:"Edit"}),x.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white px-5 py-2 rounded-[20px] font-jersey",onClick:()=>je(ie.id),style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:"Delete"})]})]},ie.id)})}):x.jsx("p",{className:"text-white",children:"No maps found."})]}),h==="editMapTiles"&&x.jsxs("div",{className:"h-full p-5",children:[x.jsx("h3",{className:"text-white text-2xl font-jersey mb-4",children:"Map Editor"}),x.jsx("div",{className:"h-[calc(100%-4rem)] w-full overflow-hidden",children:x.jsx(eT,{height:"100%",onUnmount:Le})})]}),h==="userList"&&x.jsxs("div",{children:[x.jsxs("div",{className:"flex justify-between items-center mb-4",children:[x.jsx("h3",{className:"text-white text-2xl font-jersey",children:"User List"}),x.jsx("button",{onClick:()=>{V(!0),ae().then(()=>V(!1))},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Refresh"})]}),E||M?x.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[x.jsx("div",{className:"spinner mb-4",style:{width:"30px",height:"30px"}}),x.jsx("p",{className:"text-white",children:"Loading users..."})]}):p.length>0?x.jsxs("table",{className:"w-full text-white",children:[x.jsx("thead",{className:"bg-[#072a27] border-b border-gray-600",children:x.jsxs("tr",{children:[x.jsx("th",{className:"p-2 text-left",children:"Name"}),x.jsx("th",{className:"p-2 text-left",children:"Email"}),x.jsx("th",{className:"p-2 text-center",children:"Admin"}),x.jsx("th",{className:"p-2 text-right",children:"Actions"})]})}),x.jsx("tbody",{children:p.map(ie=>x.jsxs("tr",{className:"border-b border-gray-700",children:[x.jsx("td",{className:"p-2",children:ie.name}),x.jsx("td",{className:"p-2",children:ie.email}),x.jsx("td",{className:"p-2 text-center",children:ie.isAdmin?x.jsx("span",{className:"bg-green-600 text-white px-2 py-1 rounded-full text-xs",children:"Yes"}):x.jsx("span",{className:"bg-gray-600 text-white px-2 py-1 rounded-full text-xs",children:"No"})}),x.jsx("td",{className:"p-2 text-right",children:x.jsx("button",{onClick:()=>Ie(ie.id,ie.isAdmin),className:ie.isAdmin?"bg-red-600 hover:bg-red-700 text-white px-2 py-1 rounded":"bg-green-600 hover:bg-green-700 text-white px-2 py-1 rounded",children:ie.isAdmin?"Remove Admin":"Make Admin"})})]},ie.id))})]}):x.jsx("p",{className:"text-white",children:"No users found."})]}),h==="clearAllData"&&x.jsxs("div",{children:[x.jsx("h3",{className:"text-white text-2xl font-jersey mb-4",children:"Clear All Data"}),x.jsx("p",{className:"text-white mb-6",children:"This action will delete ALL data from the application. This cannot be undone."}),x.jsx("button",{onClick:et,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded font-bold",children:"Clear All Data"})]}),h==="none"&&x.jsx("div",{className:"flex items-center justify-center h-[500px]",children:x.jsx("p",{className:"text-white text-2xl font-jersey",children:"Select an option from the menu"})})]})]})]})]}):x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center bg-[#093f3b]",children:[x.jsx("style",{children:tT}),x.jsx("div",{className:"text-white text-3xl font-jersey mb-4",children:"Access Denied"}),x.jsx("p",{className:"text-white text-xl font-jersey",children:"You don't have admin privileges"}),x.jsx("button",{onClick:()=>ge("/dashboard"),className:"mt-6 bg-[#0E342F] hover:bg-[#143f3b] text-white text-xl font-jersey rounded-lg py-2 px-6 transition-colors",style:{boxShadow:"0 4px 4px rgba(0, 0, 0, 0.25)"},children:"Return to Dashboard"})]})},sV=`
  @keyframes spin {
    0% { transform: rotate(0deg); }
    100% { transform: rotate(360deg); }
  }
  
  @keyframes pulse {
    0% { opacity: 0.6; transform: scale(0.98); }
    50% { opacity: 1; transform: scale(1.02); }
    100% { opacity: 0.6; transform: scale(0.98); }
  }
  
  .spinner {
    border: 5px solid rgba(255, 255, 255, 0.3);
    border-radius: 50%;
    border-top: 5px solid #fff;
    width: 50px;
    height: 50px;
    animation: spin 1s linear infinite;
  }
  
  .pulse {
    animation: pulse 2s infinite ease-in-out;
  }
`;function aV(){const[i,e]=z.useState(null),[n,s]=z.useState(!0),[o,u]=z.useState("Loading...");return z.useEffect(()=>{if(n){const h=["Loading...","Starting up...","Preparing Realms of War...","Almost ready..."];let d=0;const p=setInterval(()=>{u(h[d]),d=(d+1)%h.length},2e3);return()=>clearInterval(p)}},[n]),z.useEffect(()=>{try{const h=Lp(ua,d=>{e(d),setTimeout(()=>{s(!1)},1e3)});return()=>h()}catch(h){console.error("Error in auth state change:",h),s(!1)}},[]),n?x.jsxs("div",{className:"w-full min-h-screen flex flex-col items-center justify-center bg-[#093f3b]",children:[x.jsx("style",{children:sV}),x.jsx("div",{className:"spinner mb-6"}),x.jsx("p",{className:"text-white text-2xl font-jersey mt-4 pulse",children:o})]}):x.jsx(sx,{basename:"/",children:x.jsx("div",{className:"w-full min-h-screen",children:x.jsxs(PR,{children:[x.jsx(qn,{path:"/",element:i?x.jsx(ti,{to:"/dashboard"}):x.jsx(px,{})}),x.jsx(qn,{path:"/signin",element:i?x.jsx(ti,{to:"/dashboard"}):x.jsx(GM,{})}),x.jsx(qn,{path:"/signup",element:i?x.jsx(ti,{to:"/dashboard"}):x.jsx(KM,{})}),x.jsx(qn,{path:"/dashboard",element:i?x.jsx(ao,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"/admin",element:i?x.jsx(rV,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"/create",element:i?x.jsx(ao,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"/join",element:i?x.jsx(ao,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"/messages",element:i?x.jsx(ao,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"/profile",element:i?x.jsx(ao,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"/rules",element:i?x.jsx(ao,{}):x.jsx(ti,{to:"/signin"})}),x.jsx(qn,{path:"*",element:x.jsx(ti,{to:"/"})})]})})})}$S.createRoot(document.getElementById("root")).render(x.jsx(z.StrictMode,{children:x.jsx(aV,{})}))});export default oV();
